import{a as g,u as h}from"./use-quasar.9f5cef0c.js";import{a as u}from"./axios.4a244b56.js";import{r as y,u as b,l as F,a as v,S as w,P as c}from"./index.c5a18271.js";const R=()=>{const l=g(),s=y(!1),i=h(),m=b(),p=F();let n=null;i.token!==""&&(n=v.read(i.token).claim);const f=(t,e)=>{s.value=!1,l.dialog({title:"Confirmar",message:t,ok:{push:!0,label:"Eliminar",color:"teal-7"},cancel:{push:!0,color:"blue-grey-8",label:"Cancelar"}}).onOk(async()=>{try{await u.delete(e),o("positive","Registro eliminado exitosamente"),s.value=!0}catch(r){if(r.response.data.code=="23503")return o("negative","No es posible borrar este registro, se encuentra en uso.");o("negative",r.response.data.message)}})},o=(t,e,r="top-right")=>{w.xs&&(r="top");let a="";Array.isArray(e)?(a+="<ul>",e.forEach(d=>{a+=`<li> ${d}</li>`}),a+="</ul>"):a=e,l.notify({type:t,message:a,position:r,html:!0})};return{api:u,claim:n,confirmDelete:f,mostrarNotify:o,isDeleted:s,formatearNumero:t=>{let e=t.toString().split("."),r=parseFloat(e[0]);return e.length>1?r+=parseFloat("."+e[1].substring(0,2)):r+=parseFloat(".00"),parseFloat(r.toFixed(2))},showLoading:(t=!0)=>{t?c.show({message:"Cargando..."}):c.hide()},router:m,route:p}};export{R as u};

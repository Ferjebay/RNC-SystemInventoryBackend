import{aJ as ae,as as j,C as re,aM as ne,ap as T,aN as B,ay as G,am as E,aq as U,r as R,n as A,v as le,z as de,p as D,aC as ue,bl as ce,s as ee,Y as pe,bD as me,o as N,c as z,e as t,ac as n,f as g,i as O,a8 as w,g as x,a9 as $,ab as i,ah as ve,h as I,a7 as fe,ad as qe}from"./index.8b227ade.js";import{g as J,s as H}from"./touch.3df10340.js";import{d as ge}from"./QItemLabel.cf7f017c.js";import{u as xe}from"./use-cache.b0833c75.js";import{Q as C}from"./QSelect.7e21d6f1.js";import{Q as he}from"./QChip.63beaf05.js";import{Q}from"./QBadge.73b13209.js";import{u as ye}from"./useCliente.91ad12a8.js";function be(a){const p=[.06,6,50];return typeof a=="string"&&a.length&&a.split(":").forEach((h,c)=>{const r=parseFloat(h);r&&(p[c]=r)}),p}var we=ae({name:"touch-swipe",beforeMount(a,{value:p,arg:h,modifiers:c}){if(c.mouse!==!0&&j.has.touch!==!0)return;const r=c.mouseCapture===!0?"Capture":"",e={handler:p,sensitivity:be(h),direction:J(c),noop:re,mouseStart(u){H(u,e)&&ne(u)&&(T(e,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),e.start(u,!0))},touchStart(u){if(H(u,e)){const v=u.target;T(e,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),e.start(u)}},start(u,v){j.is.firefox===!0&&B(a,!0);const y=G(u);e.event={x:y.left,y:y.top,time:Date.now(),mouse:v===!0,dir:!1}},move(u){if(e.event===void 0)return;if(e.event.dir!==!1){E(u);return}const v=Date.now()-e.event.time;if(v===0)return;const y=G(u),V=y.left-e.event.x,q=Math.abs(V),_=y.top-e.event.y,f=Math.abs(_);if(e.event.mouse!==!0){if(q<e.sensitivity[1]&&f<e.sensitivity[1]){e.end(u);return}}else if(window.getSelection().toString()!==""){e.end(u);return}else if(q<e.sensitivity[2]&&f<e.sensitivity[2])return;const o=q/v,s=f/v;e.direction.vertical===!0&&q<f&&q<100&&s>e.sensitivity[0]&&(e.event.dir=_<0?"up":"down"),e.direction.horizontal===!0&&q>f&&f<100&&o>e.sensitivity[0]&&(e.event.dir=V<0?"left":"right"),e.direction.up===!0&&q<f&&_<0&&q<100&&s>e.sensitivity[0]&&(e.event.dir="up"),e.direction.down===!0&&q<f&&_>0&&q<100&&s>e.sensitivity[0]&&(e.event.dir="down"),e.direction.left===!0&&q>f&&V<0&&f<100&&o>e.sensitivity[0]&&(e.event.dir="left"),e.direction.right===!0&&q>f&&V>0&&f<100&&o>e.sensitivity[0]&&(e.event.dir="right"),e.event.dir!==!1?(E(u),e.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ge(),e.styleCleanup=l=>{e.styleCleanup=void 0,document.body.classList.remove("non-selectable");const k=()=>{document.body.classList.remove("no-pointer-events--children")};l===!0?setTimeout(k,50):k()}),e.handler({evt:u,touch:e.event.mouse!==!0,mouse:e.event.mouse,direction:e.event.dir,duration:v,distance:{x:q,y:f}})):e.end(u)},end(u){e.event!==void 0&&(U(e,"temp"),j.is.firefox===!0&&B(a,!1),e.styleCleanup!==void 0&&e.styleCleanup(!0),u!==void 0&&e.event.dir!==!1&&E(u),e.event=void 0)}};if(a.__qtouchswipe=e,c.mouse===!0){const u=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";T(e,"main",[[a,"mousedown","mouseStart",`passive${u}`]])}j.has.touch===!0&&T(e,"main",[[a,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[a,"touchmove","noop","notPassiveCapture"]])},updated(a,p){const h=a.__qtouchswipe;h!==void 0&&(p.oldValue!==p.value&&(typeof p.value!="function"&&h.end(),h.handler=p.value),h.direction=J(p.modifiers))},beforeUnmount(a){const p=a.__qtouchswipe;p!==void 0&&(U(p,"main"),U(p,"temp"),j.is.firefox===!0&&B(a,!1),p.styleCleanup!==void 0&&p.styleCleanup(),delete a.__qtouchswipe)}});const ot={name:{required:!0},disable:Boolean},Z={setup(a,{slots:p}){return()=>D("div",{class:"q-panel scroll",role:"tabpanel"},ee(p.default))}},it={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},at=["update:modelValue","beforeTransition","transition"];function rt(){const{props:a,emit:p,proxy:h}=de(),{getCacheWithFn:c}=xe();let r,e;const u=R(null),v=R(null);function y(d){const m=a.vertical===!0?"up":"left";P((h.$q.lang.rtl===!0?-1:1)*(d.direction===m?1:-1))}const V=A(()=>[[we,y,void 0,{horizontal:a.vertical!==!0,vertical:a.vertical,mouse:!0}]]),q=A(()=>a.transitionPrev||`slide-${a.vertical===!0?"down":"right"}`),_=A(()=>a.transitionNext||`slide-${a.vertical===!0?"up":"left"}`),f=A(()=>`--q-transition-duration: ${a.transitionDuration}ms`),o=A(()=>typeof a.modelValue=="string"||typeof a.modelValue=="number"?a.modelValue:String(a.modelValue)),s=A(()=>({include:a.keepAliveInclude,exclude:a.keepAliveExclude,max:a.keepAliveMax})),l=A(()=>a.keepAliveInclude!==void 0||a.keepAliveExclude!==void 0);le(()=>a.modelValue,(d,m)=>{const b=S(d)===!0?F(d):-1;e!==!0&&K(b===-1?0:b<F(m)?-1:1),u.value!==b&&(u.value=b,p("beforeTransition",d,m),pe(()=>{p("transition",d,m)}))});function k(){P(1)}function L(){P(-1)}function Y(d){p("update:modelValue",d)}function S(d){return d!=null&&d!==""}function F(d){return r.findIndex(m=>m.props.name===d&&m.props.disable!==""&&m.props.disable!==!0)}function te(){return r.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function K(d){const m=d!==0&&a.animated===!0&&u.value!==-1?"q-transition--"+(d===-1?q.value:_.value):null;v.value!==m&&(v.value=m)}function P(d,m=u.value){let b=m+d;for(;b>-1&&b<r.length;){const M=r[b];if(M!==void 0&&M.props.disable!==""&&M.props.disable!==!0){K(d),e=!0,p("update:modelValue",M.props.name),setTimeout(()=>{e=!1});return}b+=d}a.infinite===!0&&r.length!==0&&m!==-1&&m!==r.length&&P(d,d===-1?r.length:-1)}function W(){const d=F(a.modelValue);return u.value!==d&&(u.value=d),!0}function X(){const d=S(a.modelValue)===!0&&W()&&r[u.value];return a.keepAlive===!0?[D(me,s.value,[D(l.value===!0?c(o.value,()=>({...Z,name:o.value})):Z,{key:o.value,style:f.value},()=>d)])]:[D("div",{class:"q-panel scroll",style:f.value,key:o.value,role:"tabpanel"},[d])]}function se(){if(r.length!==0)return a.animated===!0?[D(ue,{name:v.value},X)]:X()}function oe(d){return r=ce(ee(d.default,[])).filter(m=>m.props!==null&&m.props.slot===void 0&&S(m.props.name)===!0),r.length}function ie(){return r}return Object.assign(h,{next:k,previous:L,goTo:Y}),{panelIndex:u,panelDirectives:V,updatePanelsList:oe,updatePanelIndex:W,getPanelContent:se,getEnabledPanels:te,getPanels:ie,isValidPanelName:S,keepAliveProps:s,needsUniqueKeepAliveWrapper:l,goToPanelByOffset:P,goToPanel:Y,nextPanel:k,previousPanel:L}}const $e={class:"col-12 flex justify-start items-center q-pt-none"},Ve={class:"row"},_e={class:"col-xs-12 col-md-7"},Ce={class:"row"},Ae={class:"col-xs-12 col-md-7"},ke={class:"row"},Pe={class:"col-xs-12 col-md-7"},je={class:"row"},De={class:"col-xs-12 col-md-7"},Se={class:"row"},Me={class:"col-xs-12 col-md-7"},Te={class:"row"},Ne={class:"col-xs-12 col-md-7"},Fe={class:"row"},Be={class:"col-xs-12 col-md-7"},Ee={class:"col-12 flex justify-start items-center q-py-md"},Ue={class:"row"},ze={class:"col-xs-12 col-md-7"},Ie={class:"col-md-12 q-py-md"},Qe={class:"row q-col-gutter-sm"},Re={class:"col-xs-12 col-md-4"},Le=t("span",{class:"text-weight-bold"},"15/12/2023",-1),Ye={class:"col-xs-12 col-md-4"},Ke=t("span",{class:"text-weight-bold"},"15/12/2023 12:01 AM",-1),We={class:"col-xs-12 col-md-4"},Xe=t("span",{class:"text-weight-bold"},"30/11/2023 12:01 AM",-1),nt={__name:"FactAndNot",props:["edit"],setup(a){const{api:p,mostrarNotify:h,formFacturacion:c,validacionesFacturacion:r,validarFormFact:e,step:u}=ye(),v=R(!1),y=async()=>{if(!e())try{v.value=!0;const{data:s}=await p.put(`/customers/actualizarDatosFactura/${c.value.id}`,c.value);c.value={...s.factura[0]},h("positive",s.msg),v.value=!1}catch(s){v.value=!1,h("warning",s.response.data.message)}};let V=new Array(28).fill(0).map((o,s)=>s+1),q=new Array(25).fill(0).map((o,s)=>`${s+1}  ${s==0?"D\xEDa":"D\xEDas"} antes`),_=new Array(25).fill(0).map((o,s)=>`${s+1}  ${s==0?"D\xEDa":"D\xEDas"}`),f=new Array(12).fill(0).map((o,s)=>`${s+1}  ${s==0?"Mes":"Meses"} ${s==0?"Vencido":"Vencidos"}`);return q.unshift("Desactivado"),f.unshift("Desactivado"),(o,s)=>(N(),z("div",{class:n(["row q-col-gutter-md",o.$q.screen.width>1022?"q-col-gutter-y-lg q-pt-md":""])},[t("div",$e,[t("label",{class:n(["text-h6 text-weight-medium",o.$q.screen.width>1022||"q-pt-xs"])},[g(O,{name:"description"}),w(" Facturaci\xF3n: ")],2)]),t("div",{class:n(["col-xs-12 col-md-6",(o.$q.screen.width<1022,"q-pt-xs")])},[t("div",Ve,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," Tipo: ",2)],2),t("div",_e,[g(C,{dense:"",modelValue:i(c).tipo,"onUpdate:modelValue":[s[0]||(s[0]=l=>i(c).tipo=l),s[1]||(s[1]=l=>i(r).tipo.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!i(r).tipo.isValid,"emit-value":"","map-options":"",options:[{label:"Prepago (Adelantado)",value:"prepago"},{label:"Postpago (Vencido)",value:"postpago"}]},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).tipo.message),3)]),_:1},8,["modelValue","error","options"])])])],2),t("div",{class:n(["col-xs-12 col-md-6",o.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[t("div",Ce,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," Dia Pago: ",2)],2),t("div",Ae,[g(C,{dense:"",modelValue:i(c).dia_pago,"onUpdate:modelValue":[s[2]||(s[2]=l=>i(c).dia_pago=l),s[3]||(s[3]=l=>i(r).dia_pago.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:i(V),error:!i(r).dia_pago.isValid},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).dia_pago.message),3)]),_:1},8,["modelValue","options","error"])])])],2),t("div",{class:n(["col-xs-12 col-md-6",o.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[t("div",ke,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," Crear Factura: ",2)],2),t("div",Pe,[g(C,{dense:"",modelValue:i(c).crear_factura,"onUpdate:modelValue":[s[4]||(s[4]=l=>i(c).crear_factura=l),s[5]||(s[5]=l=>i(r).crear_factura.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:i(q),error:!i(r).crear_factura.isValid},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).crear_factura.message),3)]),_:1},8,["modelValue","options","error"])])])],2),t("div",{class:n(["col-xs-12 col-md-6",o.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[t("div",je,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," Tipo Impuesto: ",2)],2),t("div",De,[g(C,{dense:"",modelValue:i(c).tipo_impuesto,"onUpdate:modelValue":[s[6]||(s[6]=l=>i(c).tipo_impuesto=l),s[7]||(s[7]=l=>i(r).tipo_impuesto.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:["Impuestos incluido","Mas impuestos","Ninguno"],error:!i(r).tipo_impuesto.isValid},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).tipo_impuesto.message),3)]),_:1},8,["modelValue","error"])])])],2),t("div",{class:n(["col-xs-12 col-md-6",o.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[t("div",Se,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," D\xEDas de gracia: ",2)],2),t("div",Me,[g(C,{dense:"",modelValue:i(c).dia_gracia,"onUpdate:modelValue":[s[8]||(s[8]=l=>i(c).dia_gracia=l),s[9]||(s[9]=l=>i(r).dia_gracia.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:i(_),hint:"*d\xEDas tolerancia para aplicar corte",error:!i(r).dia_gracia.isValid},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).dia_gracia.message),3)]),_:1},8,["modelValue","options","error"])])])],2),t("div",{class:n(["col-xs-12 col-md-6",o.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[t("div",Te,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," Aplicar Corte: ",2)],2),t("div",Ne,[g(C,{dense:"",modelValue:i(c).aplicar_corte,"onUpdate:modelValue":[s[10]||(s[10]=l=>i(c).aplicar_corte=l),s[11]||(s[11]=l=>i(r).aplicar_corte.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:i(f),error:!i(r).aplicar_corte.isValid},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).aplicar_corte.message),3)]),_:1},8,["modelValue","options","error"])])])],2),t("div",{class:n(["col-xs-12 col-md-6",o.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[t("div",Fe,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," Tipo Comprobante: ",2)],2),t("div",Be,[g(C,{dense:"",modelValue:i(c).tipo_comprobante,"onUpdate:modelValue":[s[12]||(s[12]=l=>i(c).tipo_comprobante=l),s[13]||(s[13]=l=>i(r).tipo_comprobante.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:["Factura","Recibo"],error:!i(r).tipo_comprobante.isValid},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).tipo_comprobante.message),3)]),_:1},8,["modelValue","error"])])])],2),t("div",Ee,[t("label",{class:n(["text-h6 text-weight-medium",o.$q.screen.width>1022||"q-pt-xs"])},[g(O,{name:"notifications"}),w(" Notificaciones: ")],2)]),t("div",{class:n(["col-xs-12 col-md-6",(o.$q.screen.width<1022,"q-pt-xs")])},[t("div",Ue,[t("div",{class:n(["col-xs-12 col-md-4 flex items-center justify-end",[o.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[t("label",{class:n(o.$q.screen.width<1022||"q-pr-md")}," Recordatorios de pago: ",2)],2),t("div",ze,[g(C,{dense:"",modelValue:i(c).recordatorio_pago,"onUpdate:modelValue":[s[14]||(s[14]=l=>i(c).recordatorio_pago=l),s[15]||(s[15]=l=>i(r).recordatorio_pago.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!i(r).recordatorio_pago.isValid,multiple:"","stack-label":"",options:["Correo","Telegram"]},{error:x(()=>[t("label",{class:n(o.$q.dark.isActive?"text-red-4":"text-negative")},$(i(r).recordatorio_pago.message),3)]),"selected-item":x(l=>[g(he,{color:"deep-orange-14","text-color":"white",icon:"done",removable:"",dense:"",onRemove:k=>l.removeAtIndex(l.index),tabindex:l.tabindex,class:"q-ma-none q-mr-sm"},{default:x(()=>[w($(l.opt),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","error"])])])],2),a.edit?(N(),z(ve,{key:0},[t("div",Ie,[t("div",Qe,[t("div",Re,[g(Q,{class:"text-center flex-center q-py-md",style:{width:"100%","text-align":"center","font-size":"15px"},outline:"",color:"lime-7"},{default:x(()=>[w(" D\xEDa de pago: "),Le]),_:1})]),t("div",Ye,[g(Q,{class:"text-center flex-center q-py-md",style:{width:"100%","text-align":"center","font-size":"15px"},outline:"",color:"red-4"},{default:x(()=>[w(" D\xEDa de corte: "),Ke]),_:1})]),t("div",We,[g(Q,{class:"text-center flex-center q-py-md",style:{width:"100%","text-align":"center","font-size":"15px"},outline:"",color:"cyan-4"},{default:x(()=>[w(" Crear factura: "),Xe]),_:1})])])]),t("div",{class:n(["col-xs-12 col-md-12 flex q-py-md justify-center",[o.$q.screen.width<600?" q-pt-none q-ml-md":""]]),style:{"padding-bottom":"0px"}},[g(I,{"icon-right":"save",onClick:y,loading:v.value,outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:x(()=>[w(" \xA0 Guardar\xA0 ")]),_:1},8,["loading"])],2)],64)):(N(),z("div",{key:1,class:n(["col-xs-12 col-md-12 flex q-py-md",[o.$q.screen.width<600?"justify-center q-pt-none q-ml-md":"justify-between"]]),style:{"padding-bottom":"0px"}},[o.$q.screen.width>600?(N(),fe(I,{key:0,icon:"arrow_back",onClick:s[16]||(s[16]=l=>u.value=1),outline:"",rounded:"",class:"q-ml-md",color:o.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:x(()=>[w(" \xA0 Anterior ")]),_:1},8,["color"])):qe("",!0),g(I,{onClick:i(e),"icon-right":"arrow_forward",outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:x(()=>[w(" \xA0 Siguiente\xA0 ")]),_:1},8,["onClick"])],2))],2))}};export{nt as _,it as a,at as b,rt as c,ot as u};

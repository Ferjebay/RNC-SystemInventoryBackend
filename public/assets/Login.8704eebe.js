import{d as f,r as i,u as v,o as _,c as b,e as t,w as y,f as o,g as u,Q as p,h as w,i as m}from"./index.d41bbc77.js";import{api as x}from"./axios.285a4291.js";import{u as h}from"./use-quasar.312cdeb8.js";import{u as V}from"./useHelpers.26f595d3.js";var S="/assets/logo.2e824ef4.png";const k={class:"area-login"},I=t("h1",{class:"title"},"Iniciar Sesion",-1),q={class:"login"},C=t("div",{class:"element-form"},[t("img",{src:S,style:{width:"80%","margin-left":"29px","margin-top":"48px","margin-bottom":"24px"}})],-1),U=["onSubmit"],E=f({__name:"Login",setup(B){const l=i(!0),r=i(!1),a=i({email:"juan@gmail.com",password:"testing"}),{mostrarNotify:d}=V(),c=v(),g=async()=>{try{r.value=!0;const{data:{token:s}}=await x.post("/auth/login",a.value);h().setToken(s),c.push("/"),r.value=!1}catch(s){s.response.data.message=="Credentials not valid(password)"&&d("warning","La contrase\xF1a esta incorrecta"),s.response.data.message=="Credentials not valid(email)"&&d("warning","El email esta incorrecto"),r.value=!1}};return(s,e)=>(_(),b("section",k,[I,t("div",q,[C,t("form",{onSubmit:y(g,["prevent"]),class:"element-form q-mt-md"},[o(p,{"label-color":"blue-grey-3",class:"q-mb-lg","bg-color":"blue-grey-10",filled:"",label:"Ingresa tu email",modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value.email=n),modelModifiers:{trim:!0},required:""},{prepend:u(()=>[o(m,{name:"person",color:"blue-grey-3"})]),_:1},8,["modelValue"]),o(p,{type:l.value?"password":"text","label-color":"blue-grey-3",filled:"","bg-color":"blue-grey-10",label:"Ingresa tu contrase\xF1a",modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=n=>a.value.password=n),modelModifiers:{trim:!0},required:""},{append:u(()=>[o(m,{name:l.value?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:e[1]||(e[1]=n=>l.value=!l.value)},null,8,["name"])]),prepend:u(()=>[o(m,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue"]),o(w,{label:"Ingresar",class:"q-px-xl",loading:r.value,type:"submit",color:"deep-purple-6"},null,8,["loading"])],40,U)])]))}});export{E as default};

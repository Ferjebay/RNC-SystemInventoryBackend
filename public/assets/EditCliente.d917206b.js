import{Q as _t,a as Te}from"./QBreadcrumbs.581d4338.js";import{r as I,k as pt,t as Ve,n as Q,x as He,B as gt,bE as Ge,N as ee,a6 as ne,p as j,am as ze,al as bt,bf as ht,i as re,M as yt,z as Ee,bb as qt,aH as wt,m as be,au as ke,V as Ke,v as ge,a0 as $t,K as Ct,L as xt,s as Ze,H as Pt,I as It,Z as Tt,o as $,a7 as A,g as o,e as l,ac as h,f as t,Q as Z,ab as p,a9 as P,h as W,a8 as w,a5 as Vt,aQ as Ye,af as De,bp as kt,c as te,ad as ae,aP as he,bF as At,bG as St,ah as Se,ag as Rt,aI as Et,aS as Dt,aT as Mt}from"./index.81388925.js";import{u as ye}from"./useCliente.fe707867.js";import{a as Ft,b as Qt}from"./axios.f10301ce.js";import"./use-quasar.ae80257d.js";import{Q as Nt}from"./QResizeObserver.a552e3fe.js";import{r as Bt,Q as Re}from"./QSelect.5e0a3293.js";import{u as Lt,a as jt,b as Ot,c as Ut,_ as zt}from"./FactAndNot.c5a44bac.js";import{Q as qe}from"./QForm.e97face7.js";import{Q as Xe,a as L}from"./QTable.e0da7349.js";import{Q as ce}from"./QBadge.aa601c2d.js";import{Q as We,a as Ae}from"./QTooltip.b1862f3a.js";import{a as ie,Q as Y,c as K}from"./QItemLabel.341e07ae.js";import{Q as Kt}from"./QList.f0f8958d.js";import{C as Yt}from"./ClosePopup.c6d13359.js";import{d as ue}from"./date.6a03e094.js";import{M as Wt}from"./index.2065a85c.js";import"./useHelpers.cf085f43.js";import"./QChip.47365e0f.js";import"./format.2bc25e5f.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";const Ht=I([]),Gt=I(),Zt=I(!1),Xt=I([]),we=()=>({api:Ft,servicios:Ht,showModalPago:Zt,factura:Gt,pagos:Xt});let Jt=0;const ea=["click","keydown"],ta={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Jt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function aa(a,b,v,u){const i=pt(Ge,Ve);if(i===Ve)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ve;const{proxy:V}=Ee(),q=I(null),M=I(null),f=I(null),d=Q(()=>a.disable===!0||a.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},a.ripple===!0?{}:a.ripple)),r=Q(()=>i.currentModel.value===a.name),C=Q(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(a.icon&&a.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(a.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(a.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(u!==void 0?u.linkClass.value:"")),B=Q(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(a.contentClass!==void 0?` ${a.contentClass}`:"")),E=Q(()=>a.disable===!0||i.hasFocus.value===!0||r.value===!1&&i.hasActiveTab.value===!0?-1:a.tabindex||0);function F(e,_){if(_!==!0&&q.value!==null&&q.value.focus(),a.disable===!0){u!==void 0&&u.hasRouterLink.value===!0&&ze(e);return}if(u===void 0){i.updateModel({name:a.name}),v("click",e);return}if(u.hasRouterLink.value===!0){const T=(k={})=>{let O;const D=k.to===void 0||qt(k.to,a.to)===!0?i.avoidRouteWatcher=wt():null;return u.navigateToRouterLink(e,{...k,returnRouterError:!0}).catch(H=>{O=H}).then(H=>{if(D===i.avoidRouteWatcher&&(i.avoidRouteWatcher=!1,O===void 0&&(H===void 0||H.message.startsWith("Avoided redundant navigation")===!0)&&i.updateModel({name:a.name})),k.returnRouterError===!0)return O!==void 0?Promise.reject(O):H})};v("click",e,T),e.defaultPrevented!==!0&&T();return}v("click",e)}function U(e){bt(e,[13,32])?F(e,!0):ht(e)!==!0&&e.keyCode>=35&&e.keyCode<=40&&e.altKey!==!0&&e.metaKey!==!0&&i.onKbdNavigate(e.keyCode,V.$el)===!0&&ze(e),v("keydown",e)}function z(){const e=i.tabProps.value.narrowIndicator,_=[],T=j("div",{ref:f,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});a.icon!==void 0&&_.push(j(re,{class:"q-tab__icon",name:a.icon})),a.label!==void 0&&_.push(j("div",{class:"q-tab__label"},a.label)),a.alert!==!1&&_.push(a.alertIcon!==void 0?j(re,{class:"q-tab__alert-icon",color:a.alert!==!0?a.alert:void 0,name:a.alertIcon}):j("div",{class:"q-tab__alert"+(a.alert!==!0?` text-${a.alert}`:"")})),e===!0&&_.push(T);const k=[j("div",{class:"q-focus-helper",tabindex:-1,ref:q}),j("div",{class:B.value},yt(b.default,_))];return e===!1&&k.push(T),k}const c={name:Q(()=>a.name),rootRef:M,tabIndicatorRef:f,routeData:u};He(()=>{i.unregisterTab(c)}),gt(()=>{i.registerTab(c)});function s(e,_){const T={ref:M,class:C.value,tabindex:E.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":a.disable===!0?"true":void 0,onClick:F,onKeydown:U,..._};return ee(j(e,T,z()),[[ne,d.value]])}return{renderTab:s,$tabs:i}}var de=be({name:"QTab",props:ta,emits:ea,setup(a,{slots:b,emit:v}){const{renderTab:u}=aa(a,b,v);return()=>u("div")}});function oa(a,b,v){const u=v===!0?["left","right"]:["top","bottom"];return`absolute-${b===!0?u[0]:u[1]}${a?` text-${a}`:""}`}const la=["left","center","right","justify"];var Je=be({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:a=>la.includes(a)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(a,{slots:b,emit:v}){const{proxy:u}=Ee(),{$q:i}=u,{registerTick:V}=ke(),{registerTick:q}=ke(),{registerTick:M}=ke(),{registerTimeout:f,removeTimeout:d}=Ke(),{registerTimeout:r,removeTimeout:C}=Ke(),B=I(null),E=I(null),F=I(a.modelValue),U=I(!1),z=I(!0),c=I(!1),s=I(!1),e=[],_=I(0),T=I(!1);let k=null,O=null,D;const H=Q(()=>({activeClass:a.activeClass,activeColor:a.activeColor,activeBgColor:a.activeBgColor,indicatorClass:oa(a.indicatorColor,a.switchIndicator,a.vertical),narrowIndicator:a.narrowIndicator,inlineLabel:a.inlineLabel,noCaps:a.noCaps})),$e=Q(()=>{const n=_.value,m=F.value;for(let g=0;g<n;g++)if(e[g].name.value===m)return!0;return!1}),tt=Q(()=>`q-tabs__content--align-${U.value===!0?"left":s.value===!0?"justify":a.align}`),at=Q(()=>`q-tabs row no-wrap items-center q-tabs--${U.value===!0?"":"not-"}scrollable q-tabs--${a.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${a.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${a.mobileArrows===!0?"":"out"}-arrows`+(a.dense===!0?" q-tabs--dense":"")+(a.shrink===!0?" col-shrink":"")+(a.stretch===!0?" self-stretch":"")),ot=Q(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+tt.value+(a.contentClass!==void 0?` ${a.contentClass}`:"")),ve=Q(()=>a.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),fe=Q(()=>a.vertical!==!0&&i.lang.rtl===!0),Ce=Q(()=>Bt===!1&&fe.value===!0);ge(fe,se),ge(()=>a.modelValue,n=>{xe({name:n,setCurrent:!0,skipEmit:!0})}),ge(()=>a.outsideArrows,_e);function xe({name:n,setCurrent:m,skipEmit:g}){F.value!==n&&(g!==!0&&a["onUpdate:modelValue"]!==void 0&&v("update:modelValue",n),(m===!0||a["onUpdate:modelValue"]===void 0)&&(lt(F.value,n),F.value=n))}function _e(){V(()=>{Me({width:B.value.offsetWidth,height:B.value.offsetHeight})})}function Me(n){if(ve.value===void 0||E.value===null)return;const m=n[ve.value.container],g=Math.min(E.value[ve.value.scroll],Array.prototype.reduce.call(E.value.children,(R,x)=>R+(x[ve.value.content]||0),0)),S=m>0&&g>m;U.value=S,S===!0&&q(se),s.value=m<parseInt(a.breakpoint,10)}function lt(n,m){const g=n!=null&&n!==""?e.find(R=>R.name.value===n):null,S=m!=null&&m!==""?e.find(R=>R.name.value===m):null;if(g&&S){const R=g.tabIndicatorRef.value,x=S.tabIndicatorRef.value;k!==null&&(clearTimeout(k),k=null),R.style.transition="none",R.style.transform="none",x.style.transition="none",x.style.transform="none";const y=R.getBoundingClientRect(),N=x.getBoundingClientRect();x.style.transform=a.vertical===!0?`translate3d(0,${y.top-N.top}px,0) scale3d(1,${N.height?y.height/N.height:1},1)`:`translate3d(${y.left-N.left}px,0,0) scale3d(${N.width?y.width/N.width:1},1,1)`,M(()=>{k=setTimeout(()=>{k=null,x.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",x.style.transform="none"},70)})}S&&U.value===!0&&le(S.rootRef.value)}function le(n){const{left:m,width:g,top:S,height:R}=E.value.getBoundingClientRect(),x=n.getBoundingClientRect();let y=a.vertical===!0?x.top-S:x.left-m;if(y<0){E.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(y),se();return}y+=a.vertical===!0?x.height-R:x.width-g,y>0&&(E.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(y),se())}function se(){const n=E.value;if(n===null)return;const m=n.getBoundingClientRect(),g=a.vertical===!0?n.scrollTop:Math.abs(n.scrollLeft);fe.value===!0?(z.value=Math.ceil(g+m.width)<n.scrollWidth-1,c.value=g>0):(z.value=g>0,c.value=a.vertical===!0?Math.ceil(g+m.height)<n.scrollHeight:Math.ceil(g+m.width)<n.scrollWidth)}function Fe(n){O!==null&&clearInterval(O),O=setInterval(()=>{it(n)===!0&&X()},5)}function Qe(){Fe(Ce.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ne(){Fe(Ce.value===!0?0:Number.MAX_SAFE_INTEGER)}function X(){O!==null&&(clearInterval(O),O=null)}function st(n,m){const g=Array.prototype.filter.call(E.value.children,N=>N===m||N.matches&&N.matches(".q-tab.q-focusable")===!0),S=g.length;if(S===0)return;if(n===36)return le(g[0]),g[0].focus(),!0;if(n===35)return le(g[S-1]),g[S-1].focus(),!0;const R=n===(a.vertical===!0?38:37),x=n===(a.vertical===!0?40:39),y=R===!0?-1:x===!0?1:void 0;if(y!==void 0){const N=fe.value===!0?-1:1,G=g.indexOf(m)+y*N;return G>=0&&G<S&&(le(g[G]),g[G].focus({preventScroll:!0})),!0}}const nt=Q(()=>Ce.value===!0?{get:n=>Math.abs(n.scrollLeft),set:(n,m)=>{n.scrollLeft=-m}}:a.vertical===!0?{get:n=>n.scrollTop,set:(n,m)=>{n.scrollTop=m}}:{get:n=>n.scrollLeft,set:(n,m)=>{n.scrollLeft=m}});function it(n){const m=E.value,{get:g,set:S}=nt.value;let R=!1,x=g(m);const y=n<x?-1:1;return x+=y*5,x<0?(R=!0,x=0):(y===-1&&x<=n||y===1&&x>=n)&&(R=!0,x=n),S(m,x),se(),R}function Be(n,m){for(const g in n)if(n[g]!==m[g])return!1;return!0}function rt(){let n=null,m={matchedLen:0,queryDiff:9999,hrefLen:0};const g=e.filter(y=>y.routeData!==void 0&&y.routeData.hasRouterLink.value===!0),{hash:S,query:R}=u.$route,x=Object.keys(R).length;for(const y of g){const N=y.routeData.exact.value===!0;if(y.routeData[N===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:G,query:Pe,matched:vt,href:ft}=y.routeData.resolvedLink.value,Ie=Object.keys(Pe).length;if(N===!0){if(G!==S||Ie!==x||Be(R,Pe)===!1)continue;n=y.name.value;break}if(G!==""&&G!==S||Ie!==0&&Be(Pe,R)===!1)continue;const J={matchedLen:vt.length,queryDiff:x-Ie,hrefLen:ft.length-G.length};if(J.matchedLen>m.matchedLen){n=y.name.value,m=J;continue}else if(J.matchedLen!==m.matchedLen)continue;if(J.queryDiff<m.queryDiff)n=y.name.value,m=J;else if(J.queryDiff!==m.queryDiff)continue;J.hrefLen>m.hrefLen&&(n=y.name.value,m=J)}n===null&&e.some(y=>y.routeData===void 0&&y.name.value===F.value)===!0||xe({name:n,setCurrent:!0})}function ct(n){if(d(),T.value!==!0&&B.value!==null&&n.target&&typeof n.target.closest=="function"){const m=n.target.closest(".q-tab");m&&B.value.contains(m)===!0&&(T.value=!0,U.value===!0&&le(m))}}function ut(){f(()=>{T.value=!1},30)}function pe(){je.avoidRouteWatcher===!1?r(rt):C()}function Le(){if(D===void 0){const n=ge(()=>u.$route.fullPath,pe);D=()=>{n(),D=void 0}}}function dt(n){e.push(n),_.value++,_e(),n.routeData===void 0||u.$route===void 0?r(()=>{if(U.value===!0){const m=F.value,g=m!=null&&m!==""?e.find(S=>S.name.value===m):null;g&&le(g.rootRef.value)}}):(Le(),n.routeData.hasRouterLink.value===!0&&pe())}function mt(n){e.splice(e.indexOf(n),1),_.value--,_e(),D!==void 0&&n.routeData!==void 0&&(e.every(m=>m.routeData===void 0)===!0&&D(),pe())}const je={currentModel:F,tabProps:H,hasFocus:T,hasActiveTab:$e,registerTab:dt,unregisterTab:mt,verifyRouteModel:pe,updateModel:xe,onKbdNavigate:st,avoidRouteWatcher:!1};$t(Ge,je);function Oe(){k!==null&&clearTimeout(k),X(),D!==void 0&&D()}let Ue;return He(Oe),Ct(()=>{Ue=D!==void 0,Oe()}),xt(()=>{Ue===!0&&Le(),_e()}),()=>j("div",{ref:B,class:at.value,role:"tablist",onFocusin:ct,onFocusout:ut},[j(Nt,{onResize:Me}),j("div",{ref:E,class:ot.value,onScroll:se},Ze(b.default)),j(re,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:a.leftIcon||i.iconSet.tabs[a.vertical===!0?"up":"left"],onMousedownPassive:Qe,onTouchstartPassive:Qe,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X}),j(re,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(c.value===!0?"":" q-tabs__arrow--faded"),name:a.rightIcon||i.iconSet.tabs[a.vertical===!0?"down":"right"],onMousedownPassive:Ne,onTouchstartPassive:Ne,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X})])}}),me=be({name:"QTabPanel",props:Lt,setup(a,{slots:b}){return()=>j("div",{class:"q-tab-panel",role:"tabpanel"},Ze(b.default))}}),et=be({name:"QTabPanels",props:{...jt,...Pt},emits:Ot,setup(a,{slots:b}){const v=Ee(),u=It(a,v.proxy.$q),{updatePanelsList:i,getPanelContent:V,panelDirectives:q}=Ut(),M=Q(()=>"q-tab-panels q-panel-parent"+(u.value===!0?" q-tab-panels--dark q-dark":""));return()=>(i(b),Tt("div",{class:M.value},V(),"pan",a.swipeable,()=>q.value))}});const sa={class:"my-card"},na={class:"q-pt-none"},ia={class:"row q-pt-sm"},ra={class:"col-xs-12 col-md-8"},ca={class:"row"},ua=l("div",{class:"col-11 flex justify-start items-center"},[l("label",{class:"text-h6 text-weight-medium"}," >> Datos del Cliente:")],-1),da={class:"col-xs-12 col-md-6 col-sm-6"},ma={class:"col-xs-12 col-md-6 col-sm-6"},va={class:"col-xs-12 col-md-6 col-sm-6"},fa={class:"col-xs-12 col-md-6 col-sm-6"},_a={class:"col-xs-12 col-md-6 col-sm-6"},pa={class:"col-xs-12 col-md-6 col-sm-6"},ga={class:"col-xs-11 col-md-4"},ba={class:"row"},ha=l("label",{class:"text-h6 text-weight-medium"}," >> Resumen Notificaciones:",-1),ya=[ha],qa=l("label",null,null,-1),wa={class:"row justify-center q-mt-md"},$a={__name:"ResumenPage",setup(a){const{api:b,mostrarNotify:v,formCliente:u,validaciones:i,validarDatosPersonales:V}=ye(),q=I(!1),M=async()=>{if(!V())try{q.value=!0;const{planInternet:d,created_at:r,updated_at:C,...B}=u.value,{data:E}=await b.put(`/customers/actualizarDatosPersonales/${u.value.id}`,B);u.value={...E.cliente[0]},v("positive",E.msg),q.value=!1}catch(d){q.value=!1,v("warning",d.response.data.message)}};return(f,d)=>($(),A(qe,{onSubmit:M},{default:o(()=>[l("div",sa,[l("div",na,[l("div",ia,[l("div",ra,[l("div",ca,[ua,l("div",{class:h(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[l("label",{class:h(f.$q.screen.width<1022||"q-pr-md")}," Cliente: ",2)],2),l("div",da,[t(Z,{modelValue:p(u).nombres,"onUpdate:modelValue":[d[0]||(d[0]=r=>p(u).nombres=r),d[1]||(d[1]=r=>(p(u).nombres=p(u).nombres.toUpperCase(),p(i).nombres.isValid=!0))],modelModifiers:{trim:!0},error:!p(i).nombres.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:o(()=>[l("label",{class:h(f.$q.dark.isActive?"text-red-4":"text-negative")},P(p(i).nombres.message),3)]),_:1},8,["modelValue","error"])]),l("div",{class:h(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[l("label",{class:h(f.$q.screen.width<1022||"q-pr-md")}," Email: ",2)],2),l("div",ma,[t(Z,{modelValue:p(u).email,"onUpdate:modelValue":d[2]||(d[2]=r=>p(u).email=r),modelModifiers:{trim:!0},error:!p(i).email.isValid,"input-class":"resaltarTextoInput",onKeyup:d[3]||(d[3]=r=>p(i).email.isValid=!0),dense:"",outlined:""},{error:o(()=>[l("label",{class:h(f.$q.dark.isActive?"text-red-4":"text-negative")},P(p(i).email.message),3)]),_:1},8,["modelValue","error"])]),l("div",{class:h(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[l("label",{class:h(f.$q.screen.width<1022||"q-pr-md")}," Celular: ",2)],2),l("div",va,[t(Z,{type:f.$q.platform.is.mobile?"number":"text",modelValue:p(u).celular,"onUpdate:modelValue":d[4]||(d[4]=r=>p(u).celular=r),modelModifiers:{trim:!0},counter:"",maxlength:"10","input-class":"resaltarTextoInput",error:!p(i).celular.isValid,onKeyup:d[5]||(d[5]=r=>(p(i).celular.isValid=!0,p(u).celular=p(u).celular.replace(/\D/g,""))),dense:"",outlined:""},{error:o(()=>[l("label",{class:h(f.$q.dark.isActive?"text-red-4":"text-negative")},P(p(i).celular.message),3)]),_:1},8,["type","modelValue","error"])]),l("div",{class:h(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[l("label",{class:h(f.$q.screen.width<1022||"q-pr-md")}," Direcci\xF3n: ",2)],2),l("div",fa,[t(Z,{modelValue:p(u).direccion,"onUpdate:modelValue":d[6]||(d[6]=r=>p(u).direccion=r),error:!p(i).direccion.isValid,"input-class":"resaltarTextoInput",onKeyup:d[7]||(d[7]=r=>p(i).direccion.isValid=!0),dense:"",outlined:""},{error:o(()=>[l("label",{class:h(f.$q.dark.isActive?"text-red-4":"text-negative")},P(p(i).direccion.message),3)]),_:1},8,["modelValue","error"])]),l("div",{class:h(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[l("label",{class:h(f.$q.screen.width<1022||"q-pr-md")}," Tipo de Documento: ",2)],2),l("div",_a,[t(Re,{dense:"",modelValue:p(u).tipo_documento,"onUpdate:modelValue":[d[8]||(d[8]=r=>p(u).tipo_documento=r),d[9]||(d[9]=r=>p(i).tipo_documento.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!p(i).tipo_documento.isValid,"emit-value":"","map-options":"",options:[{label:"RUC",value:"04"},{label:"Cedula",value:"05"},{label:"Pasaporte",value:"06"}]},{error:o(()=>[l("label",{class:h(f.$q.dark.isActive?"text-red-4":"text-negative")},P(p(i).tipo_documento.message),3)]),_:1},8,["modelValue","error"])]),l("div",{class:h(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[l("label",{class:h(f.$q.screen.width<1022||"q-pr-md")}," N. Identificaci\xF3n: ",2)],2),l("div",pa,[t(Z,{type:f.$q.platform.is.mobile?"number":"text",modelValue:p(u).numero_documento,"onUpdate:modelValue":d[10]||(d[10]=r=>p(u).numero_documento=r),readonly:p(u).tipo_documento==="","input-class":"resaltarTextoInput",counter:"",maxlength:p(u).tipo_documento==="04"?13:10,error:!p(i).numero_documento.isValid,onKeyup:d[11]||(d[11]=r=>(p(i).numero_documento.isValid=!0,p(u).numero_documento=p(u).numero_documento.replace(/\D/g,""))),dense:"",outlined:""},{error:o(()=>[l("label",{class:h(f.$q.dark.isActive?"text-red-4":"text-negative")},P(p(i).numero_documento.message),3)]),_:1},8,["type","modelValue","readonly","maxlength","error"])])])]),l("div",ga,[l("div",ba,[l("div",{class:h(["col-11 flex justify-start items-center",[f.$q.screen.xs?"q-my-md":""]])},ya,2),qa])])])]),l("div",wa,[l("div",{class:h(["q-pb-md",[f.$q.screen.width>600||" q-ml-lg"]])},[t(W,{type:"submit",icon:"save",loading:q.value,outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:o(()=>[w(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])],2)])])]),_:1}))}};const Ca={class:"my-card"},xa={class:"q-pt-none"},Pa={class:"row q-pt-sm"},Ia={class:"col-12"},Ta={class:"row"},Va=l("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),ka={class:"text-h6 text-weight-medium"},Aa={class:"col-12 q-mt-md"},Sa={__name:"ServiciosPage",setup(a){const b=[{name:"cont",label:"#",align:"center"},{name:"nombre_plan",align:"center",label:"Plan",field:"nombre_plan"},{name:"precio",label:"Costo",field:"precio",align:"center"},{name:"ipv4",label:"IP",field:"ipv4",align:"center"},{name:"router",label:"Router",field:"router",align:"center"},{name:"fecha_instalacion",label:"Instalado",field:"fecha_instalacion",align:"center"},{name:"direccion",label:"Direcci\xF3n",field:"direccion",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}],{servicios:v}=we(),u=v.value;return(i,V)=>($(),A(qe,{onSubmit:V[0]||(V[0]=()=>{})},{default:o(()=>[l("div",Ca,[l("div",xa,[l("div",Pa,[l("div",Ia,[l("div",Ta,[l("div",{class:h(["col-12 flex items-center",i.$q.screen.xs?"justify-center":"justify-between"])},[Va,l("label",ka,[t(W,{outline:"",color:"primary",label:"Agregar Servicio",class:h(["q-mr-xs",!i.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),l("div",Aa,[t(Xe,{rows:p(u),columns:b,class:h([i.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{"body-cell-cont":o(q=>[t(L,{props:q},{default:o(()=>[w(P(q.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-estado":o(q=>[t(L,{props:q},{default:o(()=>[q.row.estado=="Activo"?($(),A(ce,{key:0,outline:"",color:"positive",label:"Activo",class:"q-pa-sm"})):($(),A(ce,{key:1,outline:"",color:"red",label:"Inactivo",class:"q-pa-sm"}))]),_:2},1032,["props"])]),"body-cell-acciones":o(q=>[t(L,{props:q},{default:o(()=>[w(P(q.rowIndex+1),1)]),_:2},1032,["props"])]),_:1},8,["rows","class"])])])])])])])]),_:1}))}},Ra={__name:"ConfiguracionPage",setup(a){return(b,v)=>($(),A(zt,{edit:!0}))}};const oe=a=>(At("data-v-672c02d6"),a=a(),St(),a),Ea={class:"text-h6 text-center"},Da={class:"row q-pt-lg q-gutter-lg justify-center"},Ma={class:"col-12"},Fa=oe(()=>l("label",null,"Forma de pago:",-1)),Qa={class:"col-12 q-mt-sm"},Na=oe(()=>l("label",null,"N\xBA transacci\xF3n:",-1)),Ba={class:"col-12 q-mt-sm"},La=oe(()=>l("label",null,"Pagar Importe Total:",-1)),ja={class:"col-12 q-mt-sm"},Oa=oe(()=>l("label",null,"Monto a Cancelar:",-1)),Ua={class:"col-12 q-mt-sm"},za=oe(()=>l("label",null,"Monto Pendiente:",-1)),Ka={key:0,class:"col-12 q-mt-sm"},Ya=oe(()=>l("label",null,"Sucursal a Facturar:",-1)),Wa={class:"col-12 q-mt-none"},Ha=oe(()=>l("label",null,"Notas:",-1)),Ga={class:"col-xs-9 col-sm-12 q-mt-lg q-mb-md flex justify-center"},Za={__name:"ModalPago",props:["servicio","nuevoPago"],emits:["actualizarDatos"],setup(a,{emit:b}){const v=a,u=["forma_pago","montoPendiente","montoCancelar"],{api:i,claim:V,mostrarNotify:q,route:M}=ye(),{showModalPago:f}=we(),d=I([]),r=I({forma_pago:"",num_transaccion:"",importe_total:!0,sucursal_id:"",montoCancelar:"",montoPendiente:"",detalle:""}),C=I({forma_pago:{message:"",isValid:!0},montoPendiente:{message:"",isValid:!0},montoCancelar:{message:"",isValid:!0},sucursal_id:{message:"",isValid:!0}});if(v.servicio.pagos.length==0)r.value.montoPendiente=v.servicio.precio,r.value.montoCancelar=v.servicio.precio;else{let c=0;v.servicio.pagos.forEach(e=>{c+=parseFloat(e.valor)});const s=parseFloat(v.servicio.precio)-c;r.value.montoPendiente=s.toString(),r.value.montoCancelar=s.toString()}const B=c=>{let s=0;s=r.value[c];const e=/^\d{0,9}(\.\d{1,2})?$/;setTimeout(function(){let _=0;if(_=r.value[c],!e.test(_.toString())){const T=parseFloat(s.toString().substring(0,s.toString().length-1));r.value[c]=T}},0)},E=()=>{let c=!1;return u.forEach(s=>{(r.value[s].length==0||r.value[s]==0)&&(C.value[s].message="Debes completar este campo",C.value[s].isValid=!1,c=!0)}),(V.roles[0]=="Super-Administrador"||V.roles[0]=="Administrador")&&r.value.sucursal_id==""&&v.servicio.tipo_comprobante!="Recibo"&&parseFloat(r.value.montoCancelar)>=parseFloat(r.value.montoPendiente)&&(C.value.sucursal_id.message="Debes seleccionar una sucursal",C.value.sucursal_id.isValid=!1,c=!0),c},F=["Efectivo Oficina/Sucursal","Dep\xF3sito Bancario","Transferencia Bancaria","Facilito","Punto Agil"],U=async()=>{if(E())return;const c=Date.now(),s=ue.formatDate(c,"DD/MM/YYYY"),e=ue.formatDate(c,"HH:mma"),_=parseFloat(r.value.montoPendiente)-parseFloat(r.value.montoCancelar);let T=0;v.servicio.pagos.forEach(D=>{T+=parseFloat(D.valor)});let k;v.nuevoPago&&(k=v.servicio.pagos,k.push({valor:r.value.montoCancelar,monto_pendiente:_.toString(),totalAbonado:(T+parseFloat(r.value.montoCancelar)).toString(),fecha_abono:s,hora_abono:e,detalle:r.value.detalle,n_transaccion:r.value.num_transaccion,forma_pago:r.value.forma_pago}));const O={pagos:k,estadoSRI:_<=0?"PAGADO":"PENDIENTE"};try{let D={headers:{sucursal_id:r.value.sucursal_id}};const{data:H}=await i.patch(`/pagos/${v.servicio.pago_id}`,O,D);if(_<=0&&v.servicio.tipo_comprobante!="Recibo"){console.log("generado factura electronica");let $e={customer_id:M.params.client_id,tipo:"EMISION",subtotal:parseFloat(v.servicio.precio),iva:parseFloat(v.servicio.iva),descuento:0,total:parseFloat(v.servicio.precio),entity:"Pagos",pago_id:v.servicio.pago_id,user_id:V.id,products:[{aplicaIva:v.servicio.iva>0,cantidad:1,pvp:v.servicio.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:v.servicio.pago_id.split("-")[0]}]};await i.post("/CE/facturas/generarFacturaElectronica",$e,D)}q("positive",H.msg),f.value=!1,b("actualizarDatos")}catch(D){console.log(D)}},z=async c=>{d.value=[];const{data:s}=await i.get(`/sucursal/find/${c}/company`);s.forEach(e=>{d.value.push({label:e.nombre,value:e.id})}),d.value.length==1&&(r.value.sucursal_id=d.value[0].value)};return(V.roles[0]=="Super-Administrador"||V.roles[0]=="Administrador")&&z(V.company.id),(c,s)=>($(),A(he,{style:{width:"450px !important","max-width":"fit-content"}},{default:o(()=>[t(Ye,null,{default:o(()=>[l("div",Ea,[w(" Agregar Pago "),ee(t(W,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[Yt]])])]),_:1}),t(De,{inset:""}),t(Ye,{class:"q-pt-none"},{default:o(()=>[t(qe,{onSubmit:U},{default:o(()=>[l("div",Da,[l("div",Ma,[Fa,t(Re,{color:"orange","transition-show":"scale","transition-hide":"scale","onUpdate:modelValue":[s[0]||(s[0]=e=>C.value.forma_pago.isValid=!0),s[1]||(s[1]=e=>r.value.forma_pago=e)],error:!C.value.forma_pago.isValid,outlined:"",modelValue:r.value.forma_pago,dense:"",options:F},{error:o(()=>[l("label",{class:h(c.$q.dark.isActive?"text-red-4":"text-negative")},P(C.value.forma_pago.message),3)]),_:1},8,["error","modelValue"])]),l("div",Qa,[Na,t(Z,{modelValue:r.value.num_transaccion,"onUpdate:modelValue":s[2]||(s[2]=e=>r.value.num_transaccion=e),dense:"",outlined:""},null,8,["modelValue"])]),l("div",Ba,[La,t(kt,{color:"green","onUpdate:modelValue":[s[3]||(s[3]=e=>r.value.montoCancelar=r.value.montoPendiente),s[4]||(s[4]=e=>r.value.importe_total=e)],size:"lg",modelValue:r.value.importe_total},null,8,["modelValue"])]),l("div",ja,[Oa,t(Z,{modelValue:r.value.montoCancelar,"onUpdate:modelValue":[s[5]||(s[5]=e=>r.value.montoCancelar=e),s[6]||(s[6]=e=>(B("montoCancelar"),C.value.montoCancelar.isValid=!0))],modelModifiers:{trim:!0},readonly:r.value.importe_total,"input-style":"padding-right: 27px;",type:"number",step:"0.01",error:!C.value.montoCancelar.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:o(()=>[l("label",{class:h(c.$q.dark.isActive?"text-red-4":"text-negative")},P(C.value.montoCancelar.message),3)]),prepend:o(()=>[t(re,{name:"attach_money"})]),_:1},8,["modelValue","readonly","error"])]),l("div",Ua,[za,t(Z,{modelValue:r.value.montoPendiente,"onUpdate:modelValue":[s[7]||(s[7]=e=>r.value.montoPendiente=e),s[8]||(s[8]=e=>(B("montoPendiente"),C.value.montoPendiente.isValid=!0))],modelModifiers:{trim:!0},disable:"",type:"number",step:"0.01",error:!C.value.montoPendiente.isValid,"input-style":"padding-right: 27px;","input-class":"resaltarTextoInput",dense:"",outlined:""},{error:o(()=>[l("label",{class:h(c.$q.dark.isActive?"text-red-4":"text-negative")},P(C.value.montoCancelar.message),3)]),prepend:o(()=>[t(re,{name:"attach_money"})]),_:1},8,["modelValue","error"])]),v.servicio.tipo_comprobante!="Recibo"&&parseFloat(r.value.montoCancelar)>=parseFloat(r.value.montoPendiente)?($(),te("div",Ka,[Ya,d.value.length>1?($(),A(Re,{key:0,modelValue:r.value.sucursal_id,"onUpdate:modelValue":[s[9]||(s[9]=e=>r.value.sucursal_id=e),s[10]||(s[10]=e=>C.value.sucursal_id.isValid=!0)],error:!C.value.sucursal_id.isValid,outlined:"",options:d.value,"emit-value":"","map-options":"",dense:""},{error:o(()=>[l("label",{class:h(c.$q.dark.isActive?"text-red-4":"text-negative")},P(C.value.sucursal_id.message),3)]),"no-option":o(()=>[t(ie,null,{default:o(()=>[t(Y,{class:"text-grey"},{default:o(()=>[w(" No se encontro sucursal ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","options"])):ae("",!0)])):ae("",!0),l("div",Wa,[Ha,t(Z,{modelValue:r.value.detalle,"onUpdate:modelValue":s[11]||(s[11]=e=>r.value.detalle=e),modelModifiers:{trim:!0},outlined:"",rows:"2",type:"textarea"},null,8,["modelValue"])]),l("div",Ga,[t(W,{label:"guardar",class:"q-px-xl",type:"submit",color:"green-9"})])])]),_:1})]),_:1})]),_:1}))}};var Xa=Vt(Za,[["__scopeId","data-v-672c02d6"]]);const Ja={class:"my-card"},eo={class:"q-pt-none"},to={class:"row q-pt-sm"},ao={class:"col-12"},oo={class:"row"},lo=l("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),so={class:"text-h6 text-weight-medium"},no={class:"col-12 q-mt-md"},io=l("br",null,null,-1),ro=l("br",null,null,-1),co=l("br",null,null,-1),uo=l("br",null,null,-1),mo={class:"row q-col-gutter-sm"},vo=l("div",{class:"full-width row flex-center text-lime-10 q-gutter-sm"},[l("span",{class:"text-subtitle1"}," No se encontr\xF3 ningun registros ")],-1),fo={__name:"IndexFacturas",setup(a){const b=I([{name:"x",align:"center",label:" ",field:"x"},{name:"n_comprobantes",align:"center",label:"N. Comprobante",field:"n_comprobantes"},{name:"emitido",label:"Emitido",field:"emitido",align:"center"},{name:"vencimiento",label:"Vencimiento",field:"vencimiento",align:"center"},{name:"precio",label:"Total",field:"precio",align:"center"},{name:"iva",label:"Impuesto",field:"iva",align:"center"},{name:"pagado",label:"Pagado",field:"pagado",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}]),v=I(!0),u=I({}),{api:i,servicios:V,pagos:q,showModalPago:M}=we(),{claim:f,mes_pago:d,route:r}=ye();let C;const B=()=>{const c=new Wt("http://205.235.6.108:3000/socket.io/socket.io.js",{extraHeaders:{autentication:f.id}});C==null||C.removeAllListeners(),C=c.socket("/"),C.on("updateStateInvoice",()=>{F()})},E=async()=>{const{data:c}=await i.get("/customers/find/"+r.params.client_id);return c},F=async()=>{try{q.value=[];const{data:c}=await i.get("/pagos/find/"+V.value[0].servicio_id);c.length>0&&(c[0].servicio.factura_id.tipo_comprobante=="Recibo"&&(b.value[1].label="Tipo Comprobante"),d.value.dia_pago=c[0].dia_pago,c[0].estadoSRI!=="PAGADO"||c[0].estadoSRI!=="AUTORIZADO"?d.value.estado="pendiente":d.value.estado="pagado"),c.forEach(s=>{const e=ue.addToDate(s.created_at,{days:s.servicio.factura_id.dia_pago-1});let _;s.servicio.factura_id.tipo_impuesto=="Impuestos incluido"?_=`${Math.floor(parseFloat(s.servicio.precio)*.12*100)/100}`:_=0;let T=0;s.pagos.forEach(k=>{T+=parseFloat(k.valor)}),q.value.push({ambiente:s.sucursal_id?s.sucursal_id.ambiente:"",clave_acceso:s.clave_acceso,company_name:s.servicio.router_id.company_id.nombre_comercial,num_comprobante:s.num_comprobante,sucursal_id:s.sucursal_id!==null?s.sucursal_id.id:null,pago_id:s.id,ruc:s.servicio.perfil_internet.router_id.company_id.ruc,direccion:s.sucursal_id!==null?s.sucursal_id.direccion:null,emitido:ue.formatDate(s.created_at,"DD/MM/YYYY"),vencimiento:ue.formatDate(e,"DD/MM/YYYY"),precio:`${s.servicio.precio}`,tipo_comprobante:s.servicio.factura_id.tipo_comprobante,iva:_,pagos:s.pagos.reverse(),pagado:T,estado:s.estadoSRI,cancelado:T>=parseFloat(s.servicio.precio),expand:!1})})}catch(c){console.log(c)}},U=async c=>{let s={headers:{sucursal_id:c.sucursal_id}},e={ambiente:c.ambiente,clave_acceso:c.clave_acceso,company_name:c.company_name,sucursal_id:c.sucursal_id,customer_id:r.params.client_id,num_comprobante:c.num_comprobante,tipo:"EMISION",subtotal:parseFloat(c.precio),iva:parseFloat(c.iva),descuento:0,total:parseFloat(c.precio),entity:"Pagos",pago_id:c.pago_id,user_id:f.id,products:[{aplicaIva:c.iva>0,cantidad:1,pvp:c.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:c.pago_id.split("-")[0]}]};c.estado.trim()=="ERROR ENVIO RECEPCION"&&await i.post("/CE/facturas/recepcionComprobantesOffline",e,s),c.estado.trim()=="RECIBIDA"&&await i.post("/CE/facturas/autorizacionComprobantesOffline",e,s)},z=async(c,s,e=null)=>{e&&(c.company_name=e.company_name,c.ruc=e.ruc,c.direccion=e.direccion);const _=await E(),T={cliente:_[0].nombres,tipoDoc:_[0].tipo_documento,num_doc:_[0].numero_documento,email:_[0].email};await Qt.post("http://127.0.0.1:3001/api/impresion",{data:c,dataCliente:T,userName:f.fullName,tipo:s})};return F(),B(),(c,s)=>($(),te(Se,null,[t(qe,{onSubmit:s[0]||(s[0]=()=>{})},{default:o(()=>[l("div",Ja,[l("div",eo,[l("div",to,[l("div",ao,[l("div",oo,[l("div",{class:h(["col-12 flex items-center",c.$q.screen.xs?"justify-center":"justify-between"])},[lo,l("label",so,[t(W,{outline:"",color:"primary",label:"Agregar Servicio",class:h(["q-mr-xs",!c.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),l("div",no,[t(Xe,{rows:p(q),columns:b.value,class:h([c.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{body:o(e=>[t(We,{props:e},{default:o(()=>[e.row.estado.trim()!="NO PAGADO"?($(),A(L,{key:0,"auto-width":""},{default:o(()=>[t(W,{size:"sm",color:"accent",round:"",dense:"",onClick:_=>e.row.expand=!e.row.expand,icon:e.row.expand?"remove":"add"},null,8,["onClick","icon"])]),_:2},1024)):($(),A(L,{key:1,"auto-width":""})),t(L,{key:"n_comprobantes",props:e},{default:o(()=>[w(P(e.row.tipo_comprobante=="Recibo"?"Recibo":e.row.num_comprobante==""||e.row.num_comprobante==null?"- - - - - -":e.row.num_comprobante),1)]),_:2},1032,["props"]),t(L,{key:"emitido",props:e},{default:o(()=>[w(P(e.row.emitido),1)]),_:2},1032,["props"]),t(L,{key:"vencimiento",props:e},{default:o(()=>[w(P(e.row.vencimiento),1)]),_:2},1032,["props"]),t(L,{key:"precio",props:e},{default:o(()=>[w(" $"+P(e.row.precio),1)]),_:2},1032,["props"]),t(L,{key:"iva",props:e},{default:o(()=>[w(" $"+P(e.row.iva),1)]),_:2},1032,["props"]),t(L,{key:"pagado",props:e},{default:o(()=>[w(" $"+P(e.row.pagado),1)]),_:2},1032,["props"]),t(L,{key:"estado",props:e},{default:o(()=>[e.row.estado=="AUTORIZADO"?($(),A(ce,{key:0,outline:"",class:"q-py-xs q-px-md",color:"secondary"},{default:o(()=>[w(" PAGADO "),io,w(" Y "),ro,w(" AUTORIZADO ")]),_:1})):e.row.estado=="NO PAGADO"||e.row.estado=="PENDIENTE"?($(),A(ce,{key:1,outline:"",class:"q-py-xs q-px-md",color:c.$q.dark.isActive?"blue-grey-3":"blue-grey-7",label:e.row.estado},null,8,["color","label"])):($(),A(ce,{key:2,outline:"",class:"q-py-xs q-px-md",color:c.$q.dark.isActive?"warning":"orange-10"},{default:o(()=>[w(" PAGADO "),co,w(" - "),uo,w(" "+P(e.row.estado),1)]),_:2},1032,["color"]))]),_:2},1032,["props"]),t(L,{key:"acciones",props:e},{default:o(()=>[e.row.cancelado?ae("",!0):($(),A(W,{key:0,round:"",color:"blue-grey",onClick:_=>(M.value=!0,u.value=e.row),icon:"done",size:"10px",class:"q-mr-sm"},{default:o(()=>[t(Ae,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:o(()=>[w(" Agregar Pago ")]),_:1})]),_:2},1032,["onClick"])),e.row.estado.trim()=="ERROR ENVIO RECEPCION"||e.row.estado.trim()=="ERROR ENVIO RECEPCION - ANULACION"||e.row.estado.trim()=="RECIBIDA"?($(),A(W,{key:1,round:"",color:"blue-grey",icon:"fa-solid fa-retweet",onClick:_=>U(e.row),size:"10px",class:"q-mr-sm"},{default:o(()=>[t(Ae,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:o(()=>[w(" Emitir Factura Electr\xF3nica ")]),_:1})]),_:2},1032,["onClick"])):ae("",!0),e.row.estado.trim()=="AUTORIZADO"?($(),A(W,{key:2,round:"",color:"blue-grey",icon:"print",onClick:_=>z(e.row,"factura"),size:"10px",class:"q-mr-sm"},{default:o(()=>[t(Ae,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:o(()=>[w(" Imprimir comprobante ")]),_:1})]),_:2},1032,["onClick"])):ae("",!0)]),_:2},1032,["props"])]),_:2},1032,["props"]),ee(t(We,{props:e},{default:o(()=>[t(L,{colspan:"100%"},{default:o(()=>[l("div",mo,[($(!0),te(Se,null,Rt(e.row.pagos,(_,T)=>($(),te("div",{key:T,class:"col-4"},[t(Kt,{bordered:"",padding:"",dense:""},{default:o(()=>[t(K,{header:"",class:"text-center"},{default:o(()=>[w(" Fecha Abonado: "+P(_.fecha_abono)+" "+P(_.hora_abono),1)]),_:2},1024),ee(($(),A(ie,{tag:"label"},{default:o(()=>[t(Y,null,{default:o(()=>[t(K,null,{default:o(()=>[w("Forma de Pago:")]),_:1})]),_:1}),t(Y,{side:"",top:"",class:"justify-center"},{default:o(()=>[t(K,null,{default:o(()=>[w(P(_.forma_pago),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),ee(($(),A(ie,{tag:"label",class:""},{default:o(()=>[t(Y,null,{default:o(()=>[t(K,null,{default:o(()=>[w("Valor Abonado:")]),_:1})]),_:1}),t(Y,{side:"",top:"",class:"justify-center"},{default:o(()=>[t(K,null,{default:o(()=>[w("$"+P(_.valor),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),ee(($(),A(ie,{tag:"label"},{default:o(()=>[t(Y,null,{default:o(()=>[t(K,null,{default:o(()=>[w("N\xBA transacci\xF3n:")]),_:1})]),_:1}),t(Y,{side:"",top:"",class:"justify-center"},{default:o(()=>[t(K,null,{default:o(()=>[w(P(_.n_transaccion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),ee(($(),A(ie,{tag:"label"},{default:o(()=>[t(Y,null,{default:o(()=>[t(K,null,{default:o(()=>[w("Detalle:")]),_:1})]),_:1}),t(Y,{side:"",top:"",class:"justify-center"},{default:o(()=>[t(K,null,{default:o(()=>[w(P(_.detalle==""?"Sin detalles":_.detalle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),ee(($(),A(ie,{tag:"label"},{default:o(()=>[t(Y,null,{default:o(()=>[t(K,{class:"text-center"},{default:o(()=>[t(W,{square:"",onClick:k=>z(_,"Recibo",e.row),color:c.$q.dark.isActive?"blue-grey-2":"blue-grey-7",class:"q-px-md",outline:"",rounded:"",label:"imprimir",dense:"","icon-right":"print"},null,8,["onClick","color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]])]),_:2},1024)]))),128))])]),_:2},1024)]),_:2},1032,["props"]),[[Et,e.row.expand]])]),"no-data":o(({icon:e})=>[vo]),_:1},8,["rows","columns","class"])])])])])])])]),_:1}),t(Mt,{modelValue:p(M),"onUpdate:modelValue":s[1]||(s[1]=e=>Dt(M)?M.value=e:null)},{default:o(()=>[t(Xa,{servicio:u.value,nuevoPago:v.value,onActualizarDatos:F},null,8,["servicio","nuevoPago"])]),_:1},8,["modelValue"])],64))}},_o={class:"q-gutter-y-md"},po={__name:"FacturacionPagos",setup(a){const b=I("facturas");return(v,u)=>($(),te("div",_o,[t(he,null,{default:o(()=>[t(Je,{modelValue:b.value,"onUpdate:modelValue":u[0]||(u[0]=i=>b.value=i),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:o(()=>[t(de,{name:"facturas",label:"Facturas"}),t(de,{name:"configuracion",label:"Configuraci\xF3n"})]),_:1},8,["modelValue"]),t(De),t(et,{modelValue:b.value,"onUpdate:modelValue":u[1]||(u[1]=i=>b.value=i),animated:""},{default:o(()=>[t(me,{name:"facturas"},{default:o(()=>[t(fo)]),_:1}),t(me,{name:"configuracion"},{default:o(()=>[t(Ra)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};const go={class:"q-gutter-y-md"},bo={__name:"IndexPage",setup(a){const b=I("resumen");return(v,u)=>($(),te("div",go,[t(he,null,{default:o(()=>[t(Je,{modelValue:b.value,"onUpdate:modelValue":u[0]||(u[0]=i=>b.value=i),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:o(()=>[t(de,{name:"resumen",label:"Resumen"}),t(de,{name:"servicios",label:"Servicios"}),t(de,{name:"facturacion/pagos",label:"Facturaci\xF3n/Pagos"})]),_:1},8,["modelValue"]),t(De),t(et,{modelValue:b.value,"onUpdate:modelValue":u[1]||(u[1]=i=>b.value=i),animated:""},{default:o(()=>[t(me,{name:"resumen"},{default:o(()=>[t($a)]),_:1}),t(me,{name:"servicios"},{default:o(()=>[b.value=="servicios"?($(),A(Sa,{key:0})):ae("",!0)]),_:1}),t(me,{name:"facturacion/pagos"},{default:o(()=>[b.value=="facturacion/pagos"?($(),A(po,{key:0})):ae("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}},ho={class:"q-ma-lg q-pt-md"},yo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},qo={class:"text-h6 text-center",style:{position:"relative",top:"-8px",left:"17px"}},wo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},$o={class:"col-xs-11 col-md-11 q-pt-xs"},Ko={__name:"EditCliente",setup(a){const{api:b,route:v,formCliente:u,formFacturacion:i}=ye(),{servicios:V}=we(),q=I("");return(async()=>{V.value=[];const{data:f}=await b.get("/customers/find/"+v.params.client_id);f[0].planInternet.forEach(d=>{i.value={...d.factura_id},V.value.push({servicio_id:d.id,precio:d.precio,direccion:`${d.direccion==""?"- - - - -":d.direccion}`,fecha_instalacion:d.fecha_instalacion,ipv4:d.ipv4,nombre_plan:d.perfil_internet.nombre_plan,router:d.router_id.nombre,estado:`${d.isActive?"Activo":"Inactivo"}`})}),q.value=f[0].nombres,u.value={...f[0]}})(),(f,d)=>($(),te(Se,null,[l("div",ho,[l("div",yo,[l("div",{class:h(["col-xs-12 q-pl-none",[f.$q.screen.width<1022?"q-pt-sm col-md-6":"col-md-6"]])},[t(_t,{class:h(["row q-mr-xs",[f.$q.screen.width<1022?"justify-center q-pt-sm":"justify-start "]])},{default:o(()=>[t(Te,{label:"Inicio",icon:"home",to:"/"}),t(Te,{label:"Clientes",icon:"fa-solid fa-list",to:"/clientes"}),t(Te,{label:"Nuevo",icon:"add_circle"})]),_:1},8,["class"])],2),l("div",{class:h(["col-xs-12",[f.$q.screen.width<1022?"text-center q-pt-sm col-md-6 q-pl-none":"text-right col-md-5"]])},[l("label",qo,P(q.value),1)],2)])]),l("div",wo,[l("div",$o,[t(he,{flat:"",class:"shadow_custom q-pt-none"},{default:o(()=>[t(bo,{edit:!0})]),_:1})])])],64))}};export{Ko as default};

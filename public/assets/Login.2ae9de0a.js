import{d as f,r as n,o as _,c as v,e,w as b,f as a,g as u,Q as m,h as y,i as c}from"./index.94929e45.js";import{u as w}from"./use-quasar.48a562df.js";import{u as x}from"./useHelpers.cd53e402.js";import"./axios.84b3b9f9.js";const h={class:"container"},V=e("section",{class:"image-section"},[e("img",{src:"/imgs/",class:"side-image"})],-1),S={class:"login-section"},k={class:"login-container"},q=e("div",{class:"element-form"},[e("img",{src:"/imgs/inigualitySoft.png",class:"logo"}),e("p",{class:"slogan"},"INGRESA A TU CUENTA")],-1),C=["onSubmit"],I=e("p",{class:"footer-text"},"\xA1El sistema contable que necesitas!",-1),Q=f({__name:"Login",setup(U){const r=n(!0),i=n(!1),t=n({email:"",password:""}),{api:p,mostrarNotify:d}=x(),g=async()=>{try{i.value=!0;const{data:{token:l,permisos:o}}=await p.post("/auth/login",t.value),s=w();s.setToken(l),s.setPermisos(o),location.href="/"}catch(l){l.response.data.message=="Credentials not valid(password)"&&d("warning","La contrase\xF1a esta incorrecta"),l.response.data.message=="Credentials not valid(email)"&&d("warning","El email esta incorrecto"),i.value=!1}};return(l,o)=>(_(),v("div",h,[V,e("section",S,[e("div",k,[q,e("form",{onSubmit:b(g,["prevent"]),class:"element-form"},[a(m,{"label-color":"blue-grey-10",color:"primary",class:"q-mb-lg custom-input","bg-color":"blue-2",filled:"",label:"Ingresa tu email",rounded:"",outlined:"",modelValue:t.value.email,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.email=s),modelModifiers:{trim:!0},required:""},{prepend:u(()=>[a(c,{name:"person",color:"blue-grey-10"})]),_:1},8,["modelValue"]),a(m,{type:r.value?"password":"text","label-color":"blue-grey-10",class:"q-mb-lg custom-input","bg-color":"blue-2",filled:"","text-color":"#000000",label:"Ingresa tu contrase\xF1a",rounded:"",outlined:"",modelValue:t.value.password,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.password=s),modelModifiers:{trim:!0},required:""},{append:u(()=>[a(c,{name:r.value?"visibility_off":"visibility",color:"blue-grey-10",class:"cursor-pointer",onClick:o[1]||(o[1]=s=>r.value=!r.value)},null,8,["name"])]),prepend:u(()=>[a(c,{name:"key",color:"blue-grey-10"})]),_:1},8,["type","modelValue"]),a(y,{label:"Ingresar",class:"q-px-xl",loading:i.value,type:"submit",color:"primary"},null,8,["loading"])],40,C),I])])]))}});export{Q as default};

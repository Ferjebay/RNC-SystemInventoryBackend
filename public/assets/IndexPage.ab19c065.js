import{Q as T,a as x,b as V}from"./QTable.ed5363e9.js";import{Q as z,a as k}from"./QTooltip.66377565.js";import{d as N,r as d,v as $,o as r,c as p,e as g,f as o,g as a,aP as E,am as I,al as R,Q as A,aU as U,i as v,ad as c,R as Q,ae as _,af as h,h as w,aj as C}from"./index.e3943f75.js";import{Q as S}from"./QBadge.d14b2587.js";import{C as q}from"./ClosePopup.e094a3a3.js";import{api as D}from"./axios.b7aae0cc.js";import{u as H}from"./useHelpers.36b2ef52.js";import"./QList.ef60f07b.js";import"./QSelect.82b33d26.js";import"./QChip.1292e608.js";import"./QItemLabel.ed302a85.js";import"./format.2bc25e5f.js";import"./use-quasar.e583bed4.js";const L={class:"q-ma-lg q-pt-md"},j={class:"row q-col-gutter-lg"},G={class:"col-12"},M={key:0},J={key:1},K={class:"full-width row flex-center text-lime-10 q-gutter-sm"},O=g("span",{class:"text-subtitle1"}," No se encontr\xF3 ningun Resultado ",-1),ue=N({__name:"IndexPage",setup(W){const P=[{name:"acciones",label:"acciones",align:"center"},{name:"empresa_name",label:"Empresa",align:"center",field:"empresa_name"},{name:"host",label:"Host",align:"center",field:"host"},{name:"puerto",label:"Puerto",align:"center",field:"puerto"},{name:"usuario",label:"Usuario",align:"center",field:"usuario"},{name:"password",label:"Contrase\xF1a",align:"center",field:"password"}];H();const y=d([]);d("codigo");const m=d(""),b=d(),f=d(!1),u=d({sortBy:"desc",descending:!1,page:1,rowsPerPage:5,rowsNumber:5}),B=async(i=1,l=5,e=null)=>{try{const{data:t}=await D.get("/email");t.forEach(s=>{s.empresa_name=s.company_id.nombre_comercial,s.host=s.host==""?"----------":s.host,s.usuario=s.usuario==""?"----------":s.usuario,s.password=s.password==""?"----------":s.password}),y.value=t}catch(t){console.log(t)}};async function F(i){const{page:l,rowsPerPage:e,sortBy:t,descending:s}=i.pagination;f.value=!0,await B(l,e),u.value.page=l,u.value.rowsPerPage=e,u.value.sortBy=t,u.value.descending=s,f.value=!1}$(()=>{b.value.requestServerInteraction()});const n=d("list");return(i,l)=>(r(),p("div",L,[g("div",j,[g("div",G,[o(E,{flat:"",class:"shadow_custom"},{default:a(()=>[o(T,{"title-class":"text-grey-7 text-h6",title:"Emails Config",rows:y.value,loading:f.value,"hide-header":n.value==="grid",columns:P,"row-key":"name",grid:n.value==="grid",filter:m.value,pagination:u.value,"onUpdate:pagination":l[2]||(l[2]=e=>u.value=e),"rows-per-page-options":[3,7,15,0],ref_key:"tableRef",ref:b,"binary-state-sort":"",onRequest:F},{header:a(e=>[o(z,{props:e,style:{height:"60px"}},{default:a(()=>[(r(!0),p(I,null,R(e.cols,t=>(r(),c(V,{key:t.name,props:e,class:"text-grey-7 text-weight-bold text-uppercase",style:{"font-size":"13px"}},{default:a(()=>[_(h(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"top-right":a(e=>[o(A,{style:U(i.$q.screen.width>700||"width: 70%"),outlined:"",dense:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=t=>m.value=t),placeholder:"Buscar..."},{append:a(()=>[o(v,{name:"search"})]),_:1},8,["style","modelValue"]),n.value==="list"?(r(),c(w,{key:0,flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen",onClick:e.toggleFullscreen},{default:a(()=>[Q((r(),c(k,{disable:i.$q.platform.is.mobile},{default:a(()=>[_(h(e.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[q]])]),_:2},1032,["icon","onClick"])):C("",!0),e.inFullscreen?C("",!0):(r(),c(w,{key:1,flat:"",round:"",dense:"",icon:n.value==="grid"?"list":"grid_on",onClick:l[1]||(l[1]=t=>{n.value=n.value==="grid"?"list":"grid",i.separator=n.value==="grid"?"none":"horizontal"})},{default:a(()=>[Q((r(),c(k,{disable:i.$q.platform.is.mobile},{default:a(()=>[_(h(n.value==="grid"?"List":"Grid"),1)]),_:1},8,["disable"])),[[q]])]),_:1},8,["icon"]))]),"body-cell-acciones":a(e=>[o(x,{props:e},{default:a(()=>[o(w,{round:"",color:"blue-grey",onClick:t=>i.$router.push({name:"email.edit",params:{email_id:e.row.company_id.id}}),icon:"edit",class:"q-mr-sm",size:"12px"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-estado":a(e=>[o(x,{props:e},{default:a(()=>[o(S,{outline:"",class:"q-py-xs q-px-md",color:e.row.isActive?"positive":"dark"},{default:a(()=>[e.row.isActive?(r(),p("span",M,"Activo")):(r(),p("span",J,"Inactivo"))]),_:2},1032,["color"])]),_:2},1032,["props"])]),"no-data":a(({icon:e})=>[g("div",K,[o(v,{size:"2em",name:"sentiment_dissatisfied"}),O,o(v,{size:"2em",name:m.value?"filter_b_and_w":e},null,8,["name"])])]),_:1},8,["rows","loading","hide-header","grid","filter","pagination"])]),_:1})])])]))}});export{ue as default};

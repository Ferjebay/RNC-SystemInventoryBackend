import{d as f,r as i,o as _,c as v,e as o,w as b,f as a,g as u,Q as m,h as y,i as c}from"./index.03c4caf6.js";import{u as w}from"./use-quasar.a4369af7.js";import{u as x}from"./useHelpers.4e2dfead.js";import"./axios.b00b45a2.js";const h={class:"container"},V=o("section",{class:"image-section"},null,-1),S={class:"login-section"},k={class:"login-container"},q=o("div",{class:"element-form"},[o("img",{src:"/imgs/inigualitySoft.png",class:"logo"}),o("p",{class:"slogan"},"INGRESA A TU CUENTA")],-1),C=["onSubmit"],I=o("p",{class:"footer-text"},"\xA1El sistema contable que necesitas!",-1),Q=f({__name:"Login",setup(U){const r=i(!0),n=i(!1),t=i({email:"",password:""}),{api:p,mostrarNotify:d}=x(),g=async()=>{try{n.value=!0;const{data:{token:l,permisos:e}}=await p.post("/auth/login",t.value),s=w();s.setToken(l),s.setPermisos(e),location.href="/"}catch(l){l.response.data.message=="Credentials not valid(password)"&&d("warning","La contrase\xF1a esta incorrecta"),l.response.data.message=="Credentials not valid(email)"&&d("warning","El email esta incorrecto"),n.value=!1}};return(l,e)=>(_(),v("div",h,[V,o("section",S,[o("div",k,[q,o("form",{onSubmit:b(g,["prevent"]),class:"element-form"},[a(m,{"label-color":"blue-grey-10",color:"primary",class:"q-mb-lg custom-input","bg-color":"blue-2",filled:"",label:"Ingresa tu email",rounded:"",outlined:"",modelValue:t.value.email,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value.email=s),modelModifiers:{trim:!0},required:""},{prepend:u(()=>[a(c,{name:"person",color:"blue-grey-10"})]),_:1},8,["modelValue"]),a(m,{type:r.value?"password":"text","label-color":"blue-grey-10",class:"q-mb-lg custom-input","bg-color":"blue-2",filled:"","text-color":"#000000",label:"Ingresa tu contrase\xF1a",rounded:"",outlined:"",modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.password=s),modelModifiers:{trim:!0},required:""},{append:u(()=>[a(c,{name:r.value?"visibility_off":"visibility",color:"blue-grey-10",class:"cursor-pointer",onClick:e[1]||(e[1]=s=>r.value=!r.value)},null,8,["name"])]),prepend:u(()=>[a(c,{name:"key",color:"blue-grey-10"})]),_:1},8,["type","modelValue"]),a(y,{label:"Ingresar",class:"q-px-xl",loading:n.value,type:"submit",color:"primary"},null,8,["loading"])],40,C),I])])]))}});export{Q as default};

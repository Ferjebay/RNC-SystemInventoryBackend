import{l as w,m as s,n as x,p as $,H as nt,at as st,J as lt,r as j,au as it,a0 as rt,av as ut,M as ct,aw as ft,C as M,v as D,aq as L,ap as _,T as dt,aC as vt,z as N,S as ht,k as gt,B as O,E as pt}from"./index.becc66bd.js";import{u as mt,v as B,e as yt,p as z,f as bt,g as xt,r as R,s as Tt,d as W,h as St}from"./QItemLabel.8aa7a3d0.js";var $t=w({name:"QTr",props:{props:Object,noHover:Boolean},setup(t,{slots:u}){const n=s(()=>"q-tr"+(t.props===void 0||t.props.header===!0?"":" "+t.props.__trClass)+(t.noHover===!0?" q-tr--no-hover":""));return()=>x("tr",{class:n.value},$(u.default))}}),Ct=w({name:"QTooltip",inheritAttrs:!1,props:{...mt,...nt,...st,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:B},self:{type:String,default:"top middle",validator:B},offset:{type:Array,default:()=>[14,14],validator:yt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...lt],setup(t,{slots:u,emit:n,attrs:m}){let i,r;const f=N(),{proxy:{$q:o}}=f,h=j(null),p=j(!1),S=s(()=>z(t.anchor,o.lang.rtl)),e=s(()=>z(t.self,o.lang.rtl)),d=s(()=>t.persistent!==!0),{registerTick:v,removeTick:T}=it(),{registerTimeout:l}=rt(),{transitionProps:F,transitionStyle:I}=ut(t),{localScrollTarget:C,changeScrollEvent:J,unconfigureScrollTarget:K}=bt(t,Q),{anchorEl:c,canShow:U,anchorEvents:y}=xt({showing:p,configureAnchorEl:et}),{show:V,hide:P}=ct({showing:p,canShow:U,handleShow:Y,handleHide:G,hideOnRouteChange:d,processOnMount:!0});Object.assign(y,{delayShow:Z,delayHide:tt});const{showPortal:E,hidePortal:q,renderPortal:X}=ft(f,h,at,"tooltip");if(o.platform.is.mobile===!0){const a={anchorEl:c,innerRef:h,onClickOutside(g){return P(g),g.target.classList.contains("q-dialog__backdrop")&&ht(g),!0}},k=s(()=>t.modelValue===null&&t.persistent!==!0&&p.value===!0);M(k,g=>{(g===!0?St:R)(a)}),D(()=>{R(a)})}function Y(a){E(),v(()=>{r=new MutationObserver(()=>b()),r.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),b(),Q()}),i===void 0&&(i=M(()=>o.screen.width+"|"+o.screen.height+"|"+t.self+"|"+t.anchor+"|"+o.lang.rtl,b)),l(()=>{E(!0),n("show",a)},t.transitionDuration)}function G(a){T(),q(),H(),l(()=>{q(!0),n("hide",a)},t.transitionDuration)}function H(){r!==void 0&&(r.disconnect(),r=void 0),i!==void 0&&(i(),i=void 0),K(),L(y,"tooltipTemp")}function b(){Tt({targetEl:h.value,offset:t.offset,anchorEl:c.value,anchorOrigin:S.value,selfOrigin:e.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function Z(a){if(o.platform.is.mobile===!0){W(),document.body.classList.add("non-selectable");const k=c.value,g=["touchmove","touchcancel","touchend","click"].map(A=>[k,A,"delayHide","passiveCapture"]);_(y,"tooltipTemp",g)}l(()=>{V(a)},t.delay)}function tt(a){o.platform.is.mobile===!0&&(L(y,"tooltipTemp"),W(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),l(()=>{P(a)},t.hideDelay)}function et(){if(t.noParentEvent===!0||c.value===null)return;const a=o.platform.is.mobile===!0?[[c.value,"touchstart","delayShow","passive"]]:[[c.value,"mouseenter","delayShow","passive"],[c.value,"mouseleave","delayHide","passive"]];_(y,"anchor",a)}function Q(){if(c.value!==null||t.scrollTarget!==void 0){C.value=dt(c.value,t.scrollTarget);const a=t.noParentEvent===!0?b:P;J(C.value,a)}}function ot(){return p.value===!0?x("div",{...m,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",m.class],style:[m.style,I.value],role:"tooltip"},$(u.default)):null}function at(){return x(vt,F.value,ot)}return D(H),Object.assign(f.proxy,{updatePosition:b}),X}});const Pt={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function kt(){const{props:t,proxy:{$q:u}}=N(),n=gt(pt,O);if(n===O)return console.error("QPageSticky needs to be child of QLayout"),O;const m=s(()=>{const e=t.position;return{top:e.indexOf("top")>-1,right:e.indexOf("right")>-1,bottom:e.indexOf("bottom")>-1,left:e.indexOf("left")>-1,vertical:e==="top"||e==="bottom",horizontal:e==="left"||e==="right"}}),i=s(()=>n.header.offset),r=s(()=>n.right.offset),f=s(()=>n.footer.offset),o=s(()=>n.left.offset),h=s(()=>{let e=0,d=0;const v=m.value,T=u.lang.rtl===!0?-1:1;v.top===!0&&i.value!==0?d=`${i.value}px`:v.bottom===!0&&f.value!==0&&(d=`${-f.value}px`),v.left===!0&&o.value!==0?e=`${T*o.value}px`:v.right===!0&&r.value!==0&&(e=`${-T*r.value}px`);const l={transform:`translate(${e}, ${d})`};return t.offset&&(l.margin=`${t.offset[1]}px ${t.offset[0]}px`),v.vertical===!0?(o.value!==0&&(l[u.lang.rtl===!0?"right":"left"]=`${o.value}px`),r.value!==0&&(l[u.lang.rtl===!0?"left":"right"]=`${r.value}px`)):v.horizontal===!0&&(i.value!==0&&(l.top=`${i.value}px`),f.value!==0&&(l.bottom=`${f.value}px`)),l}),p=s(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function S(e){const d=$(e.default);return x("div",{class:p.value,style:h.value},t.expand===!0?d:[x("div",d)])}return{$layout:n,getStickyContent:S}}var Et=w({name:"QPageSticky",props:Pt,setup(t,{slots:u}){const{getStickyContent:n}=kt();return()=>n(u)}});export{Et as Q,$t as a,Ct as b};

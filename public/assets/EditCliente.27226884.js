import{Q as _t,a as Ve}from"./QBreadcrumbs.d0e9d66e.js";import{r as V,k as pt,t as Ae,n as B,x as Ze,B as gt,bE as Xe,N as oe,a6 as ie,p as j,am as Ye,al as bt,bf as ht,i as ce,M as yt,z as Fe,bb as wt,aH as qt,m as ye,au as Se,V as We,v as he,a0 as $t,K as Ct,L as Pt,s as Je,H as kt,I as xt,Z as It,o as w,a7 as A,g as l,e as s,ac as C,f as o,Q as J,ab as p,a9 as I,h as z,a8 as P,a5 as Tt,aQ as Ge,af as Me,c as ee,bp as Vt,ad as K,aP as we,bF as At,bG as St,ah as Re,ag as Et,aI as Rt,aS as Dt,aT as Ft,bs as Mt}from"./index.bca6c7ab.js";import{u as qe}from"./useCliente.d700c6d2.js";import{a as Nt,b as Qt}from"./axios.6d2f0bab.js";import"./use-quasar.f765404c.js";import{Q as Bt}from"./QResizeObserver.3751cdeb.js";import{r as Lt,Q as De}from"./QSelect.8637bdaf.js";import{u as Ot,a as jt,b as Ut,c as zt,_ as Kt}from"./FactAndNot.11ad3274.js";import{Q as $e}from"./QForm.6f216b0f.js";import{Q as et,a as O}from"./QTable.2c02fe08.js";import{Q as de}from"./QBadge.a4d08f07.js";import{Q as He,a as Ee}from"./QTooltip.5d6eb389.js";import{a as re,Q as Z,c as H}from"./QItemLabel.e103ba26.js";import{Q as Yt}from"./QList.daa4963e.js";import{C as Wt}from"./ClosePopup.7368eef2.js";import{d as me}from"./date.992e7f46.js";import{M as Gt}from"./index.2065a85c.js";import"./useHelpers.bd6a2714.js";import"./QChip.da02c169.js";import"./format.2bc25e5f.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";const Ht=V([]),Zt=V(),Xt=V(!1),Jt=V([]),Ce=()=>({api:Nt,servicios:Ht,showModalPago:Xt,factura:Zt,pagos:Jt});let ea=0;const ta=["click","keydown"],aa={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ea++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function oa(a,b,c,u){const n=pt(Xe,Ae);if(n===Ae)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ae;const{proxy:E}=Fe(),h=V(null),M=V(null),_=V(null),d=B(()=>a.disable===!0||a.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},a.ripple===!0?{}:a.ripple)),q=B(()=>n.currentModel.value===a.name),m=B(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(q.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(a.icon&&a.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(a.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(a.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(u!==void 0?u.linkClass.value:"")),k=B(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(a.contentClass!==void 0?` ${a.contentClass}`:"")),F=B(()=>a.disable===!0||n.hasFocus.value===!0||q.value===!1&&n.hasActiveTab.value===!0?-1:a.tabindex||0);function N(e,t){if(t!==!0&&h.value!==null&&h.value.focus(),a.disable===!0){u!==void 0&&u.hasRouterLink.value===!0&&Ye(e);return}if(u===void 0){n.updateModel({name:a.name}),c("click",e);return}if(u.hasRouterLink.value===!0){const f=(y={})=>{let S;const x=y.to===void 0||wt(y.to,a.to)===!0?n.avoidRouteWatcher=qt():null;return u.navigateToRouterLink(e,{...y,returnRouterError:!0}).catch(Q=>{S=Q}).then(Q=>{if(x===n.avoidRouteWatcher&&(n.avoidRouteWatcher=!1,S===void 0&&(Q===void 0||Q.message.startsWith("Avoided redundant navigation")===!0)&&n.updateModel({name:a.name})),y.returnRouterError===!0)return S!==void 0?Promise.reject(S):Q})};c("click",e,f),e.defaultPrevented!==!0&&f();return}c("click",e)}function U(e){bt(e,[13,32])?N(e,!0):ht(e)!==!0&&e.keyCode>=35&&e.keyCode<=40&&e.altKey!==!0&&e.metaKey!==!0&&n.onKbdNavigate(e.keyCode,E.$el)===!0&&Ye(e),c("keydown",e)}function Y(){const e=n.tabProps.value.narrowIndicator,t=[],f=j("div",{ref:_,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});a.icon!==void 0&&t.push(j(ce,{class:"q-tab__icon",name:a.icon})),a.label!==void 0&&t.push(j("div",{class:"q-tab__label"},a.label)),a.alert!==!1&&t.push(a.alertIcon!==void 0?j(ce,{class:"q-tab__alert-icon",color:a.alert!==!0?a.alert:void 0,name:a.alertIcon}):j("div",{class:"q-tab__alert"+(a.alert!==!0?` text-${a.alert}`:"")})),e===!0&&t.push(f);const y=[j("div",{class:"q-focus-helper",tabindex:-1,ref:h}),j("div",{class:k.value},yt(b.default,t))];return e===!1&&y.push(f),y}const W={name:B(()=>a.name),rootRef:M,tabIndicatorRef:_,routeData:u};Ze(()=>{n.unregisterTab(W)}),gt(()=>{n.registerTab(W)});function i(e,t){const f={ref:M,class:m.value,tabindex:F.value,role:"tab","aria-selected":q.value===!0?"true":"false","aria-disabled":a.disable===!0?"true":void 0,onClick:N,onKeydown:U,...t};return oe(j(e,f,Y()),[[ie,d.value]])}return{renderTab:i,$tabs:n}}var ve=ye({name:"QTab",props:aa,emits:ta,setup(a,{slots:b,emit:c}){const{renderTab:u}=oa(a,b,c);return()=>u("div")}});function la(a,b,c){const u=c===!0?["left","right"]:["top","bottom"];return`absolute-${b===!0?u[0]:u[1]}${a?` text-${a}`:""}`}const sa=["left","center","right","justify"];var tt=ye({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:a=>sa.includes(a)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(a,{slots:b,emit:c}){const{proxy:u}=Fe(),{$q:n}=u,{registerTick:E}=Se(),{registerTick:h}=Se(),{registerTick:M}=Se(),{registerTimeout:_,removeTimeout:d}=We(),{registerTimeout:q,removeTimeout:m}=We(),k=V(null),F=V(null),N=V(a.modelValue),U=V(!1),Y=V(!0),W=V(!1),i=V(!1),e=[],t=V(0),f=V(!1);let y=null,S=null,x;const Q=B(()=>({activeClass:a.activeClass,activeColor:a.activeColor,activeBgColor:a.activeBgColor,indicatorClass:la(a.indicatorColor,a.switchIndicator,a.vertical),narrowIndicator:a.narrowIndicator,inlineLabel:a.inlineLabel,noCaps:a.noCaps})),G=B(()=>{const r=t.value,v=N.value;for(let g=0;g<r;g++)if(e[g].name.value===v)return!0;return!1}),le=B(()=>`q-tabs__content--align-${U.value===!0?"left":i.value===!0?"justify":a.align}`),Pe=B(()=>`q-tabs row no-wrap items-center q-tabs--${U.value===!0?"":"not-"}scrollable q-tabs--${a.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${a.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${a.mobileArrows===!0?"":"out"}-arrows`+(a.dense===!0?" q-tabs--dense":"")+(a.shrink===!0?" col-shrink":"")+(a.stretch===!0?" self-stretch":"")),ot=B(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+le.value+(a.contentClass!==void 0?` ${a.contentClass}`:"")),_e=B(()=>a.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),pe=B(()=>a.vertical!==!0&&n.lang.rtl===!0),ke=B(()=>Lt===!1&&pe.value===!0);he(pe,ne),he(()=>a.modelValue,r=>{xe({name:r,setCurrent:!0,skipEmit:!0})}),he(()=>a.outsideArrows,ge);function xe({name:r,setCurrent:v,skipEmit:g}){N.value!==r&&(g!==!0&&a["onUpdate:modelValue"]!==void 0&&c("update:modelValue",r),(v===!0||a["onUpdate:modelValue"]===void 0)&&(lt(N.value,r),N.value=r))}function ge(){E(()=>{Ne({width:k.value.offsetWidth,height:k.value.offsetHeight})})}function Ne(r){if(_e.value===void 0||F.value===null)return;const v=r[_e.value.container],g=Math.min(F.value[_e.value.scroll],Array.prototype.reduce.call(F.value.children,(D,T)=>D+(T[_e.value.content]||0),0)),R=v>0&&g>v;U.value=R,R===!0&&h(ne),i.value=v<parseInt(a.breakpoint,10)}function lt(r,v){const g=r!=null&&r!==""?e.find(D=>D.name.value===r):null,R=v!=null&&v!==""?e.find(D=>D.name.value===v):null;if(g&&R){const D=g.tabIndicatorRef.value,T=R.tabIndicatorRef.value;y!==null&&(clearTimeout(y),y=null),D.style.transition="none",D.style.transform="none",T.style.transition="none",T.style.transform="none";const $=D.getBoundingClientRect(),L=T.getBoundingClientRect();T.style.transform=a.vertical===!0?`translate3d(0,${$.top-L.top}px,0) scale3d(1,${L.height?$.height/L.height:1},1)`:`translate3d(${$.left-L.left}px,0,0) scale3d(${L.width?$.width/L.width:1},1,1)`,M(()=>{y=setTimeout(()=>{y=null,T.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",T.style.transform="none"},70)})}R&&U.value===!0&&se(R.rootRef.value)}function se(r){const{left:v,width:g,top:R,height:D}=F.value.getBoundingClientRect(),T=r.getBoundingClientRect();let $=a.vertical===!0?T.top-R:T.left-v;if($<0){F.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor($),ne();return}$+=a.vertical===!0?T.height-D:T.width-g,$>0&&(F.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil($),ne())}function ne(){const r=F.value;if(r===null)return;const v=r.getBoundingClientRect(),g=a.vertical===!0?r.scrollTop:Math.abs(r.scrollLeft);pe.value===!0?(Y.value=Math.ceil(g+v.width)<r.scrollWidth-1,W.value=g>0):(Y.value=g>0,W.value=a.vertical===!0?Math.ceil(g+v.height)<r.scrollHeight:Math.ceil(g+v.width)<r.scrollWidth)}function Qe(r){S!==null&&clearInterval(S),S=setInterval(()=>{it(r)===!0&&te()},5)}function Be(){Qe(ke.value===!0?Number.MAX_SAFE_INTEGER:0)}function Le(){Qe(ke.value===!0?0:Number.MAX_SAFE_INTEGER)}function te(){S!==null&&(clearInterval(S),S=null)}function st(r,v){const g=Array.prototype.filter.call(F.value.children,L=>L===v||L.matches&&L.matches(".q-tab.q-focusable")===!0),R=g.length;if(R===0)return;if(r===36)return se(g[0]),g[0].focus(),!0;if(r===35)return se(g[R-1]),g[R-1].focus(),!0;const D=r===(a.vertical===!0?38:37),T=r===(a.vertical===!0?40:39),$=D===!0?-1:T===!0?1:void 0;if($!==void 0){const L=pe.value===!0?-1:1,X=g.indexOf(v)+$*L;return X>=0&&X<R&&(se(g[X]),g[X].focus({preventScroll:!0})),!0}}const nt=B(()=>ke.value===!0?{get:r=>Math.abs(r.scrollLeft),set:(r,v)=>{r.scrollLeft=-v}}:a.vertical===!0?{get:r=>r.scrollTop,set:(r,v)=>{r.scrollTop=v}}:{get:r=>r.scrollLeft,set:(r,v)=>{r.scrollLeft=v}});function it(r){const v=F.value,{get:g,set:R}=nt.value;let D=!1,T=g(v);const $=r<T?-1:1;return T+=$*5,T<0?(D=!0,T=0):($===-1&&T<=r||$===1&&T>=r)&&(D=!0,T=r),R(v,T),ne(),D}function Oe(r,v){for(const g in r)if(r[g]!==v[g])return!1;return!0}function rt(){let r=null,v={matchedLen:0,queryDiff:9999,hrefLen:0};const g=e.filter($=>$.routeData!==void 0&&$.routeData.hasRouterLink.value===!0),{hash:R,query:D}=u.$route,T=Object.keys(D).length;for(const $ of g){const L=$.routeData.exact.value===!0;if($.routeData[L===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:X,query:Ie,matched:vt,href:ft}=$.routeData.resolvedLink.value,Te=Object.keys(Ie).length;if(L===!0){if(X!==R||Te!==T||Oe(D,Ie)===!1)continue;r=$.name.value;break}if(X!==""&&X!==R||Te!==0&&Oe(Ie,D)===!1)continue;const ae={matchedLen:vt.length,queryDiff:T-Te,hrefLen:ft.length-X.length};if(ae.matchedLen>v.matchedLen){r=$.name.value,v=ae;continue}else if(ae.matchedLen!==v.matchedLen)continue;if(ae.queryDiff<v.queryDiff)r=$.name.value,v=ae;else if(ae.queryDiff!==v.queryDiff)continue;ae.hrefLen>v.hrefLen&&(r=$.name.value,v=ae)}r===null&&e.some($=>$.routeData===void 0&&$.name.value===N.value)===!0||xe({name:r,setCurrent:!0})}function ct(r){if(d(),f.value!==!0&&k.value!==null&&r.target&&typeof r.target.closest=="function"){const v=r.target.closest(".q-tab");v&&k.value.contains(v)===!0&&(f.value=!0,U.value===!0&&se(v))}}function ut(){_(()=>{f.value=!1},30)}function be(){Ue.avoidRouteWatcher===!1?q(rt):m()}function je(){if(x===void 0){const r=he(()=>u.$route.fullPath,be);x=()=>{r(),x=void 0}}}function dt(r){e.push(r),t.value++,ge(),r.routeData===void 0||u.$route===void 0?q(()=>{if(U.value===!0){const v=N.value,g=v!=null&&v!==""?e.find(R=>R.name.value===v):null;g&&se(g.rootRef.value)}}):(je(),r.routeData.hasRouterLink.value===!0&&be())}function mt(r){e.splice(e.indexOf(r),1),t.value--,ge(),x!==void 0&&r.routeData!==void 0&&(e.every(v=>v.routeData===void 0)===!0&&x(),be())}const Ue={currentModel:N,tabProps:Q,hasFocus:f,hasActiveTab:G,registerTab:dt,unregisterTab:mt,verifyRouteModel:be,updateModel:xe,onKbdNavigate:st,avoidRouteWatcher:!1};$t(Xe,Ue);function ze(){y!==null&&clearTimeout(y),te(),x!==void 0&&x()}let Ke;return Ze(ze),Ct(()=>{Ke=x!==void 0,ze()}),Pt(()=>{Ke===!0&&je(),ge()}),()=>j("div",{ref:k,class:Pe.value,role:"tablist",onFocusin:ct,onFocusout:ut},[j(Bt,{onResize:Ne}),j("div",{ref:F,class:ot.value,onScroll:ne},Je(b.default)),j(ce,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(Y.value===!0?"":" q-tabs__arrow--faded"),name:a.leftIcon||n.iconSet.tabs[a.vertical===!0?"up":"left"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:te,onMouseleavePassive:te,onTouchendPassive:te}),j(ce,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(W.value===!0?"":" q-tabs__arrow--faded"),name:a.rightIcon||n.iconSet.tabs[a.vertical===!0?"down":"right"],onMousedownPassive:Le,onTouchstartPassive:Le,onMouseupPassive:te,onMouseleavePassive:te,onTouchendPassive:te})])}}),fe=ye({name:"QTabPanel",props:Ot,setup(a,{slots:b}){return()=>j("div",{class:"q-tab-panel",role:"tabpanel"},Je(b.default))}}),at=ye({name:"QTabPanels",props:{...jt,...kt},emits:Ut,setup(a,{slots:b}){const c=Fe(),u=xt(a,c.proxy.$q),{updatePanelsList:n,getPanelContent:E,panelDirectives:h}=zt(),M=B(()=>"q-tab-panels q-panel-parent"+(u.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(b),It("div",{class:M.value},E(),"pan",a.swipeable,()=>h.value))}});const na={class:"my-card"},ia={class:"q-pt-none"},ra={class:"row q-pt-sm"},ca={class:"col-xs-12 col-md-8"},ua={class:"row"},da=s("div",{class:"col-11 flex justify-start items-center"},[s("label",{class:"text-h6 text-weight-medium"}," >> Datos del Cliente:")],-1),ma={class:"col-xs-12 col-md-6 col-sm-6"},va={class:"col-xs-12 col-md-6 col-sm-6"},fa={class:"col-xs-12 col-md-6 col-sm-6"},_a={class:"col-xs-12 col-md-6 col-sm-6"},pa={class:"col-xs-12 col-md-6 col-sm-6"},ga={class:"col-xs-12 col-md-6 col-sm-6"},ba={class:"col-xs-11 col-md-4"},ha={class:"row"},ya=s("label",{class:"text-h6 text-weight-medium"}," >> Resumen Notificaciones:",-1),wa=[ya],qa=s("label",null,null,-1),$a={class:"row justify-center q-mt-md"},Ca={__name:"ResumenPage",setup(a){const{api:b,mostrarNotify:c,formCliente:u,validaciones:n,validarDatosPersonales:E}=qe(),h=V(!1),M=async()=>{if(!E())try{h.value=!0;const{planInternet:d,created_at:q,updated_at:m,...k}=u.value,{data:F}=await b.put(`/customers/actualizarDatosPersonales/${u.value.id}`,k);u.value={...F.cliente[0]},c("positive",F.msg),h.value=!1}catch(d){h.value=!1,c("warning",d.response.data.message)}};return(_,d)=>(w(),A($e,{onSubmit:M},{default:l(()=>[s("div",na,[s("div",ia,[s("div",ra,[s("div",ca,[s("div",ua,[da,s("div",{class:C(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[s("label",{class:C(_.$q.screen.width<1022||"q-pr-md")}," Cliente: ",2)],2),s("div",ma,[o(J,{modelValue:p(u).nombres,"onUpdate:modelValue":[d[0]||(d[0]=q=>p(u).nombres=q),d[1]||(d[1]=q=>(p(u).nombres=p(u).nombres.toUpperCase(),p(n).nombres.isValid=!0))],modelModifiers:{trim:!0},error:!p(n).nombres.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:l(()=>[s("label",{class:C(_.$q.dark.isActive?"text-red-4":"text-negative")},I(p(n).nombres.message),3)]),_:1},8,["modelValue","error"])]),s("div",{class:C(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[s("label",{class:C(_.$q.screen.width<1022||"q-pr-md")}," Email: ",2)],2),s("div",va,[o(J,{modelValue:p(u).email,"onUpdate:modelValue":d[2]||(d[2]=q=>p(u).email=q),modelModifiers:{trim:!0},error:!p(n).email.isValid,"input-class":"resaltarTextoInput",onKeyup:d[3]||(d[3]=q=>p(n).email.isValid=!0),dense:"",outlined:""},{error:l(()=>[s("label",{class:C(_.$q.dark.isActive?"text-red-4":"text-negative")},I(p(n).email.message),3)]),_:1},8,["modelValue","error"])]),s("div",{class:C(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[s("label",{class:C(_.$q.screen.width<1022||"q-pr-md")}," Celular: ",2)],2),s("div",fa,[o(J,{type:_.$q.platform.is.mobile?"number":"text",modelValue:p(u).celular,"onUpdate:modelValue":d[4]||(d[4]=q=>p(u).celular=q),modelModifiers:{trim:!0},counter:"",maxlength:"10","input-class":"resaltarTextoInput",error:!p(n).celular.isValid,onKeyup:d[5]||(d[5]=q=>(p(n).celular.isValid=!0,p(u).celular=p(u).celular.replace(/\D/g,""))),dense:"",outlined:""},{error:l(()=>[s("label",{class:C(_.$q.dark.isActive?"text-red-4":"text-negative")},I(p(n).celular.message),3)]),_:1},8,["type","modelValue","error"])]),s("div",{class:C(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[s("label",{class:C(_.$q.screen.width<1022||"q-pr-md")}," Direcci\xF3n: ",2)],2),s("div",_a,[o(J,{modelValue:p(u).direccion,"onUpdate:modelValue":d[6]||(d[6]=q=>p(u).direccion=q),error:!p(n).direccion.isValid,"input-class":"resaltarTextoInput",onKeyup:d[7]||(d[7]=q=>p(n).direccion.isValid=!0),dense:"",outlined:""},{error:l(()=>[s("label",{class:C(_.$q.dark.isActive?"text-red-4":"text-negative")},I(p(n).direccion.message),3)]),_:1},8,["modelValue","error"])]),s("div",{class:C(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[s("label",{class:C(_.$q.screen.width<1022||"q-pr-md")}," Tipo de Documento: ",2)],2),s("div",pa,[o(De,{dense:"",modelValue:p(u).tipo_documento,"onUpdate:modelValue":[d[8]||(d[8]=q=>p(u).tipo_documento=q),d[9]||(d[9]=q=>p(n).tipo_documento.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!p(n).tipo_documento.isValid,"emit-value":"","map-options":"",options:[{label:"RUC",value:"04"},{label:"Cedula",value:"05"},{label:"Pasaporte",value:"06"}]},{error:l(()=>[s("label",{class:C(_.$q.dark.isActive?"text-red-4":"text-negative")},I(p(n).tipo_documento.message),3)]),_:1},8,["modelValue","error"])]),s("div",{class:C(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[s("label",{class:C(_.$q.screen.width<1022||"q-pr-md")}," N. Identificaci\xF3n: ",2)],2),s("div",ga,[o(J,{type:_.$q.platform.is.mobile?"number":"text",modelValue:p(u).numero_documento,"onUpdate:modelValue":d[10]||(d[10]=q=>p(u).numero_documento=q),readonly:p(u).tipo_documento==="","input-class":"resaltarTextoInput",counter:"",maxlength:p(u).tipo_documento==="04"?13:10,error:!p(n).numero_documento.isValid,onKeyup:d[11]||(d[11]=q=>(p(n).numero_documento.isValid=!0,p(u).numero_documento=p(u).numero_documento.replace(/\D/g,""))),dense:"",outlined:""},{error:l(()=>[s("label",{class:C(_.$q.dark.isActive?"text-red-4":"text-negative")},I(p(n).numero_documento.message),3)]),_:1},8,["type","modelValue","readonly","maxlength","error"])])])]),s("div",ba,[s("div",ha,[s("div",{class:C(["col-11 flex justify-start items-center",[_.$q.screen.xs?"q-my-md":""]])},wa,2),qa])])])]),s("div",$a,[s("div",{class:C(["q-pb-md",[_.$q.screen.width>600||" q-ml-lg"]])},[o(z,{type:"submit",icon:"save",loading:h.value,outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:l(()=>[P(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])],2)])])]),_:1}))}};const Pa={class:"my-card"},ka={class:"q-pt-none"},xa={class:"row q-pt-sm"},Ia={class:"col-12"},Ta={class:"row"},Va=s("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),Aa={class:"text-h6 text-weight-medium"},Sa={class:"col-12 q-mt-md"},Ea={__name:"ServiciosPage",setup(a){const b=[{name:"cont",label:"#",align:"center"},{name:"nombre_plan",align:"center",label:"Plan",field:"nombre_plan"},{name:"precio",label:"Costo",field:"precio",align:"center"},{name:"ipv4",label:"IP",field:"ipv4",align:"center"},{name:"router",label:"Router",field:"router",align:"center"},{name:"fecha_instalacion",label:"Instalado",field:"fecha_instalacion",align:"center"},{name:"direccion",label:"Direcci\xF3n",field:"direccion",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}],{servicios:c}=Ce(),u=c.value;return(n,E)=>(w(),A($e,{onSubmit:E[0]||(E[0]=()=>{})},{default:l(()=>[s("div",Pa,[s("div",ka,[s("div",xa,[s("div",Ia,[s("div",Ta,[s("div",{class:C(["col-12 flex items-center",n.$q.screen.xs?"justify-center":"justify-between"])},[Va,s("label",Aa,[o(z,{outline:"",color:"primary",label:"Agregar Servicio",class:C(["q-mr-xs",!n.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),s("div",Sa,[o(et,{rows:p(u),columns:b,class:C([n.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{"body-cell-cont":l(h=>[o(O,{props:h},{default:l(()=>[P(I(h.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-estado":l(h=>[o(O,{props:h},{default:l(()=>[h.row.estado=="Activo"?(w(),A(de,{key:0,outline:"",color:"positive",label:"Activo",class:"q-pa-sm"})):(w(),A(de,{key:1,outline:"",color:"red",label:"Inactivo",class:"q-pa-sm"}))]),_:2},1032,["props"])]),"body-cell-acciones":l(h=>[o(O,{props:h},{default:l(()=>[P(I(h.rowIndex+1),1)]),_:2},1032,["props"])]),_:1},8,["rows","class"])])])])])])])]),_:1}))}},Ra={__name:"ConfiguracionPage",setup(a){return(b,c)=>(w(),A(Kt,{edit:!0}))}};const ue=a=>(At("data-v-1319842c"),a=a(),St(),a),Da={class:"text-h6 text-center"},Fa={class:"row q-pt-lg q-gutter-lg justify-center"},Ma={class:"col-12"},Na=ue(()=>s("label",null,"Forma de pago:",-1)),Qa={class:"col-12 q-mt-sm"},Ba=ue(()=>s("label",null,"N\xBA transacci\xF3n:",-1)),La={key:0,class:"col-12 q-mt-sm"},Oa=ue(()=>s("label",null,"Pagar Importe Total:",-1)),ja={class:"col-12 q-mt-sm"},Ua={key:1,class:"col-12 q-mt-sm"},za=ue(()=>s("label",null,"Monto Pendiente:",-1)),Ka={key:2,class:"col-12 q-mt-sm"},Ya=ue(()=>s("label",null,"Sucursal a Facturar:",-1)),Wa={class:"col-12 q-mt-none"},Ga=ue(()=>s("label",null,"Notas:",-1)),Ha={class:"col-xs-9 col-sm-12 q-mt-lg q-mb-md flex justify-center"},Za={__name:"ModalPago",props:["servicio","nuevoPago"],emits:["actualizarDatos"],setup(a,{emit:b}){const c=a,u=["forma_pago","montoPendiente","montoCancelar"],{api:n,claim:E,mostrarNotify:h,route:M}=qe(),{showModalPago:_}=Ce(),d=V([]),q=V(!1),m=V({forma_pago:"",n_transaccion:"",importe_total:!0,sucursal_id:"",montoCancelar:"",montoPendiente:"",detalle:""}),k=V({forma_pago:{message:"",isValid:!0},montoPendiente:{message:"",isValid:!0},montoCancelar:{message:"",isValid:!0},sucursal_id:{message:"",isValid:!0}});if(c.nuevoPago)if(c.servicio.pagos.length==0)m.value.montoPendiente=c.servicio.precio,m.value.montoCancelar=c.servicio.precio;else{let i=0;c.servicio.pagos.forEach(t=>{i+=parseFloat(t.valor)});const e=parseFloat(c.servicio.precio)-i;m.value.montoPendiente=e.toString(),m.value.montoCancelar=e.toString()}else m.value={...c.servicio.pago,montoCancelar:parseFloat(c.servicio.pago.valor).toFixed(2)};const F=i=>{let e=0;e=m.value[i];const t=/^\d{0,9}(\.\d{1,2})?$/;setTimeout(function(){let f=0;if(f=m.value[i],!t.test(f.toString())){const y=parseFloat(e.toString().substring(0,e.toString().length-1));m.value[i]=y}},0)},N=()=>{let i=!1;return c.nuevoPago&&(u.forEach(e=>{(m.value[e].length==0||m.value[e]==0)&&(k.value[e].message="Debes completar este campo",k.value[e].isValid=!1,i=!0)}),(E.roles[0]=="Super-Administrador"||E.roles[0]=="Administrador")&&m.value.sucursal_id==""&&c.servicio.tipo_comprobante!="Recibo"&&parseFloat(m.value.montoCancelar)>=parseFloat(m.value.montoPendiente)&&(k.value.sucursal_id.message="Debes seleccionar una sucursal",k.value.sucursal_id.isValid=!1,i=!0)),i},U=["Efectivo Oficina/Sucursal","Dep\xF3sito Bancario","Transferencia Bancaria","Facilito","Punto Agil"],Y=async()=>{if(N())return;const i=Date.now(),e=me.formatDate(i,"DD/MM/YYYY"),t=me.formatDate(i,"HH:mma"),f=parseFloat(m.value.montoPendiente)-parseFloat(m.value.montoCancelar);let y=0;c.nuevoPago&&c.servicio.pagos.forEach(G=>{y+=parseFloat(G.valor)});let S;if(c.nuevoPago)S=c.servicio.pagos,S.unshift({valor:m.value.montoCancelar,monto_pendiente:f.toString(),totalAbonado:(y+parseFloat(m.value.montoCancelar)).toString(),fecha_abono:e,hora_abono:t,detalle:m.value.detalle,n_transaccion:m.value.n_transaccion,forma_pago:m.value.forma_pago});else{const G=c.servicio.pagos.pagos.findIndex(le=>c.servicio.pago.hora_abono==le.hora_abono&&c.servicio.pago.valor==le.valor);c.servicio.pagos.pagos[G]={...m.value}}let x,Q;c.nuevoPago?(x={pagos:S,estadoSRI:f<=0?"PAGADO":"PENDIENTE"},Q=c.servicio.pago_id):(x={pagos:c.servicio.pagos.pagos},Q=c.servicio.pagos.pago_id);try{let G={headers:{sucursal_id:m.value.sucursal_id}};q.value=!0;const{data:le}=await n.patch(`/pagos/${Q}`,x,G);if(f<=0&&c.servicio.tipo_comprobante!="Recibo"&&c.nuevoPago){let Pe={customer_id:M.params.client_id,tipo:"EMISION",subtotal:parseFloat(c.servicio.precio),iva:parseFloat(c.servicio.iva),descuento:0,total:parseFloat(c.servicio.precio),entity:"Pagos",pago_id:c.servicio.pago_id,user_id:E.id,products:[{aplicaIva:c.servicio.iva>0,cantidad:1,pvp:c.servicio.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:c.servicio.pago_id.split("-")[0]}]};await n.post("/CE/facturas/generarFacturaElectronica",Pe,G)}q.value=!1,h("positive",le.msg),_.value=!1,b("actualizarDatos")}catch(G){console.log(G)}},W=async i=>{d.value=[];const{data:e}=await n.get(`/sucursal/find/${i}/company`);e.forEach(t=>{d.value.push({label:t.nombre,value:t.id})}),d.value.length==1&&(m.value.sucursal_id=d.value[0].value)};return(E.roles[0]=="Super-Administrador"||E.roles[0]=="Administrador")&&W(E.company.id),(i,e)=>(w(),A(we,{style:{width:"450px !important","max-width":"fit-content"}},{default:l(()=>[o(Ge,null,{default:l(()=>[s("div",Da,[P(I(c.nuevoPago?"Agregar Pago:":"Editar Pago")+" ",1),oe(o(z,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[Wt]])])]),_:1}),o(Me,{inset:""}),o(Ge,{class:"q-pt-none"},{default:l(()=>[o($e,{onSubmit:Y},{default:l(()=>[s("div",Fa,[s("div",Ma,[Na,o(De,{color:"orange","transition-show":"scale","transition-hide":"scale","onUpdate:modelValue":[e[0]||(e[0]=t=>k.value.forma_pago.isValid=!0),e[1]||(e[1]=t=>m.value.forma_pago=t)],error:!k.value.forma_pago.isValid,outlined:"",modelValue:m.value.forma_pago,dense:"",options:U},{error:l(()=>[s("label",{class:C(i.$q.dark.isActive?"text-red-4":"text-negative")},I(k.value.forma_pago.message),3)]),_:1},8,["error","modelValue"])]),s("div",Qa,[Ba,o(J,{modelValue:m.value.n_transaccion,"onUpdate:modelValue":e[2]||(e[2]=t=>m.value.n_transaccion=t),dense:"",outlined:""},null,8,["modelValue"])]),c.nuevoPago?(w(),ee("div",La,[Oa,o(Vt,{color:"green","onUpdate:modelValue":[e[3]||(e[3]=t=>m.value.montoCancelar=m.value.montoPendiente),e[4]||(e[4]=t=>m.value.importe_total=t)],size:"lg",modelValue:m.value.importe_total},null,8,["modelValue"])])):K("",!0),s("div",ja,[s("label",null,I(c.nuevoPago?"Monto a Cancelar:":"Monto Cancelado"),1),o(J,{modelValue:m.value.montoCancelar,"onUpdate:modelValue":[e[5]||(e[5]=t=>m.value.montoCancelar=t),e[6]||(e[6]=t=>(F("montoCancelar"),k.value.montoCancelar.isValid=!0))],modelModifiers:{trim:!0},readonly:m.value.importe_total||!c.nuevoPago,"input-style":"padding-right: 27px;",type:"number",step:"0.01",error:!k.value.montoCancelar.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:l(()=>[s("label",{class:C(i.$q.dark.isActive?"text-red-4":"text-negative")},I(k.value.montoCancelar.message),3)]),prepend:l(()=>[o(ce,{name:"attach_money"})]),_:1},8,["modelValue","readonly","error"])]),c.nuevoPago?(w(),ee("div",Ua,[za,o(J,{modelValue:m.value.montoPendiente,"onUpdate:modelValue":[e[7]||(e[7]=t=>m.value.montoPendiente=t),e[8]||(e[8]=t=>(F("montoPendiente"),k.value.montoPendiente.isValid=!0))],modelModifiers:{trim:!0},disable:"",type:"number",step:"0.01",error:!k.value.montoPendiente.isValid,"input-style":"padding-right: 27px;","input-class":"resaltarTextoInput",dense:"",outlined:""},{error:l(()=>[s("label",{class:C(i.$q.dark.isActive?"text-red-4":"text-negative")},I(k.value.montoCancelar.message),3)]),prepend:l(()=>[o(ce,{name:"attach_money"})]),_:1},8,["modelValue","error"])])):K("",!0),c.servicio.tipo_comprobante!="Recibo"&&c.nuevoPago&&parseFloat(m.value.montoCancelar)>=parseFloat(m.value.montoPendiente)?(w(),ee("div",Ka,[Ya,d.value.length>1?(w(),A(De,{key:0,modelValue:m.value.sucursal_id,"onUpdate:modelValue":[e[9]||(e[9]=t=>m.value.sucursal_id=t),e[10]||(e[10]=t=>k.value.sucursal_id.isValid=!0)],error:!k.value.sucursal_id.isValid,outlined:"",options:d.value,"emit-value":"","map-options":"",dense:""},{error:l(()=>[s("label",{class:C(i.$q.dark.isActive?"text-red-4":"text-negative")},I(k.value.sucursal_id.message),3)]),"no-option":l(()=>[o(re,null,{default:l(()=>[o(Z,{class:"text-grey"},{default:l(()=>[P(" No se encontro sucursal ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","options"])):K("",!0)])):K("",!0),s("div",Wa,[Ga,o(J,{modelValue:m.value.detalle,"onUpdate:modelValue":e[11]||(e[11]=t=>m.value.detalle=t),modelModifiers:{trim:!0},outlined:"",rows:"2",type:"textarea"},null,8,["modelValue"])]),s("div",Ha,[o(z,{type:"submit",icon:"save",loading:q.value,outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:l(()=>[P(" \xA0 Guardar ")]),_:1},8,["loading"])])])]),_:1})]),_:1})]),_:1}))}};var Xa=Tt(Za,[["__scopeId","data-v-1319842c"]]);const Ja={class:"my-card"},eo={class:"q-pt-none"},to={class:"row q-pt-sm"},ao={class:"col-12"},oo={class:"row"},lo={class:"col-12 q-mt-md"},so=s("br",null,null,-1),no=s("br",null,null,-1),io=s("br",null,null,-1),ro=s("br",null,null,-1),co={class:"row q-col-gutter-sm"},uo=s("div",{class:"full-width row flex-center text-lime-10 q-gutter-sm"},[s("span",{class:"text-subtitle1"}," No se encontr\xF3 ningun registros ")],-1),mo={__name:"IndexFacturas",setup(a){const b=V([{name:"x",align:"center",label:" ",field:"x"},{name:"n_comprobantes",align:"center",label:"N. Comprobante",field:"n_comprobantes"},{name:"emitido",label:"Emitido",field:"emitido",align:"center"},{name:"vencimiento",label:"Vencimiento",field:"vencimiento",align:"center"},{name:"precio",label:"Total",field:"precio",align:"center"},{name:"iva",label:"Impuesto",field:"iva",align:"center"},{name:"pagado",label:"Pagado",field:"pagado",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}]),c=V(!0),u=V({}),{api:n,servicios:E,pagos:h,showModalPago:M}=Ce(),{claim:_,mes_pago:d,route:q}=qe();let m;const k=()=>{const i=new Gt("http://205.235.6.108:3000/socket.io/socket.io.js",{extraHeaders:{autentication:_.id}});m==null||m.removeAllListeners(),m=i.socket("/"),m.on("updateStateInvoice",()=>{h.value=[],N()})},F=async()=>{const{data:i}=await n.get("/customers/find/"+q.params.client_id);return i},N=async()=>{try{h.value=[];const{data:i}=await n.get("/pagos/find/"+E.value[0].servicio_id);i.length>0&&(i[0].servicio.factura_id.tipo_comprobante=="Recibo"&&(b.value[1].label="Tipo Comprobante"),d.value.dia_pago=i[0].dia_pago,i[0].estadoSRI!=="PAGADO"||i[0].estadoSRI!=="AUTORIZADO"?d.value.estado="pendiente":d.value.estado="pagado"),i.forEach(e=>{var x;const t=me.addToDate(e.created_at,{days:e.servicio.factura_id.dia_pago-1});let f;e.servicio.factura_id.tipo_impuesto=="Impuestos incluido"?f=`${Math.floor(parseFloat(e.servicio.precio)*.12*100)/100}`:f=0;let y=0;e.pagos.forEach(Q=>{y+=parseFloat(Q.valor)});const S=(x=e.estadoSRI)==null?void 0:x.trim();h.value.push({ambiente:e.sucursal_id?e.sucursal_id.ambiente:"",clave_acceso:e.clave_acceso,company_name:e.servicio.router_id.company_id.nombre_comercial,num_comprobante:e.num_comprobante,sucursal_id:e.sucursal_id!==null?e.sucursal_id.id:null,pago_id:e.id,ruc:e.servicio.perfil_internet.router_id.company_id.ruc,direccion:e.sucursal_id!==null?e.sucursal_id.direccion:null,emitido:me.formatDate(e.created_at,"DD/MM/YYYY"),vencimiento:me.formatDate(t,"DD/MM/YYYY"),precio:`${e.servicio.precio}`,tipo_comprobante:e.servicio.factura_id.tipo_comprobante,iva:f,pagos:e.pagos,pagado:y,estado:S,cancelado:y>=parseFloat(e.servicio.precio),expand:!1,loading:!1})})}catch(i){console.log(i)}},U=async(i,e)=>{h.value[e].loading=!0;let t={headers:{sucursal_id:i.sucursal_id}},f={ambiente:i.ambiente,clave_acceso:i.clave_acceso,company_name:i.company_name,sucursal_id:i.sucursal_id,customer_id:q.params.client_id,num_comprobante:i.num_comprobante,tipo:"EMISION",subtotal:parseFloat(i.precio),iva:parseFloat(i.iva),descuento:0,total:parseFloat(i.precio),entity:"Pagos",pago_id:i.pago_id,user_id:_.id,products:[{aplicaIva:i.iva>0,cantidad:1,pvp:i.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:i.pago_id.split("-")[0]}]};i.estado.trim()=="ERROR ENVIO RECEPCION"&&await n.post("/CE/facturas/recepcionComprobantesOffline",f,t),i.estado.trim()=="RECIBIDA"&&await n.post("/CE/facturas/autorizacionComprobantesOffline",f,t),h.value[e].loading=!1},Y=async(i,e,t=null)=>{t&&(i.company_name=t.company_name,i.ruc=t.ruc,i.direccion=t.direccion);const f=await F(),y={cliente:f[0].nombres,tipoDoc:f[0].tipo_documento,num_doc:f[0].numero_documento,email:f[0].email};await Qt.post("http://127.0.0.1:3001/api/impresion",{data:i,dataCliente:y,userName:_.fullName,tipo:e})},W=(i,e,t,f)=>{Mt.create({title:"\xBFEstas seguro de eliminar este abono?",message:`<span style="display: block;width: 100%;display: flex;align-items: center;">
                  <strong style="display: inline-block;width: 40%;text-align: end;">
                    Fecha abonado:
                  </strong> 
                  <label style="display: inline-block;width: 57%;" class="q-ml-xs">
                    ${i.fecha_abono} ${i.hora_abono}
                  </label>
                </span>
                <span style="display: block;width: 100%;display: flex;align-items: center;">
                  <strong style="display: inline-block;width: 40%;text-align: end;">
                    Forma de pago:
                  </strong> 
                  <label style="display: inline-block;width: 57%;" class="q-ml-xs">
                    ${i.forma_pago} 
                  </label>
                </span>
                <span style="display: block;width: 100%;display: flex;align-items: center;">
                  <strong style="display: inline-block;width: 40%;text-align: end;">
                    Valor Abonado:
                  </strong> 
                  <label style="display: inline-block;width: 57%;" class="q-ml-xs">
                    $${parseFloat(i.valor).toFixed(2)}
                  </label>                
                </span>`,html:!0,ok:{push:!0,label:"Eliminar",color:"teal-7"},cancel:{push:!0,color:"blue-grey-8",label:"Cancelar"}}).onOk(async()=>{try{const y=[...e];let S=0;y.reverse().map((x,Q)=>{i.hora_abono==x.hora_abono&&i.valor==x.valor?x.delete=!0:(x.totalAbonado=(parseFloat(x.valor)+S).toString(),x.monto_pendiente=(parseFloat(t)-parseFloat(x.totalAbonado)).toString(),S+=parseFloat(x.totalAbonado))}),setTimeout(async()=>{const x=y.filter(Q=>Q.delete!==!0);await n.patch(`/pagos/${f}`,{pagos:x}),N()},1e3)}catch(y){mostrarNotify("negative",y.response.data.message)}})};return N(),k(),(i,e)=>(w(),ee(Re,null,[o($e,{onSubmit:e[0]||(e[0]=()=>{})},{default:l(()=>[s("div",Ja,[s("div",eo,[s("div",to,[s("div",ao,[s("div",oo,[s("div",lo,[o(et,{rows:p(h),columns:b.value,class:C([i.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{body:l(t=>[o(He,{props:t},{default:l(()=>[t.row.estado!="NO PAGADO"?(w(),A(O,{key:0,"auto-width":""},{default:l(()=>[o(z,{size:"sm",color:"accent",round:"",dense:"",onClick:f=>t.row.expand=!t.row.expand,icon:t.row.expand?"remove":"add"},null,8,["onClick","icon"])]),_:2},1024)):(w(),A(O,{key:1,"auto-width":""})),o(O,{key:"n_comprobantes",props:t},{default:l(()=>[P(I(t.row.tipo_comprobante=="Recibo"?"Recibo":t.row.num_comprobante==""||t.row.num_comprobante==null?"- - - - - -":t.row.num_comprobante),1)]),_:2},1032,["props"]),o(O,{key:"emitido",props:t},{default:l(()=>[P(I(t.row.emitido),1)]),_:2},1032,["props"]),o(O,{key:"vencimiento",props:t},{default:l(()=>[P(I(t.row.vencimiento),1)]),_:2},1032,["props"]),o(O,{key:"precio",props:t},{default:l(()=>[P(" $"+I(t.row.precio),1)]),_:2},1032,["props"]),o(O,{key:"iva",props:t},{default:l(()=>[P(" $"+I(t.row.iva),1)]),_:2},1032,["props"]),o(O,{key:"pagado",props:t},{default:l(()=>[P(" $"+I(t.row.pagado),1)]),_:2},1032,["props"]),o(O,{key:"estado",props:t},{default:l(()=>[t.row.estado=="AUTORIZADO"?(w(),A(de,{key:0,outline:"",class:"q-py-xs q-px-md",color:"secondary"},{default:l(()=>[P(" PAGADO "),so,P(" Y "),no,P(" AUTORIZADO ")]),_:1})):t.row.estado=="NO PAGADO"||t.row.estado=="PENDIENTE"?(w(),A(de,{key:1,outline:"",class:"q-py-xs q-px-md",color:i.$q.dark.isActive?"blue-grey-3":"blue-grey-7",label:t.row.estado},null,8,["color","label"])):(w(),A(de,{key:2,outline:"",class:"q-py-xs q-px-md",color:i.$q.dark.isActive?"warning":"orange-10"},{default:l(()=>[P(" PAGADO "),io,P(" - "),ro,P(" "+I(t.row.estado),1)]),_:2},1032,["color"]))]),_:2},1032,["props"]),o(O,{key:"acciones",props:t},{default:l(()=>[t.row.cancelado?K("",!0):(w(),A(z,{key:0,round:"",color:"blue-grey",onClick:f=>(M.value=!0,u.value=t.row),icon:"done",size:"10px",class:"q-mr-sm"},{default:l(()=>[o(Ee,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:l(()=>[P(" Agregar Pago ")]),_:1})]),_:2},1032,["onClick"])),t.row.estado=="ERROR ENVIO RECEPCION"||t.row.estado=="ERROR ENVIO RECEPCION - ANULACION"||t.row.estado=="RECIBIDA"?(w(),A(z,{key:1,round:"",color:"blue-grey",icon:"fa-solid fa-retweet",loading:t.row.loading,onClick:f=>U(t.row,t.rowIndex),size:"10px",class:"q-mr-sm"},{default:l(()=>[o(Ee,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:l(()=>[P(" Emitir Factura Electr\xF3nica ")]),_:1})]),_:2},1032,["loading","onClick"])):K("",!0),t.row.estado=="AUTORIZADO"?(w(),A(z,{key:2,round:"",color:"blue-grey",icon:"print",onClick:f=>Y(t.row,"factura"),size:"10px",class:"q-mr-sm"},{default:l(()=>[o(Ee,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:l(()=>[P(" Imprimir comprobante ")]),_:1})]),_:2},1032,["onClick"])):K("",!0)]),_:2},1032,["props"])]),_:2},1032,["props"]),oe(o(He,{props:t},{default:l(()=>[o(O,{colspan:"100%"},{default:l(()=>[s("div",co,[(w(!0),ee(Re,null,Et(t.row.pagos,(f,y)=>(w(),ee("div",{key:y,class:"col-4"},[o(Yt,{bordered:"",padding:"",dense:""},{default:l(()=>[o(H,{header:"",class:"text-center"},{default:l(()=>[P(" Fecha Abonado: "+I(f.fecha_abono)+" "+I(f.hora_abono),1)]),_:2},1024),oe((w(),A(re,{tag:"label"},{default:l(()=>[o(Z,null,{default:l(()=>[o(H,null,{default:l(()=>[P("Forma de Pago:")]),_:1})]),_:1}),o(Z,{side:"",top:"",class:"justify-center"},{default:l(()=>[o(H,null,{default:l(()=>[P(I(f.forma_pago),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]]),oe((w(),A(re,{tag:"label",class:""},{default:l(()=>[o(Z,null,{default:l(()=>[o(H,null,{default:l(()=>[P("Valor Abonado:")]),_:1})]),_:1}),o(Z,{side:"",top:"",class:"justify-center"},{default:l(()=>[o(H,null,{default:l(()=>[P("$"+I(f.valor),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]]),oe((w(),A(re,{tag:"label"},{default:l(()=>[o(Z,null,{default:l(()=>[o(H,null,{default:l(()=>[P("N\xBA transacci\xF3n:")]),_:1})]),_:1}),o(Z,{side:"",top:"",class:"justify-center"},{default:l(()=>[o(H,null,{default:l(()=>[P(I(f.n_transaccion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]]),oe((w(),A(re,{tag:"label"},{default:l(()=>[o(Z,null,{default:l(()=>[o(H,null,{default:l(()=>[P("Detalle:")]),_:1})]),_:1}),o(Z,{side:"",top:"",class:"justify-center"},{default:l(()=>[o(H,null,{default:l(()=>[P(I(f.detalle==""?"Sin detalles":f.detalle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]]),oe((w(),A(re,{tag:"label"},{default:l(()=>[o(Z,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>[t.row.estado=="PENDIENTE"?(w(),A(z,{key:0,square:"",onClick:S=>(M.value=!0,u.value={pagos:t.row,pago:f},c.value=!1),color:i.$q.dark.isActive?"blue-grey-2":"blue-grey-7",class:"q-px-md q-mr-md",outline:"",rounded:"",dense:"","icon-right":"edit"},null,8,["onClick","color"])):K("",!0),o(z,{square:"",onClick:S=>Y(f,"Recibo",t.row),color:i.$q.dark.isActive?"blue-grey-2":"blue-grey-7",class:"q-px-md",outline:"",rounded:"",dense:"","icon-right":"print"},null,8,["onClick","color"]),t.row.estado=="PENDIENTE"?(w(),A(z,{key:1,square:"",onClick:S=>W(f,t.row.pagos,t.row.precio,t.row.pago_id),color:i.$q.dark.isActive?"blue-grey-2":"blue-grey-7",class:"q-px-md q-ml-md",outline:"",rounded:"",dense:"","icon-right":"delete"},null,8,["onClick","color"])):K("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]])]),_:2},1024)]))),128))])]),_:2},1024)]),_:2},1032,["props"]),[[Rt,t.row.expand]])]),"no-data":l(({icon:t})=>[uo]),_:1},8,["rows","columns","class"])])])])])])])]),_:1}),o(Ft,{modelValue:p(M),"onUpdate:modelValue":e[1]||(e[1]=t=>Dt(M)?M.value=t:null)},{default:l(()=>[o(Xa,{servicio:u.value,nuevoPago:c.value,onActualizarDatos:N},null,8,["servicio","nuevoPago"])]),_:1},8,["modelValue"])],64))}},vo={class:"q-gutter-y-md"},fo={__name:"FacturacionPagos",setup(a){const b=V("facturas");return(c,u)=>(w(),ee("div",vo,[o(we,null,{default:l(()=>[o(tt,{modelValue:b.value,"onUpdate:modelValue":u[0]||(u[0]=n=>b.value=n),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:l(()=>[o(ve,{name:"facturas",label:"Facturas"}),o(ve,{name:"configuracion",label:"Configuraci\xF3n"})]),_:1},8,["modelValue"]),o(Me),o(at,{modelValue:b.value,"onUpdate:modelValue":u[1]||(u[1]=n=>b.value=n),animated:""},{default:l(()=>[o(fe,{name:"facturas"},{default:l(()=>[o(mo)]),_:1}),o(fe,{name:"configuracion"},{default:l(()=>[o(Ra)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};const _o={class:"q-gutter-y-md"},po={__name:"IndexPage",setup(a){const b=V("resumen");return(c,u)=>(w(),ee("div",_o,[o(we,null,{default:l(()=>[o(tt,{modelValue:b.value,"onUpdate:modelValue":u[0]||(u[0]=n=>b.value=n),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[o(ve,{name:"resumen",label:"Resumen"}),o(ve,{name:"servicios",label:"Servicios"}),o(ve,{name:"facturacion/pagos",label:"Facturaci\xF3n/Pagos"})]),_:1},8,["modelValue"]),o(Me),o(at,{modelValue:b.value,"onUpdate:modelValue":u[1]||(u[1]=n=>b.value=n),animated:""},{default:l(()=>[o(fe,{name:"resumen"},{default:l(()=>[o(Ca)]),_:1}),o(fe,{name:"servicios"},{default:l(()=>[b.value=="servicios"?(w(),A(Ea,{key:0})):K("",!0)]),_:1}),o(fe,{name:"facturacion/pagos"},{default:l(()=>[b.value=="facturacion/pagos"?(w(),A(fo,{key:0})):K("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}},go={class:"q-ma-lg q-pt-md"},bo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},ho={class:"text-h6 text-center",style:{position:"relative",top:"-8px",left:"17px"}},yo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},wo={class:"col-xs-11 col-md-11 q-pt-xs"},Uo={__name:"EditCliente",setup(a){const{api:b,route:c,formCliente:u,formFacturacion:n}=qe(),{servicios:E}=Ce(),h=V("");return(async()=>{E.value=[];const{data:_}=await b.get("/customers/find/"+c.params.client_id);_[0].planInternet.forEach(d=>{n.value={...d.factura_id},E.value.push({servicio_id:d.id,precio:d.precio,direccion:`${d.direccion==""?"- - - - -":d.direccion}`,fecha_instalacion:d.fecha_instalacion,ipv4:d.ipv4,nombre_plan:d.perfil_internet.nombre_plan,router:d.router_id.nombre,estado:`${d.isActive?"Activo":"Inactivo"}`})}),h.value=_[0].nombres,u.value={..._[0]}})(),(_,d)=>(w(),ee(Re,null,[s("div",go,[s("div",bo,[s("div",{class:C(["col-xs-12 q-pl-none",[_.$q.screen.width<1022?"q-pt-sm col-md-6":"col-md-6"]])},[o(_t,{class:C(["row q-mr-xs",[_.$q.screen.width<1022?"justify-center q-pt-sm":"justify-start "]])},{default:l(()=>[o(Ve,{label:"Inicio",icon:"home",to:"/"}),o(Ve,{label:"Clientes",icon:"fa-solid fa-list",to:"/clientes"}),o(Ve,{label:"Nuevo",icon:"add_circle"})]),_:1},8,["class"])],2),s("div",{class:C(["col-xs-12",[_.$q.screen.width<1022?"text-center q-pt-sm col-md-6 q-pl-none":"text-right col-md-5"]])},[s("label",ho,I(h.value),1)],2)])]),s("div",yo,[s("div",wo,[o(we,{flat:"",class:"shadow_custom q-pt-none"},{default:l(()=>[o(po,{edit:!0})]),_:1})])])],64))}};export{Uo as default};

import{m as Je,J as Xe,b8 as nl,L as Ze,br as rl,r as R,n as S,D as be,aB as ul,s as cl,p as b,A as el,bs as dl,bh as vl,aF as ml,R as ze,h as fe,z as ll,bc as fl,bf as bl,bq as hl,i as j,b2 as gl,U as $e,T as yl,b3 as Ge,u as pl,d as _l,v as Cl,o as Z,c as Ce,f as v,g as k,ah as n,aT as kl,am as Sl,aP as El,aQ as xl,e as u,Q,ai as ke,w as Al,ae as we,aj as Se,ad as Ue,bp as ee,aS as ql,aR as Ml,S as Le}from"./index.c45ffa3b.js";import{Q as Oe,b as Qe}from"./QItemLabel.76a85485.js";import{Q as Ne}from"./QSelect.07554658.js";import{T as Fl}from"./TouchPan.06825241.js";import{u as Pl,a as Vl,b as wl,g as Nl,Q as We}from"./QPopupProxy.89249985.js";import{_ as Re,f as Rl}from"./date.261422c5.js";import{p as me}from"./format.2bc25e5f.js";import{Q as Tl}from"./touch.58c40699.js";import{Q as zl}from"./QForm.e38b3b76.js";import{C as Be}from"./ClosePopup.ab103b62.js";import Il from"./AddEmpresa.9e51e3be.js";import{u as jl}from"./useHelpers.eb8fd38c.js";import{api as Ie}from"./axios.f92fb9a5.js";import{u as Dl}from"./useEmpresa.011cec9c.js";function Ul(e,P){if(e.hour!==null){if(e.minute===null)return"minute";if(P===!0&&e.second===null)return"second"}return"hour"}function Kl(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Ye=Je({name:"QTime",props:{...Xe,...nl,...Pl,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Vl,setup(e,{slots:P,emit:F}){const z=el(),{$q:V}=z.proxy,G=Ze(e,V),{tabindex:q,headerClass:r,getLocale:I,getCurrentDate:W}=wl(e,V),he=rl(e),ne=dl(he);let K,D;const L=R(null),B=S(()=>h()),O=S(()=>I()),w=S(()=>d()),H=Re(e.modelValue,B.value,O.value,e.calendar,w.value),m=R(Ul(H)),l=R(H),s=R(H.hour===null||H.hour<12),je=S(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(G.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),re=S(()=>{const a=l.value;return{hour:a.hour===null?"--":N.value===!0?me(a.hour):String(s.value===!0?a.hour===0?12:a.hour:a.hour>12?a.hour-12:a.hour),minute:a.minute===null?"--":me(a.minute),second:a.second===null?"--":me(a.second)}}),N=S(()=>e.format24h!==null?e.format24h:V.lang.date.format24h),Ee=S(()=>{const a=m.value==="hour",o=a===!0?12:60,f=l.value[m.value];let A=`rotate(${Math.round(f*(360/o))-180}deg) translateX(-50%)`;return a===!0&&N.value===!0&&l.value.hour>=12&&(A+=" scale(.7)"),{transform:A}}),xe=S(()=>l.value.hour!==null),ue=S(()=>xe.value===!0&&l.value.minute!==null),le=S(()=>e.hourOptions!==void 0?a=>e.hourOptions.includes(a):e.options!==void 0?a=>e.options(a,null,null):null),ae=S(()=>e.minuteOptions!==void 0?a=>e.minuteOptions.includes(a):e.options!==void 0?a=>e.options(l.value.hour,a,null):null),ce=S(()=>e.secondOptions!==void 0?a=>e.secondOptions.includes(a):e.options!==void 0?a=>e.options(l.value.hour,l.value.minute,a):null),U=S(()=>{if(le.value===null)return null;const a=i(0,11,le.value),o=i(12,11,le.value);return{am:a,pm:o,values:a.values.concat(o.values)}}),te=S(()=>ae.value!==null?i(0,59,ae.value):null),ie=S(()=>ce.value!==null?i(0,59,ce.value):null),se=S(()=>{switch(m.value){case"hour":return U.value;case"minute":return te.value;case"second":return ie.value}}),Ae=S(()=>{let a,o,f=0,p=1;const A=se.value!==null?se.value.values:void 0;m.value==="hour"?N.value===!0?(a=0,o=23):(a=0,o=11,s.value===!1&&(f=12)):(a=0,o=55,p=5);const $=[];for(let g=a,T=a;g<=o;g+=p,T++){const oe=g+f,sl=A!==void 0&&A.includes(oe)===!1,ol=m.value==="hour"&&g===0?N.value===!0?"00":"12":g;$.push({val:oe,index:T,disable:sl,label:ol})}return $}),ge=S(()=>[[Fl,Y,void 0,{stop:!0,prevent:!0,mouse:!0}]]);be(()=>e.modelValue,a=>{const o=Re(a,B.value,O.value,e.calendar,w.value);(o.dateHash!==l.value.dateHash||o.timeHash!==l.value.timeHash)&&(l.value=o,o.hour===null?m.value="hour":s.value=o.hour<12)}),be([B,O],()=>{ll(()=>{De()})});function qe(){const a={...W(),...Kl()};De(a),Object.assign(l.value,a),m.value="hour"}function i(a,o,f){const p=Array.apply(null,{length:o+1}).map((A,$)=>{const g=$+a;return{index:g,val:f(g)===!0}}).filter(A=>A.val===!0).map(A=>A.index);return{min:p[0],max:p[p.length-1],values:p,threshold:o+1}}function c(a,o,f){const p=Math.abs(a-o);return Math.min(p,f-p)}function t(a,{min:o,max:f,values:p,threshold:A}){if(a===o)return o;if(a<o||a>f)return c(a,o,A)<=c(a,f,A)?o:f;const $=p.findIndex(oe=>a<=oe),g=p[$-1],T=p[$];return a-g<=T-a?g:T}function h(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function d(){if(typeof e.defaultDate!="string"){const a=W(!0);return a.dateHash=Nl(a),a}return Re(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function C(){return vl(z)===!0||se.value!==null&&(se.value.values.length===0||m.value==="hour"&&N.value!==!0&&U.value[s.value===!0?"am":"pm"].values.length===0)}function E(){const a=L.value,{top:o,left:f,width:p}=a.getBoundingClientRect(),A=p/2;return{top:o+A,left:f+A,dist:A*.7}}function Y(a){if(C()!==!0){if(a.isFirst===!0){K=E(),D=de(a.evt,K);return}D=de(a.evt,K,D),a.isFinal===!0&&(K=!1,D=null,M())}}function M(){m.value==="hour"?m.value="minute":e.withSeconds&&m.value==="minute"&&(m.value="second")}function de(a,o,f){const p=ul(a),A=Math.abs(p.top-o.top),$=Math.sqrt(Math.pow(Math.abs(p.top-o.top),2)+Math.pow(Math.abs(p.left-o.left),2));let g,T=Math.asin(A/$)*(180/Math.PI);if(p.top<o.top?T=o.left<p.left?90-T:270+T:T=o.left<p.left?T+90:270-T,m.value==="hour"){if(g=T/30,U.value!==null){const oe=N.value!==!0?s.value===!0:U.value.am.values.length!==0&&U.value.pm.values.length!==0?$>=o.dist:U.value.am.values.length!==0;g=t(g+(oe===!0?0:12),U.value[oe===!0?"am":"pm"])}else g=Math.round(g),N.value===!0?$<o.dist?g<12&&(g+=12):g===12&&(g=0):s.value===!0&&g===12?g=0:s.value===!1&&g!==12&&(g+=12);N.value===!0&&(s.value=g<12)}else g=Math.round(T/6)%60,m.value==="minute"&&te.value!==null?g=t(g,te.value):m.value==="second"&&ie.value!==null&&(g=t(g,ie.value));return f!==g&&al[m.value](g),g}const J={hour(){m.value="hour"},minute(){m.value="minute"},second(){m.value="second"}};function Me(a){a.keyCode===13&&Ke()}function ye(a){a.keyCode===13&&He()}function pe(a){C()!==!0&&(V.platform.is.desktop!==!0&&de(a,E()),M())}function X(a){C()!==!0&&de(a,E())}function y(a){if(a.keyCode===13)m.value="hour";else if([37,39].includes(a.keyCode)){const o=a.keyCode===37?-1:1;if(U.value!==null){const f=N.value===!0?U.value.values:U.value[s.value===!0?"am":"pm"].values;if(f.length===0)return;if(l.value.hour===null)ve(f[0]);else{const p=(f.length+f.indexOf(l.value.hour)+o)%f.length;ve(f[p])}}else{const f=N.value===!0?24:12,p=N.value!==!0&&s.value===!1?12:0,A=l.value.hour===null?-o:l.value.hour;ve(p+(24+A+o)%f)}}}function x(a){if(a.keyCode===13)m.value="minute";else if([37,39].includes(a.keyCode)){const o=a.keyCode===37?-1:1;if(te.value!==null){const f=te.value.values;if(f.length===0)return;if(l.value.minute===null)Pe(f[0]);else{const p=(f.length+f.indexOf(l.value.minute)+o)%f.length;Pe(f[p])}}else{const f=l.value.minute===null?-o:l.value.minute;Pe((60+f+o)%60)}}}function Fe(a){if(a.keyCode===13)m.value="second";else if([37,39].includes(a.keyCode)){const o=a.keyCode===37?-1:1;if(ie.value!==null){const f=ie.value.values;if(f.length===0)return;if(l.value.seconds===null)Ve(f[0]);else{const p=(f.length+f.indexOf(l.value.second)+o)%f.length;Ve(f[p])}}else{const f=l.value.second===null?-o:l.value.second;Ve((60+f+o)%60)}}}function ve(a){l.value.hour!==a&&(l.value.hour=a,_e())}function Pe(a){l.value.minute!==a&&(l.value.minute=a,_e())}function Ve(a){l.value.second!==a&&(l.value.second=a,_e())}const al={hour:ve,minute:Pe,second:Ve};function Ke(){s.value===!1&&(s.value=!0,l.value.hour!==null&&(l.value.hour-=12,_e()))}function He(){s.value===!0&&(s.value=!1,l.value.hour!==null&&(l.value.hour+=12,_e()))}function _e(){if(le.value!==null&&le.value(l.value.hour)!==!0){l.value=Re(),m.value="hour";return}if(ae.value!==null&&ae.value(l.value.minute)!==!0){l.value.minute=null,l.value.second=null,m.value="minute";return}if(e.withSeconds===!0&&ce.value!==null&&ce.value(l.value.second)!==!0){l.value.second=null,m.value="second";return}l.value.hour===null||l.value.minute===null||e.withSeconds===!0&&l.value.second===null||De()}function De(a){const o=Object.assign({...l.value},a),f=e.calendar==="persian"?me(o.hour)+":"+me(o.minute)+(e.withSeconds===!0?":"+me(o.second):""):Rl(new Date(o.year,o.month===null?null:o.month-1,o.day,o.hour,o.minute,o.second,o.millisecond),B.value,O.value,o.year,o.timezoneOffset);o.changed=f!==e.modelValue,F("update:modelValue",f,o)}function tl(){const a=[b("div",{class:"q-time__link "+(m.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:J.hour,onKeyup:y},re.value.hour),b("div",":"),b("div",xe.value===!0?{class:"q-time__link "+(m.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onKeyup:x,onClick:J.minute}:{class:"q-time__link"},re.value.minute)];e.withSeconds===!0&&a.push(b("div",":"),b("div",ue.value===!0?{class:"q-time__link "+(m.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onKeyup:Fe,onClick:J.second}:{class:"q-time__link"},re.value.second));const o=[b("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},a)];return N.value===!1&&o.push(b("div",{class:"q-time__header-ampm column items-between no-wrap"},[b("div",{class:"q-time__link "+(s.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:Ke,onKeyup:Me},"AM"),b("div",{class:"q-time__link "+(s.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:He,onKeyup:ye},"PM")])),b("div",{class:"q-time__header flex flex-center no-wrap "+r.value},o)}function il(){const a=l.value[m.value];return b("div",{class:"q-time__content col relative-position"},[b(ml,{name:"q-transition--scale"},()=>b("div",{key:"clock"+m.value,class:"q-time__container-parent absolute-full"},[b("div",{ref:L,class:"q-time__container-child fit overflow-hidden"},[ze(b("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:pe,onMousedown:X},[b("div",{class:"q-time__clock-circle fit"},[b("div",{class:"q-time__clock-pointer"+(l.value[m.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Ee.value}),Ae.value.map(o=>b("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${o.index}`+(o.val===a?" q-time__clock-position--active "+r.value:o.disable===!0?" q-time__clock-position--disable":"")},[b("span",o.label)]))])]),ge.value)])])),e.nowBtn===!0?b(fe,{class:"q-time__now-button absolute",icon:V.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:q.value,onClick:qe}):null])}return z.proxy.setNow=qe,()=>{const a=[il()],o=cl(P.default);return o!==void 0&&a.push(b("div",{class:"q-time__actions"},o)),e.name!==void 0&&e.disable!==!0&&ne(a,"push"),b("div",{class:je.value,tabindex:-1},[tl(),b("div",{class:"q-time__main col overflow-auto"},a)])}}});const Hl=["none","strict","leaf","leaf-filtered"];var $l=Je({name:"QTree",props:{...Xe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Hl.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:P,emit:F}){const{proxy:z}=el(),{$q:V}=z,G=Ze(e,V),q=R({}),r=R(e.ticked||[]),I=R(e.expanded||[]);let W={};fl(()=>{W={}});const he=S(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(G.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),ne=S(()=>e.selected!==void 0),K=S(()=>e.icon||V.iconSet.tree.icon),D=S(()=>e.controlColor||e.color),L=S(()=>e.textColor!==void 0?` text-${e.textColor}`:""),B=S(()=>{const i=e.selectedColor||e.color;return i?` text-${i}`:""}),O=S(()=>e.filterMethod!==void 0?e.filterMethod:(i,c)=>{const t=c.toLowerCase();return i[e.labelKey]&&i[e.labelKey].toLowerCase().indexOf(t)>-1}),w=S(()=>{const i={},c=(t,h)=>{const d=t.tickStrategy||(h?h.tickStrategy:e.tickStrategy),C=t[e.nodeKey],E=t[e.childrenKey]&&Array.isArray(t[e.childrenKey])&&t[e.childrenKey].length!==0,Y=t.disabled!==!0&&ne.value===!0&&t.selectable!==!1,M=t.disabled!==!0&&t.expandable!==!1,de=d!=="none",J=d==="strict",Me=d==="leaf-filtered",ye=d==="leaf"||d==="leaf-filtered";let pe=t.disabled!==!0&&t.tickable!==!1;ye===!0&&pe===!0&&h&&h.tickable!==!0&&(pe=!1);let X=t.lazy;X===!0&&q.value[C]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(X=q.value[C]);const y={key:C,parent:h,isParent:E,lazy:X,disabled:t.disabled,link:t.disabled!==!0&&(Y===!0||M===!0&&(E===!0||X===!0)),children:[],matchesFilter:e.filter?O.value(t,e.filter):!0,selected:C===e.selected&&Y===!0,selectable:Y,expanded:E===!0?I.value.includes(C):!1,expandable:M,noTick:t.noTick===!0||J!==!0&&X&&X!=="loaded",tickable:pe,tickStrategy:d,hasTicking:de,strictTicking:J,leafFilteredTicking:Me,leafTicking:ye,ticked:J===!0?r.value.includes(C):E===!0?!1:r.value.includes(C)};if(i[C]=y,E===!0&&(y.children=t[e.childrenKey].map(x=>c(x,y)),e.filter&&(y.matchesFilter!==!0?y.matchesFilter=y.children.some(x=>x.matchesFilter):y.noTick!==!0&&y.disabled!==!0&&y.tickable===!0&&Me===!0&&y.children.every(x=>x.matchesFilter!==!0||x.noTick===!0||x.tickable!==!0)===!0&&(y.tickable=!1)),y.matchesFilter===!0&&(y.noTick!==!0&&J!==!0&&y.children.every(x=>x.noTick)===!0&&(y.noTick=!0),ye))){if(y.ticked=!1,y.indeterminate=y.children.some(x=>x.indeterminate===!0),y.tickable=y.tickable===!0&&y.children.some(x=>x.tickable),y.indeterminate!==!0){const x=y.children.reduce((Fe,ve)=>ve.ticked===!0?Fe+1:Fe,0);x===y.children.length?y.ticked=!0:x>0&&(y.indeterminate=!0)}y.indeterminate===!0&&(y.indeterminateNextState=y.children.every(x=>x.tickable!==!0||x.ticked!==!0))}return y};return e.nodes.forEach(t=>c(t,null)),i});be(()=>e.ticked,i=>{r.value=i}),be(()=>e.expanded,i=>{I.value=i});function H(i){const c=[].reduce,t=(h,d)=>{if(h||!d)return h;if(Array.isArray(d)===!0)return c.call(Object(d),t,h);if(d[e.nodeKey]===i)return d;if(d[e.childrenKey])return t(null,d[e.childrenKey])};return t(null,e.nodes)}function m(){return r.value.map(i=>H(i))}function l(){return I.value.map(i=>H(i))}function s(i){return i&&w.value[i]?w.value[i].expanded:!1}function je(){e.expanded!==void 0?F("update:expanded",[]):I.value=[]}function re(){const i=[],c=t=>{t[e.childrenKey]&&t[e.childrenKey].length!==0&&t.expandable!==!1&&t.disabled!==!0&&(i.push(t[e.nodeKey]),t[e.childrenKey].forEach(c))};e.nodes.forEach(c),e.expanded!==void 0?F("update:expanded",i):I.value=i}function N(i,c,t=H(i),h=w.value[i]){if(h.lazy&&h.lazy!=="loaded"){if(h.lazy==="loading")return;q.value[i]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),F("lazyLoad",{node:t,key:i,done:d=>{q.value[i]="loaded",t[e.childrenKey]=Array.isArray(d)===!0?d:[],ll(()=>{const C=w.value[i];C&&C.isParent===!0&&Ee(i,!0)})},fail:()=>{delete q.value[i],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else h.isParent===!0&&h.expandable===!0&&Ee(i,c)}function Ee(i,c){let t=I.value;const h=e.expanded!==void 0;if(h===!0&&(t=t.slice()),c){if(e.accordion&&w.value[i]){const d=[];w.value[i].parent?w.value[i].parent.children.forEach(C=>{C.key!==i&&C.expandable===!0&&d.push(C.key)}):e.nodes.forEach(C=>{const E=C[e.nodeKey];E!==i&&d.push(E)}),d.length!==0&&(t=t.filter(C=>d.includes(C)===!1))}t=t.concat([i]).filter((d,C,E)=>E.indexOf(d)===C)}else t=t.filter(d=>d!==i);h===!0?F("update:expanded",t):I.value=t}function xe(i){return i&&w.value[i]?w.value[i].ticked:!1}function ue(i,c){let t=r.value;const h=e.ticked!==void 0;h===!0&&(t=t.slice()),c?t=t.concat(i).filter((d,C,E)=>E.indexOf(d)===C):t=t.filter(d=>i.includes(d)===!1),h===!0&&F("update:ticked",t)}function le(i,c,t){const h={tree:z,node:i,key:t,color:e.color,dark:G.value};return Ge(h,"expanded",()=>c.expanded,d=>{d!==c.expanded&&N(t,d)}),Ge(h,"ticked",()=>c.ticked,d=>{d!==c.ticked&&ue([t],d)}),h}function ae(i){return(e.filter?i.filter(c=>w.value[c[e.nodeKey]].matchesFilter):i).map(c=>ie(c))}function ce(i){if(i.icon!==void 0)return b(j,{class:"q-tree__icon q-mr-sm",name:i.icon,color:i.iconColor});const c=i.img||i.avatar;if(c)return b("img",{class:`q-tree__${i.img?"img":"avatar"} q-mr-sm`,src:c})}function U(){F("afterShow")}function te(){F("afterHide")}function ie(i){const c=i[e.nodeKey],t=w.value[c],h=i.header&&P[`header-${i.header}`]||P["default-header"],d=t.isParent===!0?ae(i[e.childrenKey]):[],C=d.length!==0||t.lazy&&t.lazy!=="loaded";let E=i.body&&P[`body-${i.body}`]||P["default-body"];const Y=h!==void 0||E!==void 0?le(i,t,c):null;return E!==void 0&&(E=b("div",{class:"q-tree__node-body relative-position"},[b("div",{class:L.value},[E(Y)])])),b("div",{key:c,class:`q-tree__node relative-position q-tree__node--${C===!0?"parent":"child"}`},[b("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:M=>{Ae(i,t,M)},onKeypress(M){bl(M)!==!0&&(M.keyCode===13?Ae(i,t,M,!0):M.keyCode===32&&ge(i,t,M,!0))}},[b("div",{class:"q-focus-helper",tabindex:-1,ref:M=>{W[t.key]=M}}),t.lazy==="loading"?b(hl,{class:"q-tree__spinner",color:D.value}):C===!0?b(j,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:K.value,onClick(M){ge(i,t,M)}}):null,t.hasTicking===!0&&t.noTick!==!0?b(gl,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:D.value,dark:G.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:$e,"onUpdate:modelValue":M=>{qe(t,M)}}):null,b("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?B.value:L.value)},[h?h(Y):[ce(i),b("div",i[e.labelKey])]])]),C===!0?e.noTransition===!0?b("div",{class:"q-tree__node-collapsible"+L.value,key:`${c}__q`},[E,b("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?d:null)]):b(Tl,{duration:e.duration,onShow:U,onHide:te},()=>ze(b("div",{class:"q-tree__node-collapsible"+L.value,key:`${c}__q`},[E,b("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},d)]),[[yl,t.expanded]])):E])}function se(i){const c=W[i];c&&c.focus()}function Ae(i,c,t,h){h!==!0&&c.selectable!==!1&&se(c.key),ne.value&&c.selectable?e.noSelectionUnset===!1?F("update:selected",c.key!==e.selected?c.key:null):c.key!==e.selected&&F("update:selected",c.key===void 0?null:c.key):ge(i,c,t,h),typeof i.handler=="function"&&i.handler(i)}function ge(i,c,t,h){t!==void 0&&$e(t),h!==!0&&c.selectable!==!1&&se(c.key),N(c.key,!c.expanded,i,c)}function qe(i,c){if(i.indeterminate===!0&&(c=i.indeterminateNextState),i.strictTicking)ue([i.key],c);else if(i.leafTicking){const t=[],h=d=>{d.isParent?(c!==!0&&d.noTick!==!0&&d.tickable===!0&&t.push(d.key),d.leafTicking===!0&&d.children.forEach(h)):d.noTick!==!0&&d.tickable===!0&&(d.leafFilteredTicking!==!0||d.matchesFilter===!0)&&t.push(d.key)};h(i),ue(t,c)}}return e.defaultExpandAll===!0&&re(),Object.assign(z,{getNodeByKey:H,getTickedNodes:m,getExpandedNodes:l,isExpanded:s,collapseAll:je,expandAll:re,setExpanded:N,isTicked:xe,setTicked:ue}),()=>{const i=ae(e.nodes);return b("div",{class:he.value},i.length===0?e.filter?e.noResultsLabel||V.lang.tree.noResults:e.noNodesLabel||V.lang.tree.noNodes:i)}}}),Gl=[{label:"Seleccionar todos los permisos",value:"Seleccionar todos los permisos",children:[{label:"Gesti\xF3n de Red",value:"Gesti\xF3n de Red",children:[{label:"Router",value:"Router",children:[{label:"Acceso Men\xFA",value:"GestionRed-Router-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Router-Nuevo"},{label:"Editar",value:"GestionRed-Router-Editar"},{label:"Eliminar",value:"GestionRed-Router-Eliminar"}]},{label:"Redes Ipv4",value:"Redes Ipv4",children:[{label:"Acceso Men\xFA",value:"GestionRed-Redes-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Redes-Nuevo"},{label:"Editar",value:"GestionRed-Redes-Editar"},{label:"Eliminar",value:"GestionRed-Redes-Eliminar"},{label:"Escanear Red",value:"GestionRed-Redes-EscanearRed"}]},{label:"Monitoreo",value:"Monitoreo",children:[{label:"Acceso Men\xFA",value:"GestionRed-Monitoreo-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Monitoreo-Nuevo"},{label:"Editar",value:"GestionRed-Monitoreo-Editar"},{label:"Eliminar",value:"GestionRed-Monitoreo-Eliminar"},{label:"Ver antena",value:"GestionRed-Monitoreo-VerAntena"},{label:"Ping Antena",value:"GestionRed-Monitoreo-PingAntena"},{label:"Gr\xE1ficos",value:"GestionRed-Monitoreo-Graficos"}]},{label:"Trafico",value:"Trafico",children:[{label:"Lista tr\xE1fico",value:"GestionRed-Trafico-Lista"},{label:"Lista Ips visitadas",value:"GestionRed-Monitoreo-ListaIPS"}]}]},{label:"Servicios",value:"Servicios",children:[{label:"Internet",value:"Internet",children:[{label:"Acceso Men\xFA",value:"Servicios-Internet-AccesoMenu"},{label:"Nuevo",value:"Servicios-Internet-Nuevo"},{label:"Editar",value:"Servicios-Internet-Editar"},{label:"Eliminar",value:"Servicios-Internet-Eliminar"}]},{label:"Voz",value:"Voz",children:[{label:"Acceso Men\xFA",value:"Servicios-Voz-AccesoMenu"},{label:"Nuevo",value:"Servicios-Voz-Nuevo"},{label:"Editar",value:"Servicios-Voz-Editar"},{label:"Eliminar",value:"Servicios-Voz-Eliminar"}]},{label:"Personalizado",value:"Personalizado",children:[{label:"Acceso Men\xFA",value:"Servicios-Personalizado-AccesoMenu"},{label:"Nuevo",value:"Servicios-Personalizado-Nuevo"},{label:"Editar",value:"Servicios-Personalizado-Editar"},{label:"Eliminar",value:"Servicios-Personalizado-Eliminar"}]}]},{label:"Clientes",value:"Clientes",children:[{label:"Usuarios",value:"Usuarios",children:[{label:"Acceso Men\xFA",value:"Clientes-Usuarios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Usuarios-Nuevo"},{label:"Eliminar",value:"Clientes-Usuarios-Eliminar"},{label:"Ver perfil(Editar)",value:"Clientes-Usuarios-VerPerfil"},{label:"Editar datos",value:"Clientes-Usuarios-EnviarDatos"},{label:"Activar/Suspender",value:"Clientes-Usuarios-ActivarSuspender"},{label:"Retirar",value:"Clientes-Usuarios-Retirar"},{label:"Herramientas",value:"Clientes-Usuarios-Herramientas"}]},{label:"Contratos",value:"Contratos",children:[{label:"Acceso Men\xFA",value:"Clientes-Contratos-AccesoMenu"},{label:"Nuevo",value:"Clientes-Contratos-Nuevo"},{label:"Eliminar",value:"Clientes-Contratos-Eliminar"},{label:"Editar",value:"Clientes-Contratos-Editar"}]},{label:"Servicios",value:"Servicios ",children:[{label:"Nuevo",value:"Clientes-Servicios-Nuevo"},{label:"Editar",value:"Clientes-Servicios-Editar"},{label:"Eliminar",value:"Clientes-Servicios-Eliminar"}]},{label:"Facturaci\xF3n",value:"Facturaci\xF3n",children:[{label:"Nueva factura",value:"Clientes-Fact-NuevaFactura"},{label:"Eliminar factura",value:"Clientes-Fact-EliminarFactura"},{label:"Editar factura",value:"Clientes-Fact-EditarFactura"},{label:"Anular factura",value:"Clientes-Fact-AnularFactura"},{label:"Configuraci\xF3n",value:"Clientes-Fact-Configuracion"},{label:"Pagar factura",value:"Clientes-Fact-PagarFactura"},{label:"Editar pago factura",value:"Clientes-Fact-EditPagoFact"},{label:"Eliminar pago factura",value:"Clientes-Fact-DeletePagoFact"},{label:"Agregar saldo",value:"Clientes-Facturacion-AgregarSaldo"},{label:"Eliminar saldo",value:"Clientes-Facturacion-EliminarSaldo"}]},{label:"Soporte",value:"Soporte",children:[{label:"Nuevo",value:"Clientes-Soporte-Nuevo"},{label:"Editar",value:"Clientes-Soporte-Editar"},{label:"Eliminar",value:"Clientes-Soporte-Eliminar"},{label:"Cerrar",value:"Clientes-Soporte-Cerrar"}]},{label:"Email & SMS",value:"Email & SMS",children:[{label:"Nuevo correo",value:"Clientes-EmailSMS-NuevoEmail"},{label:"Reenviar correo",value:"Clientes-EmailSMS-ReenviarEmail"},{label:"Nuevo sms",value:"Clientes-EmailSMS-NuevoSMS"},{label:"Reenviar sms",value:"Clientes-EmailSMS-ReenviarSMS"}]},{label:"Documentos",value:"Documentos",children:[{label:"Nuevo Contrato",value:"Clientes-Documents-NuevoContrato"},{label:"Eliminar Contrato",value:"Clientes-Documents-DeleteContrato"},{label:"Editar Contrato",value:"Clientes-Documentos-EditContrato"},{label:"Nuevo documento",value:"Clientes-Documentos-NuevoDocument"},{label:"Eliminar documento",value:"Clientes-Documentos-DeleteDocument"},{label:"Editar documento",value:"Clientes-Documentos-EditarDocument"},{label:"Nueva nota",value:"Clientes-Documentos-NuevaNota"},{label:"Eliminar nota",value:"Clientes-Documentos-EliminarNota"}]},{label:"Mapa clientes",value:"Mapa clientes",children:[{label:"Mapa cliente",value:"Clientes-MapaCliente"}]},{label:"Anuncios",value:"Anuncios",children:[{label:"Acceso men\xFA",value:"Clientes-Anuncios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Anuncios-Nuevo"},{label:"Eliminar",value:"Clientes-Anuncios-Eliminar"}]},{label:"Instalaciones",value:"Instalaciones",children:[{label:"Acceso men\xFA",value:"Clientes-Instalaciones-AccesoMenu"},{label:"Nuevo registro",value:"Clientes-Instalaciones-NuevoRegistro"},{label:"Eliminar registro",value:"Clientes-Instalaciones-DeleteRegistro"},{label:"Editar registro",value:"Clientes-Instalaciones-EditarRegistro"},{label:"Aceptar instalaci\xF3n",value:"Clientes-Instalaciones-AceptarInstalacion"},{label:"Eliminar instalaci\xF3n",value:"Clientes-Instalaciones-EliminarInstalacion"},{label:"Agregar materiales",value:"Clientes-Instalaciones-AddMaterial"},{label:"Dar alta instalaci\xF3n",value:"Clientes-Instalaciones-DarAltaInstalacion"},{label:"Editar instalaci\xF3n",value:"Clientes-Instalaciones-EditarInstalacion"}]},{label:"Correo",value:"Correo",children:[{label:"Acceso men\xFA",value:"Clientes-Correo-AccesoMenu"},{label:"Nuevo",value:"Clientes-Correo-Nuevo"},{label:"Reenviar",value:"Clientes-Correo-Reenviar"}]}]},{label:"Fichas Hotspot",value:"Fichas Hotspot",children:[{label:"Fichas",value:"Fichas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Fichas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Fichas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Fichas-Eliminar"},{label:"Imprimir",value:"FichasHotspot-Fichas-Imprimir"}]},{label:"Router/Perfiles",value:"Router/Perfiles",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Router-AccesoMenu"},{label:"Nuevo router",value:"FichasHotspot-Router-NuevoRouter"},{label:"Eliminar router",value:"FichasHotspot-Router-EliminarRouter"},{label:"Editar router",value:"FichasHotspot-Router-EditarRouter"},{label:"Nuevo perfil",value:"FichasHotspot-Router-NuevoPerfil"},{label:"Eliminar perfil",value:"FichasHotspot-Router-EliminarPerfil"},{label:"Editar perfil",value:"FichasHotspot-Router-EditarPerfil"}]},{label:"Plantillas",value:"Plantillas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Plantillas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Plantillas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Plantillas-Eliminar"},{label:"Editar",value:"FichasHotspot-Plantillas-Editar"}]}]},{label:"Tareas",value:"Tareas",children:[{label:"Lista tareas",value:"Lista tareas",children:[{label:"Nuevo",value:"Tareas-Nuevo"},{label:"Eliminar",value:"Tareas-Eliminar"},{label:"Editar",value:"Tareas-Editar"}]}]},{label:"Finanzas",value:"Finanzas",children:[{label:"Facturas",value:"Facturas",children:[{label:"Acceso Men\xFA",value:"Finanzas-Facturas-AccesoMenu"},{label:"Pagar",value:"Finanzas-Facturas-Pagar"},{label:"Editar",value:"Finanzas-Facturas-Editar"},{label:"Eliminar",value:"Finanzas-Facturas-Eliminar"},{label:"Anular",value:"Finanzas-Facturas-Anular"},{label:"Herramientas",value:"Finanzas-Facturas-Herramientas"}]},{label:"Registar pago",value:"Registar pago",children:[{label:"Acceso Men\xFA",value:"Finanzas-RegistarPago-AccesoMenu"},{label:"Pagos masivos",value:"Finanzas-RegistarPago-PagosMasivos"},{label:"Pagar",value:"Finanzas-RegistarPago-Pagar"},{label:"Promesa de pago",value:"Finanzas-RegistarPago-PromesaPago"},{label:"Permitir saldo",value:"Finanzas-RegistarPago-PermitirSaldo"},{label:"Cambiar dia de pago",value:"Finanzas-RegistarPago-CambiarDiaPago"},{label:"Eliminar pago",value:"Finanzas-RegistarPago-Eliminarpago"},{label:"Editar pago",value:"Finanzas-RegistarPago-EditarPago"}]},{label:"Transacciones",value:"Transacciones",children:[{label:"Acceso Men\xFA",value:"Finanzas-Transacciones-AccesoMenu"},{label:"Editar",value:"Finanzas-Transacciones-Editar"},{label:"Eliminar",value:"Finanzas-Transacciones-Eliminar"},{label:"Resumen PDF/Totales",value:"Finanzas-Transacciones-ResumenPDF"},{label:"Estadisticas",value:"Finanzas-Transacciones-Estadisticas"}]},{label:"Ingresos & Egresos",value:"Ingresos & Egresos",children:[{label:"Nuevo",value:"Finanzas-IngresosEgresos-Nuevo"},{label:"Eliminar",value:"Finanzas-IngresosEgresos-Eliminar"},{label:"Editar",value:"Finanzas-IngresosEgresos-Editar"}]},{label:"Reporte pago",value:"Reporte pago",children:[{label:"Marcar revisado",value:"Finanzas-ReportePago-MarcarRevisado"},{label:"Pagar factura",value:"Finanzas-ReportePago-PagarFactura"}]}]},{label:"Almac\xE9n",value:"Almac\xE9n",children:[{label:"Categor\xEDas",value:"Categor\xEDas",children:[{label:"Acceso Men\xFA",value:"Almacen-Categor\xEDas-AccesoMenu"},{label:"Nuevo",value:"Almacen-Categor\xEDas-Nuevo"},{label:"Editar",value:"Almacen-Categor\xEDas-Editar"},{label:"Eliminar",value:"Almacen-Categor\xEDas-Eliminar"}]},{label:"Productos",value:"Productos",children:[{label:"Acceso Men\xFA",value:"Almacen-Productos-AccesoMenu"},{label:"Nuevo",value:"Almacen-Productos-Nuevo"},{label:"Editar",value:"Almacen-Productos-Editar"},{label:"Eliminar",value:"Almacen-Productos-Eliminar"}]}]},{label:"Ticket_soporte",value:"Ticket_soporte",children:[{label:"Ticket",value:"Ticket",children:[{label:"Acceso Men\xFA",value:"TicketSoporte-Ticket-AccesoMenu"},{label:"Nuevo",value:"TicketSoporte-Ticket-Nuevo"},{label:"Editar",value:"TicketSoporte-Ticket-Editar"},{label:"Eliminar",value:"TicketSoporte-Ticket-Eliminar"},{label:"Cerrar",value:"TicketSoporte-Ticket-Cerrar"},{label:"Ver todos los tickets(Solo para t\xE9cnicos)",value:"TicketSoporte-Ticket-VerAllTickets"}]}]},{label:"SMS ",value:"SMS ",children:[{label:"SMS  ",value:"SMS  ",children:[{label:"Acceso Men\xFA",value:"SMS-SMS-AccesoMenu"},{label:"Nuevo",value:"SMS-SMS-Nuevo"},{label:"Reenviar",value:"SMS-SMS-Reenviar"}]}]},{label:"Configuraci\xF3n",value:"Configuraci\xF3n",children:[{label:"Ajustes",value:"Ajustes",children:[{label:"Acceso Men\xFA",value:"Configuraci\xF3n-Ajustes-AccesoMenu"},{label:"General",value:"Configuraci\xF3n-Ajustes-General"},{label:"Gesti\xF3n personal",value:"Configuraci\xF3n-Ajustes-Gesti\xF3nPersonal"},{label:"Servidor de correo",value:"Configuraci\xF3n-Ajustes-ServidorCorreo"},{label:"Facturaci\xF3n",value:"Configuraci\xF3n-Ajustes-Facturaci\xF3n"},{label:"Factura Electr\xF3nica",value:"Configuraci\xF3n-Ajustes-FacturaElectronica"},{label:"Pasarelas de pagos",value:"Configuraci\xF3n-Ajustes-PasarelasPago"},{label:"Editor plantillas",value:"Configuraci\xF3n-Ajustes-EditorPlantillas"},{label:"Portal cliente",value:"Configuraci\xF3n-Ajustes-PortalClientes"},{label:"Tickets",value:"Configuraci\xF3n-Ajustes-Tickets"},{label:"Importar clientes",value:"Configuraci\xF3n-Ajustes-ImportarClientes"},{label:"Ubicaciones",value:"Configuraci\xF3n-Ajustes-Ubicaciones"}]},{label:"Ajustes",value:"Ajustes",children:[{label:"SMS",value:"Configuraci\xF3n-Ajustes-SMS"},{label:"Cloud",value:"Configuraci\xF3n-Ajustes-Cloud"},{label:"Google",value:"Configuraci\xF3n-Ajustes-Google"},{label:"Bases de datos",value:"Configuraci\xF3n-Ajustes-BasesDatos"},{label:"Cambios masivos",value:"Configuraci\xF3n-Ajustes-CambiosMasivos"},{label:"Plantilla configuraci\xF3n",value:"Configuraci\xF3n-Ajustes-PlantillaConfig"},{label:"Crontab",value:"Configuraci\xF3n-Ajustes-Crontab"},{label:"Logs",value:"Configuraci\xF3n-Ajustes-Logs"},{label:"Sistema",value:"Configuraci\xF3n-Ajustes-Sistema"},{label:"Servidor",value:"Configuraci\xF3n-Ajustes-Servidor"},{label:"Licencia",value:"Configuraci\xF3n-Ajustes-Licencia"},{label:"Migrar",value:"Configuraci\xF3n-Ajustes-Migrar"},{label:"Actualizar sistema",value:"Configuraci\xF3n-Ajustes-ActualizarSistema"}]}]},{label:"Widget Inicio",value:"Widget Inicio",children:[{label:"Widgets",value:"Widgets",children:[{label:"Clientes online",value:"WidgetInicio-Widget-ClientesOnline"},{label:"Transacciones",value:"WidgetInicio-Widget-Transacciones"},{label:"Facturas",value:"WidgetInicio-Widget-Facturas"},{label:"Ticket soporte",value:"WidgetInicio-Widget-TicketSoporte"},{label:"Tr\xE1fico",value:"WidgetInicio-Widget-Tr\xE1fico"},{label:"Resumen sistema",value:"WidgetInicio-Widget-ResumenSistema"},{label:"Pagos registrados",value:"WidgetInicio-Widget-PagosRegistrados"},{label:"\xDAltimos conectados",value:"WidgetInicio-Widget-\xDAltimosConectados"},{label:"Servidor",value:"WidgetInicio-Widget-Servidor"},{label:"Resumen Facturaci\xF3n",value:"WidgetInicio-Widget-ResumenFacturacion"},{label:"Emisores",value:"WidgetInicio-Widget-Emisores"}]}]}]}];const Te=R(!1),_=R({usuario:"",email:"",cedula:"",celular:"",fullName:"",roles:[""],permisos:[],horarios_dias:[],horarios_time:["",""],receiveSupportEmail:!1,company:"",sucursales:[""],password:"",confirmPassword:"",isActive:!0}),Ll=async()=>{const{data:e}=await Ie.get("/companies");return e},Ol=()=>{const{mostrarNotify:e}=jl(),P=pl(),F=()=>{_.value.email="",_.value.password="",_.value.cedula="",_.value.celular="",_.value.fullName="",_.value.usuario="",_.value.company="",_.value.roles=[""],_.value.permisos=[],_.value.horarios_dias=[],_.value.horarios_time=[],_.value.receiveSupportEmail=!1},z=async q=>{if(_.value.password!==_.value.confirmPassword)return e("warning","Las contrase\xF1as no coinciden, por favor verificar");if(_.value.company.length===0)return e("warning","Debes elegir una empresa");if(_.value.roles[0]===""&&_.value.company!=="Nuevo")return e("warning","Debes elegir un rol");if(_.value.roles[0]!=="Administrador"&&_.value.roles[0]!=="Super-Administrador"&&_.value.sucursales.length===0)return e("warning","Debes elegir alguna sucursal");if((_.value.roles[0]=="Administrador"||_.value.roles[0]=="Super-Administrador")&&(_.value.sucursales=[]),_.value.permisos.length===0)return e("warning","Debes elegir al menos un permiso");try{Te.value=!0,q?await Ie.patch("/auth/edit/"+_.value.id,_.value):await Ie.post("/auth/register",_.value),e("positive",`Usuario ${q?"editado":"creado"} exitosamente.`),Te.value=!1,P.push({name:"Ver Usuarios"})}catch(r){Te.value=!1,e("warning",r.response.data.message)}},V=()=>{_.value.celular=_.value.celular.replace(/\D/g,"")},G=()=>{_.value.fullName=_.value.fullName.toUpperCase()};return{getCompanies:Ll,formUser:_,loading:Te,limpiarFormulario:F,expanded:R(["Seleccionar todos los permisos"]),allowOnlyNumber:V,transformToUpperCase:G,onSubmit:z,validateNumCelular:[q=>q.length>=10||"Debes completar 10 digitos"],showPass:R(!0),showConfirmPass:R(!0)}},Ql={class:"row q-pt-sm"},Wl={class:"col-xs-12 col-md-8"},Bl={class:"row"},Yl=u("div",{class:"col-11 flex justify-start items-center"},[u("label",{class:"text-h6 text-weight-medium"},"Datos:")],-1),Jl=u("div",{class:"col-4 flex justify-end items-center"},[u("label",null,"Nombre:")],-1),Xl={class:"col-xs-7 col-sm-6 q-ml-md"},Zl=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",null,"Usuario:")],-1),ea={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},la=u("div",{class:"col-4 flex justify-end items-center"},[u("label",null,"Email:")],-1),aa={class:"col-xs-7 col-sm-6 q-ml-md"},ta=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",null,"T\xE9lefono Movil:")],-1),ia={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},sa=u("label",{class:"text-h6 text-weight-medium"},"Configuraci\xF3n:",-1),oa=[sa],na=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Empresa:")],-1),ra={class:"col-xs-7 col-sm-6 q-ml-md"},ua={key:0,class:"col-4 flex justify-end items-center q-mt-sm"},ca=u("label",null,"Rol:",-1),da=[ca],va={key:1,class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},ma={key:2,class:"col-4 flex justify-end items-center q-mt-sm"},fa=u("label",null,"Sucursal:",-1),ba=[fa],ha={key:3,class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},ga=u("div",{class:"col-4 flex justify-end items-center q-mt-sm"},[u("label",{for:""},"Estado:")],-1),ya={class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},pa=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Recibir correo soporte:")],-1),_a={class:"col-xs-7 col-sm-6 q-ml-md"},Ca=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},null,-1),ka=u("div",{class:"col-6 q-ml-md q-my-sm"},null,-1),Sa=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",{for:""},"Horario Acceso:")],-1),Ea={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm flex"},xa={style:{display:"flex","flex-direction":"column"}},Aa=u("label",{class:"q-ml-md"}," Lunes ",-1),qa={style:{display:"flex","flex-direction":"column"}},Ma=u("label",{class:"q-ml-md"}," Martes ",-1),Fa={style:{display:"flex","flex-direction":"column"}},Pa=u("label",{class:"q-ml-md"}," Miercoles ",-1),Va={style:{display:"flex","flex-direction":"column"}},wa=u("label",{class:"q-ml-md"},"Jueves",-1),Na={style:{display:"flex","flex-direction":"column"}},Ra=u("label",{class:"q-ml-md"}," Viernes ",-1),Ta={style:{display:"flex","flex-direction":"column"}},za=u("label",{class:"q-ml-md"}," Sabado ",-1),Ia=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",{class:"q-mb-md"},"Horario:")],-1),ja={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},Da={class:"row"},Ua={class:"col-xs-12 col-sm-5"},Ka={class:"row items-center justify-end"},Ha={class:"col-xs-12 col-sm-5 offset-sm-1"},$a={class:"row items-center justify-end"},Ga=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Token API:")],-1),La={class:"col-xs-7 col-sm-6 q-ml-md"},Oa=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Activar clave API:")],-1),Qa={class:"col-xs-7 col-sm-6 q-ml-md"},Wa={class:"col-11 flex justify-start items-center"},Ba=u("div",{class:"col-4 flex justify-end items-center"},[u("label",null,"Contrase\xF1a:")],-1),Ya={class:"col-xs-7 col-sm-6 q-ml-md"},Ja=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",{for:""},"Repite Contrase\xF1a:")],-1),Xa={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},Za={class:"col-xs-11 col-md-4"},et={class:"row"},lt=u("label",{class:"text-h6 text-weight-medium"},"Permisos:",-1),at=[lt],gt=_l({__name:"FormUser",props:{edit:{type:Boolean}},setup(e){const P=e,F=R([]),z=R([]),V=R(!1);let G=!1;const{getCompanies:q,formUser:r,expanded:I,validateNumCelular:W,allowOnlyNumber:he,transformToUpperCase:ne,showConfirmPass:K,showPass:D,loading:L,onSubmit:B}=Ol();let{actualizarLista:O}=Dl();be(O,(m,l)=>{m&&w()}),Cl(async()=>{w()});const w=async()=>{V.value=!1,F.value=[],(await q()).forEach(l=>{F.value.push({label:l.nombre_comercial,value:l.id})}),F.value,O.value=!1};be(()=>r.value.company,m=>{r.value.company!==""&&H(m)});const H=async m=>{z.value=[],(!P.edit||G)&&(r.value.sucursales=[]),G=!0;const{data:l}=await Ie.get(`/sucursal/find/${m}/company`);l.forEach(s=>{z.value.push({label:s.nombre,value:s.id})})};return(m,l)=>(Z(),Ce(Sl,null,[v(zl,{onSubmit:l[29]||(l[29]=s=>n(B)(P.edit))},{default:k(()=>[v(El,{class:"my-card"},{default:k(()=>[v(xl,{class:"q-pt-none"},{default:k(()=>[u("div",Ql,[u("div",Wl,[u("div",Bl,[Yl,Jl,u("div",Xl,[v(Q,{modelValue:n(r).fullName,"onUpdate:modelValue":l[0]||(l[0]=s=>n(r).fullName=s),modelModifiers:{trim:!0},onKeyup:n(ne),dense:"",outlined:"",required:""},null,8,["modelValue","onKeyup"])]),Zl,u("div",ea,[v(Q,{modelValue:n(r).usuario,"onUpdate:modelValue":l[1]||(l[1]=s=>n(r).usuario=s),modelModifiers:{trim:!0},dense:"",outlined:"",required:""},{append:k(()=>[v(j,{name:"person",size:"1.3rem"})]),_:1},8,["modelValue"])]),la,u("div",aa,[v(Q,{modelValue:n(r).email,"onUpdate:modelValue":l[2]||(l[2]=s=>n(r).email=s),modelModifiers:{trim:!0},type:"email",dense:"",outlined:"",required:""},{append:k(()=>[v(j,{name:"mail",size:"1.2rem"})]),_:1},8,["modelValue"])]),ta,u("div",ia,[v(Q,{modelValue:n(r).celular,"onUpdate:modelValue":l[3]||(l[3]=s=>n(r).celular=s),counter:"",maxlength:"10",rules:n(W),onKeyup:n(he),"lazy-rules":"",dense:"",outlined:"",required:""},{append:k(()=>[v(j,{name:"call",size:"1.2rem"})]),_:1},8,["modelValue","rules","onKeyup"])]),u("div",{class:ke(["col-11 flex justify-start items-center",[m.$q.screen.xs?"q-my-md":""]])},oa,2),na,u("div",ra,[v(Ne,{color:"orange","transition-show":"scale","transition-hide":"scale",outlined:"",modelValue:n(r).company,"onUpdate:modelValue":l[5]||(l[5]=s=>n(r).company=s),dense:"",options:F.value,"emit-value":"","map-options":""},{append:k(()=>[v(fe,{round:"",dense:"",flat:"",icon:"add_circle",onClick:l[4]||(l[4]=Al(s=>V.value=!0,["stop","prevent"]))})]),"no-option":k(()=>[v(Oe,null,{default:k(()=>[v(Qe,{class:"text-grey"},{default:k(()=>[we(" No hay resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),n(r).company.length!==0?(Z(),Ce("div",ua,da)):Se("",!0),n(r).company.length!==0?(Z(),Ce("div",va,[v(Ne,{modelValue:n(r).roles[0],"onUpdate:modelValue":l[6]||(l[6]=s=>n(r).roles[0]=s),outlined:"",dense:"",required:"","transition-show":"scale","transition-hide":"scale",options:["Super-Administrador","Administrador","Pagos","Soporte Tecnico","Vendedor"]},null,8,["modelValue"])])):Se("",!0),n(r).roles[0]!==""&&n(r).company.length!==0&&n(r).roles[0]!=="Administrador"&&n(r).roles[0]!=="Super-Administrador"?(Z(),Ce("div",ma,ba)):Se("",!0),n(r).roles[0]!==""&&n(r).company.length!==0&&n(r).roles[0]!=="Administrador"&&n(r).roles[0]!=="Super-Administrador"?(Z(),Ce("div",ha,[v(Ne,{modelValue:n(r).sucursales[0],"onUpdate:modelValue":l[7]||(l[7]=s=>n(r).sucursales[0]=s),outlined:"",dense:"",required:"","emit-value":"","map-options":"","transition-show":"scale","transition-hide":"scale",options:z.value},{"no-option":k(()=>[v(Oe,null,{default:k(()=>[v(Qe,{class:"text-grey"},{default:k(()=>[we(" No se encontro resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])):Se("",!0),ga,u("div",ya,[v(Ne,{modelValue:n(r).isActive,"onUpdate:modelValue":l[8]||(l[8]=s=>n(r).isActive=s),outlined:"",dense:"","emit-value":"","map-options":"",options:[{label:"Activo",value:!0},{label:"Inactivo",value:!1}]},{append:k(()=>[n(r).isActive?(Z(),Ue(j,{key:0,size:"1.2rem",name:"fa-solid fa-user-check"})):(Z(),Ue(j,{key:1,name:"fa-solid fa-user-xmark",size:"1.2rem"}))]),_:1},8,["modelValue"])]),pa,u("div",_a,[v(ee,{color:"green",size:"lg",modelValue:n(r).receiveSupportEmail,"onUpdate:modelValue":l[9]||(l[9]=s=>n(r).receiveSupportEmail=s)},null,8,["modelValue"])]),Ca,ka,Sa,u("div",Ea,[u("div",xa,[v(ee,{class:"q-ml-sm",size:"lg",val:"Lunes",modelValue:n(r).horarios_dias,"onUpdate:modelValue":l[10]||(l[10]=s=>n(r).horarios_dias=s)},null,8,["modelValue"]),Aa]),u("div",qa,[v(ee,{class:"q-ml-sm",size:"lg",val:"Martes",modelValue:n(r).horarios_dias,"onUpdate:modelValue":l[11]||(l[11]=s=>n(r).horarios_dias=s)},null,8,["modelValue"]),Ma]),u("div",Fa,[v(ee,{class:"q-ml-sm",size:"lg",val:"Miercoles",modelValue:n(r).horarios_dias,"onUpdate:modelValue":l[12]||(l[12]=s=>n(r).horarios_dias=s)},null,8,["modelValue"]),Pa]),u("div",Va,[v(ee,{class:"q-ml-sm",size:"lg",val:"Jueves",modelValue:n(r).horarios_dias,"onUpdate:modelValue":l[13]||(l[13]=s=>n(r).horarios_dias=s)},null,8,["modelValue"]),wa]),u("div",Na,[v(ee,{class:"q-ml-sm",size:"lg",val:"Viernes",modelValue:n(r).horarios_dias,"onUpdate:modelValue":l[14]||(l[14]=s=>n(r).horarios_dias=s)},null,8,["modelValue"]),Ra]),u("div",Ta,[v(ee,{class:"q-ml-sm",size:"lg",val:"Sabado",modelValue:n(r).horarios_dias,"onUpdate:modelValue":l[15]||(l[15]=s=>n(r).horarios_dias=s)},null,8,["modelValue"]),za])]),Ia,u("div",ja,[u("div",Da,[u("div",Ua,[v(Q,{outlined:"",modelValue:n(r).horarios_time[0],"onUpdate:modelValue":l[17]||(l[17]=s=>n(r).horarios_time[0]=s),mask:"time",rules:["time"],dense:""},{append:k(()=>[v(j,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[v(We,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[v(Ye,{modelValue:n(r).horarios_time[0],"onUpdate:modelValue":l[16]||(l[16]=s=>n(r).horarios_time[0]=s)},{default:k(()=>[u("div",Ka,[ze(v(fe,{label:"Close",color:"primary",flat:""},null,512),[[Be]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),u("div",Ha,[v(Q,{outlined:"",modelValue:n(r).horarios_time[1],"onUpdate:modelValue":l[19]||(l[19]=s=>n(r).horarios_time[1]=s),mask:"time",rules:["time"],dense:""},{append:k(()=>[v(j,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[v(We,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[v(Ye,{modelValue:n(r).horarios_time[1],"onUpdate:modelValue":l[18]||(l[18]=s=>n(r).horarios_time[1]=s)},{default:k(()=>[u("div",$a,[ze(v(fe,{label:"Close",color:"primary",flat:""},null,512),[[Be]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),Ga,u("div",La,[v(Q,{modelValue:n(r).confirmPassword,"onUpdate:modelValue":l[20]||(l[20]=s=>n(r).confirmPassword=s),dense:"",outlined:""},null,8,["modelValue"])]),Oa,u("div",Qa,[v(ee,{color:"green",size:"lg",modelValue:n(r).confirmPassword,"onUpdate:modelValue":l[21]||(l[21]=s=>n(r).confirmPassword=s)},null,8,["modelValue"])]),u("div",Wa,[u("label",{class:ke(["text-h6 text-weight-medium",[m.$q.screen.xs?"q-my-md":""]])}," Nueva Contrase\xF1a: ",2)]),Ba,u("div",Ya,[v(Q,{type:n(D)?"password":"text",outlined:"",dense:"",modelValue:n(r).password,"onUpdate:modelValue":l[23]||(l[23]=s=>n(r).password=s),modelModifiers:{trim:!0},required:!P.edit},{append:k(()=>[v(j,{name:n(D)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:l[22]||(l[22]=s=>D.value=!n(D))},null,8,["name"])]),prepend:k(()=>[v(j,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])]),Ja,u("div",Xa,[v(Q,{type:n(K)?"password":"text",outlined:"",dense:"",modelValue:n(r).confirmPassword,"onUpdate:modelValue":l[25]||(l[25]=s=>n(r).confirmPassword=s),modelModifiers:{trim:!0},required:!P.edit},{append:k(()=>[v(j,{name:n(K)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:l[24]||(l[24]=s=>K.value=!n(K))},null,8,["name"])]),prepend:k(()=>[v(j,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])])])]),u("div",Za,[u("div",et,[u("div",{class:ke(["col-11 flex justify-start items-center",[m.$q.screen.xs?"q-my-md":""]])},at,2),v($l,{class:ke(["col-xs-11 col-sm-11 col-sm-11",[m.$q.screen.xs?"offset-1":""]]),"default-expand-all":!1,nodes:n(Gl),"label-key":"label","node-key":"value","control-color":"deep-orange-14","tick-strategy":"leaf",expanded:n(I),"onUpdate:expanded":l[26]||(l[26]=s=>ql(I)?I.value=s:null),ticked:n(r).permisos,"onUpdate:ticked":l[27]||(l[27]=s=>n(r).permisos=s)},null,8,["class","nodes","expanded","ticked"])])])])]),_:1}),v(Ml,{class:ke(["q-pb-md",[n(Le).width<600?"justify-center q-ml-xl":"justify-between"]])},{default:k(()=>[n(Le).width>600?(Z(),Ue(fe,{key:0,type:"submit",icon:"arrow_back",onClick:l[28]||(l[28]=s=>m.$router.push("/usuarios")),outline:"",rounded:"",class:"q-mr-lg",color:m.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:k(()=>[we(" \xA0 Regresar ")]),_:1},8,["color"])):Se("",!0),v(fe,{type:"submit",icon:"save",loading:n(L),outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:k(()=>[we(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])]),_:1},8,["class"])]),_:1})]),_:1}),v(kl,{modelValue:V.value,"onUpdate:modelValue":l[30]||(l[30]=s=>V.value=s)},{default:k(()=>[v(Il)]),_:1},8,["modelValue"])],64))}});export{gt as _,Ol as u};

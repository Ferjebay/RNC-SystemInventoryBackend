import{m as Je,H as Xe,b8 as nl,I as Ze,bt as rl,r as z,n as x,v as ke,ay as ul,s as cl,p as b,z as el,bu as dl,bh as vl,aC as ml,N as Ie,h as Ce,Y as ll,bc as fl,bf as bl,bq as hl,i as j,b2 as gl,am as $e,aI as yl,b3 as Ge,u as _l,d as pl,B as Cl,o as ee,a7 as Ve,g as k,ab as n,f,aQ as kl,e as u,Q,ac as _e,a8 as we,c as Ne,ad as pe,bp as le,aS as Sl,aR as xl,S as Oe,aP as El}from"./index.8664be62.js";import{a as We,Q as Qe}from"./QItemLabel.1912e121.js";import{Q as Re}from"./QSelect.4c9b962d.js";import{T as Al}from"./TouchPan.c6b68b7f.js";import{u as ql,a as Ml,b as Fl,g as Pl,Q as Le}from"./QPopupProxy.d9600fc9.js";import{_ as Te,f as Vl}from"./date.1faf408c.js";import{p as me}from"./format.2bc25e5f.js";import{Q as wl}from"./QSlideTransition.17453d8a.js";import{Q as Nl}from"./QForm.80a4ea9c.js";import{C as Be}from"./ClosePopup.e1efdcac.js";import{u as Rl}from"./useHelpers.b2e33214.js";import{a as je}from"./axios.a0bfa418.js";function Tl(e,V){if(e.hour!==null){if(e.minute===null)return"minute";if(V===!0&&e.second===null)return"second"}return"hour"}function zl(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Ye=Je({name:"QTime",props:{...Xe,...nl,...ql,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Ml,setup(e,{slots:V,emit:F}){const I=el(),{$q:N}=I.proxy,$=Ze(e,N),{tabindex:s,headerClass:R,getLocale:U,getCurrentDate:L}=Fl(e,N),fe=rl(e),G=dl(fe);let K,O;const W=z(null),B=x(()=>h()),Y=x(()=>U()),S=x(()=>d()),r=Te(e.modelValue,B.value,Y.value,e.calendar,S.value),i=z(Tl(r)),v=z(r),P=z(r.hour===null||r.hour<12),De=x(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+($.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),re=x(()=>{const l=v.value;return{hour:l.hour===null?"--":w.value===!0?me(l.hour):String(P.value===!0?l.hour===0?12:l.hour:l.hour>12?l.hour-12:l.hour),minute:l.minute===null?"--":me(l.minute),second:l.second===null?"--":me(l.second)}}),w=x(()=>e.format24h!==null?e.format24h:N.lang.date.format24h),Se=x(()=>{const l=i.value==="hour",o=l===!0?12:60,m=v.value[i.value];let q=`rotate(${Math.round(m*(360/o))-180}deg) translateX(-50%)`;return l===!0&&w.value===!0&&v.value.hour>=12&&(q+=" scale(.7)"),{transform:q}}),xe=x(()=>v.value.hour!==null),ue=x(()=>xe.value===!0&&v.value.minute!==null),ae=x(()=>e.hourOptions!==void 0?l=>e.hourOptions.includes(l):e.options!==void 0?l=>e.options(l,null,null):null),te=x(()=>e.minuteOptions!==void 0?l=>e.minuteOptions.includes(l):e.options!==void 0?l=>e.options(v.value.hour,l,null):null),ce=x(()=>e.secondOptions!==void 0?l=>e.secondOptions.includes(l):e.options!==void 0?l=>e.options(v.value.hour,v.value.minute,l):null),D=x(()=>{if(ae.value===null)return null;const l=t(0,11,ae.value),o=t(12,11,ae.value);return{am:l,pm:o,values:l.values.concat(o.values)}}),ie=x(()=>te.value!==null?t(0,59,te.value):null),se=x(()=>ce.value!==null?t(0,59,ce.value):null),oe=x(()=>{switch(i.value){case"hour":return D.value;case"minute":return ie.value;case"second":return se.value}}),Ee=x(()=>{let l,o,m=0,_=1;const q=oe.value!==null?oe.value.values:void 0;i.value==="hour"?w.value===!0?(l=0,o=23):(l=0,o=11,P.value===!1&&(m=12)):(l=0,o=55,_=5);const H=[];for(let g=l,T=l;g<=o;g+=_,T++){const ne=g+m,sl=q!==void 0&&q.includes(ne)===!1,ol=i.value==="hour"&&g===0?w.value===!0?"00":"12":g;H.push({val:ne,index:T,disable:sl,label:ol})}return H}),be=x(()=>[[Al,J,void 0,{stop:!0,prevent:!0,mouse:!0}]]);ke(()=>e.modelValue,l=>{const o=Te(l,B.value,Y.value,e.calendar,S.value);(o.dateHash!==v.value.dateHash||o.timeHash!==v.value.timeHash)&&(v.value=o,o.hour===null?i.value="hour":P.value=o.hour<12)}),ke([B,Y],()=>{ll(()=>{Ue()})});function Ae(){const l={...L(),...zl()};Ue(l),Object.assign(v.value,l),i.value="hour"}function t(l,o,m){const _=Array.apply(null,{length:o+1}).map((q,H)=>{const g=H+l;return{index:g,val:m(g)===!0}}).filter(q=>q.val===!0).map(q=>q.index);return{min:_[0],max:_[_.length-1],values:_,threshold:o+1}}function c(l,o,m){const _=Math.abs(l-o);return Math.min(_,m-_)}function a(l,{min:o,max:m,values:_,threshold:q}){if(l===o)return o;if(l<o||l>m)return c(l,o,q)<=c(l,m,q)?o:m;const H=_.findIndex(ne=>l<=ne),g=_[H-1],T=_[H];return l-g<=T-l?g:T}function h(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function d(){if(typeof e.defaultDate!="string"){const l=L(!0);return l.dateHash=Pl(l),l}return Te(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function C(){return vl(I)===!0||oe.value!==null&&(oe.value.values.length===0||i.value==="hour"&&w.value!==!0&&D.value[P.value===!0?"am":"pm"].values.length===0)}function E(){const l=W.value,{top:o,left:m,width:_}=l.getBoundingClientRect(),q=_/2;return{top:o+q,left:m+q,dist:q*.7}}function J(l){if(C()!==!0){if(l.isFirst===!0){K=E(),O=de(l.evt,K);return}O=de(l.evt,K,O),l.isFinal===!0&&(K=!1,O=null,M())}}function M(){i.value==="hour"?i.value="minute":e.withSeconds&&i.value==="minute"&&(i.value="second")}function de(l,o,m){const _=ul(l),q=Math.abs(_.top-o.top),H=Math.sqrt(Math.pow(Math.abs(_.top-o.top),2)+Math.pow(Math.abs(_.left-o.left),2));let g,T=Math.asin(q/H)*(180/Math.PI);if(_.top<o.top?T=o.left<_.left?90-T:270+T:T=o.left<_.left?T+90:270-T,i.value==="hour"){if(g=T/30,D.value!==null){const ne=w.value!==!0?P.value===!0:D.value.am.values.length!==0&&D.value.pm.values.length!==0?H>=o.dist:D.value.am.values.length!==0;g=a(g+(ne===!0?0:12),D.value[ne===!0?"am":"pm"])}else g=Math.round(g),w.value===!0?H<o.dist?g<12&&(g+=12):g===12&&(g=0):P.value===!0&&g===12?g=0:P.value===!1&&g!==12&&(g+=12);w.value===!0&&(P.value=g<12)}else g=Math.round(T/6)%60,i.value==="minute"&&ie.value!==null?g=a(g,ie.value):i.value==="second"&&se.value!==null&&(g=a(g,se.value));return m!==g&&al[i.value](g),g}const X={hour(){i.value="hour"},minute(){i.value="minute"},second(){i.value="second"}};function qe(l){l.keyCode===13&&Ke()}function he(l){l.keyCode===13&&He()}function ge(l){C()!==!0&&(N.platform.is.desktop!==!0&&de(l,E()),M())}function Z(l){C()!==!0&&de(l,E())}function y(l){if(l.keyCode===13)i.value="hour";else if([37,39].includes(l.keyCode)){const o=l.keyCode===37?-1:1;if(D.value!==null){const m=w.value===!0?D.value.values:D.value[P.value===!0?"am":"pm"].values;if(m.length===0)return;if(v.value.hour===null)ve(m[0]);else{const _=(m.length+m.indexOf(v.value.hour)+o)%m.length;ve(m[_])}}else{const m=w.value===!0?24:12,_=w.value!==!0&&P.value===!1?12:0,q=v.value.hour===null?-o:v.value.hour;ve(_+(24+q+o)%m)}}}function A(l){if(l.keyCode===13)i.value="minute";else if([37,39].includes(l.keyCode)){const o=l.keyCode===37?-1:1;if(ie.value!==null){const m=ie.value.values;if(m.length===0)return;if(v.value.minute===null)Fe(m[0]);else{const _=(m.length+m.indexOf(v.value.minute)+o)%m.length;Fe(m[_])}}else{const m=v.value.minute===null?-o:v.value.minute;Fe((60+m+o)%60)}}}function Me(l){if(l.keyCode===13)i.value="second";else if([37,39].includes(l.keyCode)){const o=l.keyCode===37?-1:1;if(se.value!==null){const m=se.value.values;if(m.length===0)return;if(v.value.seconds===null)Pe(m[0]);else{const _=(m.length+m.indexOf(v.value.second)+o)%m.length;Pe(m[_])}}else{const m=v.value.second===null?-o:v.value.second;Pe((60+m+o)%60)}}}function ve(l){v.value.hour!==l&&(v.value.hour=l,ye())}function Fe(l){v.value.minute!==l&&(v.value.minute=l,ye())}function Pe(l){v.value.second!==l&&(v.value.second=l,ye())}const al={hour:ve,minute:Fe,second:Pe};function Ke(){P.value===!1&&(P.value=!0,v.value.hour!==null&&(v.value.hour-=12,ye()))}function He(){P.value===!0&&(P.value=!1,v.value.hour!==null&&(v.value.hour+=12,ye()))}function ye(){if(ae.value!==null&&ae.value(v.value.hour)!==!0){v.value=Te(),i.value="hour";return}if(te.value!==null&&te.value(v.value.minute)!==!0){v.value.minute=null,v.value.second=null,i.value="minute";return}if(e.withSeconds===!0&&ce.value!==null&&ce.value(v.value.second)!==!0){v.value.second=null,i.value="second";return}v.value.hour===null||v.value.minute===null||e.withSeconds===!0&&v.value.second===null||Ue()}function Ue(l){const o=Object.assign({...v.value},l),m=e.calendar==="persian"?me(o.hour)+":"+me(o.minute)+(e.withSeconds===!0?":"+me(o.second):""):Vl(new Date(o.year,o.month===null?null:o.month-1,o.day,o.hour,o.minute,o.second,o.millisecond),B.value,Y.value,o.year,o.timezoneOffset);o.changed=m!==e.modelValue,F("update:modelValue",m,o)}function tl(){const l=[b("div",{class:"q-time__link "+(i.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:X.hour,onKeyup:y},re.value.hour),b("div",":"),b("div",xe.value===!0?{class:"q-time__link "+(i.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:A,onClick:X.minute}:{class:"q-time__link"},re.value.minute)];e.withSeconds===!0&&l.push(b("div",":"),b("div",ue.value===!0?{class:"q-time__link "+(i.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:Me,onClick:X.second}:{class:"q-time__link"},re.value.second));const o=[b("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},l)];return w.value===!1&&o.push(b("div",{class:"q-time__header-ampm column items-between no-wrap"},[b("div",{class:"q-time__link "+(P.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:Ke,onKeyup:qe},"AM"),b("div",{class:"q-time__link "+(P.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:He,onKeyup:he},"PM")])),b("div",{class:"q-time__header flex flex-center no-wrap "+R.value},o)}function il(){const l=v.value[i.value];return b("div",{class:"q-time__content col relative-position"},[b(ml,{name:"q-transition--scale"},()=>b("div",{key:"clock"+i.value,class:"q-time__container-parent absolute-full"},[b("div",{ref:W,class:"q-time__container-child fit overflow-hidden"},[Ie(b("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:ge,onMousedown:Z},[b("div",{class:"q-time__clock-circle fit"},[b("div",{class:"q-time__clock-pointer"+(v.value[i.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Se.value}),Ee.value.map(o=>b("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${o.index}`+(o.val===l?" q-time__clock-position--active "+R.value:o.disable===!0?" q-time__clock-position--disable":"")},[b("span",o.label)]))])]),be.value)])])),e.nowBtn===!0?b(Ce,{class:"q-time__now-button absolute",icon:N.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:s.value,onClick:Ae}):null])}return I.proxy.setNow=Ae,()=>{const l=[il()],o=cl(V.default);return o!==void 0&&l.push(b("div",{class:"q-time__actions"},o)),e.name!==void 0&&e.disable!==!0&&G(l,"push"),b("div",{class:De.value,tabindex:-1},[tl(),b("div",{class:"q-time__main col overflow-auto"},l)])}}});const Il=["none","strict","leaf","leaf-filtered"];var jl=Je({name:"QTree",props:{...Xe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Il.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:V,emit:F}){const{proxy:I}=el(),{$q:N}=I,$=Ze(e,N),s=z({}),R=z(e.ticked||[]),U=z(e.expanded||[]);let L={};fl(()=>{L={}});const fe=x(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+($.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),G=x(()=>e.selected!==void 0),K=x(()=>e.icon||N.iconSet.tree.icon),O=x(()=>e.controlColor||e.color),W=x(()=>e.textColor!==void 0?` text-${e.textColor}`:""),B=x(()=>{const t=e.selectedColor||e.color;return t?` text-${t}`:""}),Y=x(()=>e.filterMethod!==void 0?e.filterMethod:(t,c)=>{const a=c.toLowerCase();return t[e.labelKey]&&t[e.labelKey].toLowerCase().indexOf(a)>-1}),S=x(()=>{const t={},c=(a,h)=>{const d=a.tickStrategy||(h?h.tickStrategy:e.tickStrategy),C=a[e.nodeKey],E=a[e.childrenKey]&&Array.isArray(a[e.childrenKey])&&a[e.childrenKey].length!==0,J=a.disabled!==!0&&G.value===!0&&a.selectable!==!1,M=a.disabled!==!0&&a.expandable!==!1,de=d!=="none",X=d==="strict",qe=d==="leaf-filtered",he=d==="leaf"||d==="leaf-filtered";let ge=a.disabled!==!0&&a.tickable!==!1;he===!0&&ge===!0&&h&&h.tickable!==!0&&(ge=!1);let Z=a.lazy;Z===!0&&s.value[C]!==void 0&&Array.isArray(a[e.childrenKey])===!0&&(Z=s.value[C]);const y={key:C,parent:h,isParent:E,lazy:Z,disabled:a.disabled,link:a.disabled!==!0&&(J===!0||M===!0&&(E===!0||Z===!0)),children:[],matchesFilter:e.filter?Y.value(a,e.filter):!0,selected:C===e.selected&&J===!0,selectable:J,expanded:E===!0?U.value.includes(C):!1,expandable:M,noTick:a.noTick===!0||X!==!0&&Z&&Z!=="loaded",tickable:ge,tickStrategy:d,hasTicking:de,strictTicking:X,leafFilteredTicking:qe,leafTicking:he,ticked:X===!0?R.value.includes(C):E===!0?!1:R.value.includes(C)};if(t[C]=y,E===!0&&(y.children=a[e.childrenKey].map(A=>c(A,y)),e.filter&&(y.matchesFilter!==!0?y.matchesFilter=y.children.some(A=>A.matchesFilter):y.noTick!==!0&&y.disabled!==!0&&y.tickable===!0&&qe===!0&&y.children.every(A=>A.matchesFilter!==!0||A.noTick===!0||A.tickable!==!0)===!0&&(y.tickable=!1)),y.matchesFilter===!0&&(y.noTick!==!0&&X!==!0&&y.children.every(A=>A.noTick)===!0&&(y.noTick=!0),he))){if(y.ticked=!1,y.indeterminate=y.children.some(A=>A.indeterminate===!0),y.tickable=y.tickable===!0&&y.children.some(A=>A.tickable),y.indeterminate!==!0){const A=y.children.reduce((Me,ve)=>ve.ticked===!0?Me+1:Me,0);A===y.children.length?y.ticked=!0:A>0&&(y.indeterminate=!0)}y.indeterminate===!0&&(y.indeterminateNextState=y.children.every(A=>A.tickable!==!0||A.ticked!==!0))}return y};return e.nodes.forEach(a=>c(a,null)),t});ke(()=>e.ticked,t=>{R.value=t}),ke(()=>e.expanded,t=>{U.value=t});function r(t){const c=[].reduce,a=(h,d)=>{if(h||!d)return h;if(Array.isArray(d)===!0)return c.call(Object(d),a,h);if(d[e.nodeKey]===t)return d;if(d[e.childrenKey])return a(null,d[e.childrenKey])};return a(null,e.nodes)}function i(){return R.value.map(t=>r(t))}function v(){return U.value.map(t=>r(t))}function P(t){return t&&S.value[t]?S.value[t].expanded:!1}function De(){e.expanded!==void 0?F("update:expanded",[]):U.value=[]}function re(){const t=[],c=a=>{a[e.childrenKey]&&a[e.childrenKey].length!==0&&a.expandable!==!1&&a.disabled!==!0&&(t.push(a[e.nodeKey]),a[e.childrenKey].forEach(c))};e.nodes.forEach(c),e.expanded!==void 0?F("update:expanded",t):U.value=t}function w(t,c,a=r(t),h=S.value[t]){if(h.lazy&&h.lazy!=="loaded"){if(h.lazy==="loading")return;s.value[t]="loading",Array.isArray(a[e.childrenKey])!==!0&&(a[e.childrenKey]=[]),F("lazyLoad",{node:a,key:t,done:d=>{s.value[t]="loaded",a[e.childrenKey]=Array.isArray(d)===!0?d:[],ll(()=>{const C=S.value[t];C&&C.isParent===!0&&Se(t,!0)})},fail:()=>{delete s.value[t],a[e.childrenKey].length===0&&delete a[e.childrenKey]}})}else h.isParent===!0&&h.expandable===!0&&Se(t,c)}function Se(t,c){let a=U.value;const h=e.expanded!==void 0;if(h===!0&&(a=a.slice()),c){if(e.accordion&&S.value[t]){const d=[];S.value[t].parent?S.value[t].parent.children.forEach(C=>{C.key!==t&&C.expandable===!0&&d.push(C.key)}):e.nodes.forEach(C=>{const E=C[e.nodeKey];E!==t&&d.push(E)}),d.length!==0&&(a=a.filter(C=>d.includes(C)===!1))}a=a.concat([t]).filter((d,C,E)=>E.indexOf(d)===C)}else a=a.filter(d=>d!==t);h===!0?F("update:expanded",a):U.value=a}function xe(t){return t&&S.value[t]?S.value[t].ticked:!1}function ue(t,c){let a=R.value;const h=e.ticked!==void 0;h===!0&&(a=a.slice()),c?a=a.concat(t).filter((d,C,E)=>E.indexOf(d)===C):a=a.filter(d=>t.includes(d)===!1),h===!0&&F("update:ticked",a)}function ae(t,c,a){const h={tree:I,node:t,key:a,color:e.color,dark:$.value};return Ge(h,"expanded",()=>c.expanded,d=>{d!==c.expanded&&w(a,d)}),Ge(h,"ticked",()=>c.ticked,d=>{d!==c.ticked&&ue([a],d)}),h}function te(t){return(e.filter?t.filter(c=>S.value[c[e.nodeKey]].matchesFilter):t).map(c=>se(c))}function ce(t){if(t.icon!==void 0)return b(j,{class:"q-tree__icon q-mr-sm",name:t.icon,color:t.iconColor});const c=t.img||t.avatar;if(c)return b("img",{class:`q-tree__${t.img?"img":"avatar"} q-mr-sm`,src:c})}function D(){F("afterShow")}function ie(){F("afterHide")}function se(t){const c=t[e.nodeKey],a=S.value[c],h=t.header&&V[`header-${t.header}`]||V["default-header"],d=a.isParent===!0?te(t[e.childrenKey]):[],C=d.length!==0||a.lazy&&a.lazy!=="loaded";let E=t.body&&V[`body-${t.body}`]||V["default-body"];const J=h!==void 0||E!==void 0?ae(t,a,c):null;return E!==void 0&&(E=b("div",{class:"q-tree__node-body relative-position"},[b("div",{class:W.value},[E(J)])])),b("div",{key:c,class:`q-tree__node relative-position q-tree__node--${C===!0?"parent":"child"}`},[b("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(a.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(a.selected===!0?" q-tree__node--selected":"")+(a.disabled===!0?" q-tree__node--disabled":""),tabindex:a.link===!0?0:-1,onClick:M=>{Ee(t,a,M)},onKeypress(M){bl(M)!==!0&&(M.keyCode===13?Ee(t,a,M,!0):M.keyCode===32&&be(t,a,M,!0))}},[b("div",{class:"q-focus-helper",tabindex:-1,ref:M=>{L[a.key]=M}}),a.lazy==="loading"?b(hl,{class:"q-tree__spinner",color:O.value}):C===!0?b(j,{class:"q-tree__arrow"+(a.expanded===!0?" q-tree__arrow--rotate":""),name:K.value,onClick(M){be(t,a,M)}}):null,a.hasTicking===!0&&a.noTick!==!0?b(gl,{class:"q-tree__tickbox",modelValue:a.indeterminate===!0?null:a.ticked,color:O.value,dark:$.value,dense:!0,keepColor:!0,disable:a.tickable!==!0,onKeydown:$e,"onUpdate:modelValue":M=>{Ae(a,M)}}):null,b("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(a.selected===!0?B.value:W.value)},[h?h(J):[ce(t),b("div",t[e.labelKey])]])]),C===!0?e.noTransition===!0?b("div",{class:"q-tree__node-collapsible"+W.value,key:`${c}__q`},[E,b("div",{class:"q-tree__children"+(a.disabled===!0?" q-tree__node--disabled":"")},a.expanded?d:null)]):b(wl,{duration:e.duration,onShow:D,onHide:ie},()=>Ie(b("div",{class:"q-tree__node-collapsible"+W.value,key:`${c}__q`},[E,b("div",{class:"q-tree__children"+(a.disabled===!0?" q-tree__node--disabled":"")},d)]),[[yl,a.expanded]])):E])}function oe(t){const c=L[t];c&&c.focus()}function Ee(t,c,a,h){h!==!0&&c.selectable!==!1&&oe(c.key),G.value&&c.selectable?e.noSelectionUnset===!1?F("update:selected",c.key!==e.selected?c.key:null):c.key!==e.selected&&F("update:selected",c.key===void 0?null:c.key):be(t,c,a,h),typeof t.handler=="function"&&t.handler(t)}function be(t,c,a,h){a!==void 0&&$e(a),h!==!0&&c.selectable!==!1&&oe(c.key),w(c.key,!c.expanded,t,c)}function Ae(t,c){if(t.indeterminate===!0&&(c=t.indeterminateNextState),t.strictTicking)ue([t.key],c);else if(t.leafTicking){const a=[],h=d=>{d.isParent?(c!==!0&&d.noTick!==!0&&d.tickable===!0&&a.push(d.key),d.leafTicking===!0&&d.children.forEach(h)):d.noTick!==!0&&d.tickable===!0&&(d.leafFilteredTicking!==!0||d.matchesFilter===!0)&&a.push(d.key)};h(t),ue(a,c)}}return e.defaultExpandAll===!0&&re(),Object.assign(I,{getNodeByKey:r,getTickedNodes:i,getExpandedNodes:v,isExpanded:P,collapseAll:De,expandAll:re,setExpanded:w,isTicked:xe,setTicked:ue}),()=>{const t=te(e.nodes);return b("div",{class:fe.value},t.length===0?e.filter?e.noResultsLabel||N.lang.tree.noResults:e.noNodesLabel||N.lang.tree.noNodes:t)}}}),Dl=[{label:"Seleccionar todos los permisos",value:"Seleccionar todos los permisos",children:[{label:"Gesti\xF3n de Red",value:"Gesti\xF3n de Red",children:[{label:"Router",value:"Router",children:[{label:"Acceso Men\xFA",value:"GestionRed-Router-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Router-Nuevo"},{label:"Editar",value:"GestionRed-Router-Editar"},{label:"Eliminar",value:"GestionRed-Router-Eliminar"}]},{label:"Redes Ipv4",value:"Redes Ipv4",children:[{label:"Acceso Men\xFA",value:"GestionRed-Redes-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Redes-Nuevo"},{label:"Editar",value:"GestionRed-Redes-Editar"},{label:"Eliminar",value:"GestionRed-Redes-Eliminar"},{label:"Escanear Red",value:"GestionRed-Redes-EscanearRed"}]},{label:"Monitoreo",value:"Monitoreo",children:[{label:"Acceso Men\xFA",value:"GestionRed-Monitoreo-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Monitoreo-Nuevo"},{label:"Editar",value:"GestionRed-Monitoreo-Editar"},{label:"Eliminar",value:"GestionRed-Monitoreo-Eliminar"},{label:"Ver antena",value:"GestionRed-Monitoreo-VerAntena"},{label:"Ping Antena",value:"GestionRed-Monitoreo-PingAntena"},{label:"Gr\xE1ficos",value:"GestionRed-Monitoreo-Graficos"}]},{label:"Trafico",value:"Trafico",children:[{label:"Lista tr\xE1fico",value:"GestionRed-Trafico-Lista"},{label:"Lista Ips visitadas",value:"GestionRed-Monitoreo-ListaIPS"}]}]},{label:"Servicios",value:"Servicios",children:[{label:"Internet",value:"Internet",children:[{label:"Acceso Men\xFA",value:"Servicios-Internet-AccesoMenu"},{label:"Nuevo",value:"Servicios-Internet-Nuevo"},{label:"Editar",value:"Servicios-Internet-Editar"},{label:"Eliminar",value:"Servicios-Internet-Eliminar"}]},{label:"Voz",value:"Voz",children:[{label:"Acceso Men\xFA",value:"Servicios-Voz-AccesoMenu"},{label:"Nuevo",value:"Servicios-Voz-Nuevo"},{label:"Editar",value:"Servicios-Voz-Editar"},{label:"Eliminar",value:"Servicios-Voz-Eliminar"}]},{label:"Personalizado",value:"Personalizado",children:[{label:"Acceso Men\xFA",value:"Servicios-Personalizado-AccesoMenu"},{label:"Nuevo",value:"Servicios-Personalizado-Nuevo"},{label:"Editar",value:"Servicios-Personalizado-Editar"},{label:"Eliminar",value:"Servicios-Personalizado-Eliminar"}]}]},{label:"Clientes",value:"Clientes",children:[{label:"Usuarios",value:"Usuarios",children:[{label:"Acceso Men\xFA",value:"Clientes-Usuarios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Usuarios-Nuevo"},{label:"Eliminar",value:"Clientes-Usuarios-Eliminar"},{label:"Ver perfil(Editar)",value:"Clientes-Usuarios-VerPerfil"},{label:"Editar datos",value:"Clientes-Usuarios-EnviarDatos"},{label:"Activar/Suspender",value:"Clientes-Usuarios-ActivarSuspender"},{label:"Retirar",value:"Clientes-Usuarios-Retirar"},{label:"Herramientas",value:"Clientes-Usuarios-Herramientas"}]},{label:"Contratos",value:"Contratos",children:[{label:"Acceso Men\xFA",value:"Clientes-Contratos-AccesoMenu"},{label:"Nuevo",value:"Clientes-Contratos-Nuevo"},{label:"Eliminar",value:"Clientes-Contratos-Eliminar"},{label:"Editar",value:"Clientes-Contratos-Editar"}]},{label:"Servicios",value:"Servicios ",children:[{label:"Nuevo",value:"Clientes-Servicios-Nuevo"},{label:"Editar",value:"Clientes-Servicios-Editar"},{label:"Eliminar",value:"Clientes-Servicios-Eliminar"}]},{label:"Facturaci\xF3n",value:"Facturaci\xF3n",children:[{label:"Nueva factura",value:"Clientes-Fact-NuevaFactura"},{label:"Eliminar factura",value:"Clientes-Fact-EliminarFactura"},{label:"Editar factura",value:"Clientes-Fact-EditarFactura"},{label:"Anular factura",value:"Clientes-Fact-AnularFactura"},{label:"Configuraci\xF3n",value:"Clientes-Fact-Configuracion"},{label:"Pagar factura",value:"Clientes-Fact-PagarFactura"},{label:"Editar pago factura",value:"Clientes-Fact-EditPagoFact"},{label:"Eliminar pago factura",value:"Clientes-Fact-DeletePagoFact"},{label:"Agregar saldo",value:"Clientes-Facturacion-AgregarSaldo"},{label:"Eliminar saldo",value:"Clientes-Facturacion-EliminarSaldo"}]},{label:"Soporte",value:"Soporte",children:[{label:"Nuevo",value:"Clientes-Soporte-Nuevo"},{label:"Editar",value:"Clientes-Soporte-Editar"},{label:"Eliminar",value:"Clientes-Soporte-Eliminar"},{label:"Cerrar",value:"Clientes-Soporte-Cerrar"}]},{label:"Email & SMS",value:"Email & SMS",children:[{label:"Nuevo correo",value:"Clientes-EmailSMS-NuevoEmail"},{label:"Reenviar correo",value:"Clientes-EmailSMS-ReenviarEmail"},{label:"Nuevo sms",value:"Clientes-EmailSMS-NuevoSMS"},{label:"Reenviar sms",value:"Clientes-EmailSMS-ReenviarSMS"}]},{label:"Documentos",value:"Documentos",children:[{label:"Nuevo Contrato",value:"Clientes-Documents-NuevoContrato"},{label:"Eliminar Contrato",value:"Clientes-Documents-DeleteContrato"},{label:"Editar Contrato",value:"Clientes-Documentos-EditContrato"},{label:"Nuevo documento",value:"Clientes-Documentos-NuevoDocument"},{label:"Eliminar documento",value:"Clientes-Documentos-DeleteDocument"},{label:"Editar documento",value:"Clientes-Documentos-EditarDocument"},{label:"Nueva nota",value:"Clientes-Documentos-NuevaNota"},{label:"Eliminar nota",value:"Clientes-Documentos-EliminarNota"}]},{label:"Mapa clientes",value:"Mapa clientes",children:[{label:"Mapa cliente",value:"Clientes-MapaCliente"}]},{label:"Anuncios",value:"Anuncios",children:[{label:"Acceso men\xFA",value:"Clientes-Anuncios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Anuncios-Nuevo"},{label:"Eliminar",value:"Clientes-Anuncios-Eliminar"}]},{label:"Instalaciones",value:"Instalaciones",children:[{label:"Acceso men\xFA",value:"Clientes-Instalaciones-AccesoMenu"},{label:"Nuevo registro",value:"Clientes-Instalaciones-NuevoRegistro"},{label:"Eliminar registro",value:"Clientes-Instalaciones-DeleteRegistro"},{label:"Editar registro",value:"Clientes-Instalaciones-EditarRegistro"},{label:"Aceptar instalaci\xF3n",value:"Clientes-Instalaciones-AceptarInstalacion"},{label:"Eliminar instalaci\xF3n",value:"Clientes-Instalaciones-EliminarInstalacion"},{label:"Agregar materiales",value:"Clientes-Instalaciones-AddMaterial"},{label:"Dar alta instalaci\xF3n",value:"Clientes-Instalaciones-DarAltaInstalacion"},{label:"Editar instalaci\xF3n",value:"Clientes-Instalaciones-EditarInstalacion"}]},{label:"Correo",value:"Correo",children:[{label:"Acceso men\xFA",value:"Clientes-Correo-AccesoMenu"},{label:"Nuevo",value:"Clientes-Correo-Nuevo"},{label:"Reenviar",value:"Clientes-Correo-Reenviar"}]}]},{label:"Fichas Hotspot",value:"Fichas Hotspot",children:[{label:"Fichas",value:"Fichas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Fichas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Fichas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Fichas-Eliminar"},{label:"Imprimir",value:"FichasHotspot-Fichas-Imprimir"}]},{label:"Router/Perfiles",value:"Router/Perfiles",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Router-AccesoMenu"},{label:"Nuevo router",value:"FichasHotspot-Router-NuevoRouter"},{label:"Eliminar router",value:"FichasHotspot-Router-EliminarRouter"},{label:"Editar router",value:"FichasHotspot-Router-EditarRouter"},{label:"Nuevo perfil",value:"FichasHotspot-Router-NuevoPerfil"},{label:"Eliminar perfil",value:"FichasHotspot-Router-EliminarPerfil"},{label:"Editar perfil",value:"FichasHotspot-Router-EditarPerfil"}]},{label:"Plantillas",value:"Plantillas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Plantillas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Plantillas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Plantillas-Eliminar"},{label:"Editar",value:"FichasHotspot-Plantillas-Editar"}]}]},{label:"Tareas",value:"Tareas",children:[{label:"Lista tareas",value:"Lista tareas",children:[{label:"Nuevo",value:"Tareas-Nuevo"},{label:"Eliminar",value:"Tareas-Eliminar"},{label:"Editar",value:"Tareas-Editar"}]}]},{label:"Finanzas",value:"Finanzas",children:[{label:"Facturas",value:"Facturas",children:[{label:"Acceso Men\xFA",value:"Finanzas-Facturas-AccesoMenu"},{label:"Pagar",value:"Finanzas-Facturas-Pagar"},{label:"Editar",value:"Finanzas-Facturas-Editar"},{label:"Eliminar",value:"Finanzas-Facturas-Eliminar"},{label:"Anular",value:"Finanzas-Facturas-Anular"},{label:"Herramientas",value:"Finanzas-Facturas-Herramientas"}]},{label:"Registar pago",value:"Registar pago",children:[{label:"Acceso Men\xFA",value:"Finanzas-RegistarPago-AccesoMenu"},{label:"Pagos masivos",value:"Finanzas-RegistarPago-PagosMasivos"},{label:"Pagar",value:"Finanzas-RegistarPago-Pagar"},{label:"Promesa de pago",value:"Finanzas-RegistarPago-PromesaPago"},{label:"Permitir saldo",value:"Finanzas-RegistarPago-PermitirSaldo"},{label:"Cambiar dia de pago",value:"Finanzas-RegistarPago-CambiarDiaPago"},{label:"Eliminar pago",value:"Finanzas-RegistarPago-Eliminarpago"},{label:"Editar pago",value:"Finanzas-RegistarPago-EditarPago"}]},{label:"Transacciones",value:"Transacciones",children:[{label:"Acceso Men\xFA",value:"Finanzas-Transacciones-AccesoMenu"},{label:"Editar",value:"Finanzas-Transacciones-Editar"},{label:"Eliminar",value:"Finanzas-Transacciones-Eliminar"},{label:"Resumen PDF/Totales",value:"Finanzas-Transacciones-ResumenPDF"},{label:"Estadisticas",value:"Finanzas-Transacciones-Estadisticas"}]},{label:"Ingresos & Egresos",value:"Ingresos & Egresos",children:[{label:"Nuevo",value:"Finanzas-IngresosEgresos-Nuevo"},{label:"Eliminar",value:"Finanzas-IngresosEgresos-Eliminar"},{label:"Editar",value:"Finanzas-IngresosEgresos-Editar"}]},{label:"Reporte pago",value:"Reporte pago",children:[{label:"Marcar revisado",value:"Finanzas-ReportePago-MarcarRevisado"},{label:"Pagar factura",value:"Finanzas-ReportePago-PagarFactura"}]}]},{label:"Almac\xE9n",value:"Almac\xE9n",children:[{label:"Categor\xEDas",value:"Categor\xEDas",children:[{label:"Acceso Men\xFA",value:"Almacen-Categor\xEDas-AccesoMenu"},{label:"Nuevo",value:"Almacen-Categor\xEDas-Nuevo"},{label:"Editar",value:"Almacen-Categor\xEDas-Editar"},{label:"Eliminar",value:"Almacen-Categor\xEDas-Eliminar"}]},{label:"Productos",value:"Productos",children:[{label:"Acceso Men\xFA",value:"Almacen-Productos-AccesoMenu"},{label:"Nuevo",value:"Almacen-Productos-Nuevo"},{label:"Editar",value:"Almacen-Productos-Editar"},{label:"Eliminar",value:"Almacen-Productos-Eliminar"}]}]},{label:"Ticket_soporte",value:"Ticket_soporte",children:[{label:"Ticket",value:"Ticket",children:[{label:"Acceso Men\xFA",value:"TicketSoporte-Ticket-AccesoMenu"},{label:"Nuevo",value:"TicketSoporte-Ticket-Nuevo"},{label:"Editar",value:"TicketSoporte-Ticket-Editar"},{label:"Eliminar",value:"TicketSoporte-Ticket-Eliminar"},{label:"Cerrar",value:"TicketSoporte-Ticket-Cerrar"},{label:"Ver todos los tickets(Solo para t\xE9cnicos)",value:"TicketSoporte-Ticket-VerAllTickets"}]}]},{label:"SMS ",value:"SMS ",children:[{label:"SMS  ",value:"SMS  ",children:[{label:"Acceso Men\xFA",value:"SMS-SMS-AccesoMenu"},{label:"Nuevo",value:"SMS-SMS-Nuevo"},{label:"Reenviar",value:"SMS-SMS-Reenviar"}]}]},{label:"Configuraci\xF3n",value:"Configuraci\xF3n",children:[{label:"Ajustes",value:"Ajustes",children:[{label:"Acceso Men\xFA",value:"Configuraci\xF3n-Ajustes-AccesoMenu"},{label:"General",value:"Configuraci\xF3n-Ajustes-General"},{label:"Gesti\xF3n personal",value:"Configuraci\xF3n-Ajustes-Gesti\xF3nPersonal"},{label:"Servidor de correo",value:"Configuraci\xF3n-Ajustes-ServidorCorreo"},{label:"Facturaci\xF3n",value:"Configuraci\xF3n-Ajustes-Facturaci\xF3n"},{label:"Factura Electr\xF3nica",value:"Configuraci\xF3n-Ajustes-FacturaElectronica"},{label:"Pasarelas de pagos",value:"Configuraci\xF3n-Ajustes-PasarelasPago"},{label:"Editor plantillas",value:"Configuraci\xF3n-Ajustes-EditorPlantillas"},{label:"Portal cliente",value:"Configuraci\xF3n-Ajustes-PortalClientes"},{label:"Tickets",value:"Configuraci\xF3n-Ajustes-Tickets"},{label:"Importar clientes",value:"Configuraci\xF3n-Ajustes-ImportarClientes"},{label:"Ubicaciones",value:"Configuraci\xF3n-Ajustes-Ubicaciones"}]},{label:"Ajustes",value:"Ajustes",children:[{label:"SMS",value:"Configuraci\xF3n-Ajustes-SMS"},{label:"Cloud",value:"Configuraci\xF3n-Ajustes-Cloud"},{label:"Google",value:"Configuraci\xF3n-Ajustes-Google"},{label:"Bases de datos",value:"Configuraci\xF3n-Ajustes-BasesDatos"},{label:"Cambios masivos",value:"Configuraci\xF3n-Ajustes-CambiosMasivos"},{label:"Plantilla configuraci\xF3n",value:"Configuraci\xF3n-Ajustes-PlantillaConfig"},{label:"Crontab",value:"Configuraci\xF3n-Ajustes-Crontab"},{label:"Logs",value:"Configuraci\xF3n-Ajustes-Logs"},{label:"Sistema",value:"Configuraci\xF3n-Ajustes-Sistema"},{label:"Servidor",value:"Configuraci\xF3n-Ajustes-Servidor"},{label:"Licencia",value:"Configuraci\xF3n-Ajustes-Licencia"},{label:"Migrar",value:"Configuraci\xF3n-Ajustes-Migrar"},{label:"Actualizar sistema",value:"Configuraci\xF3n-Ajustes-ActualizarSistema"}]}]},{label:"Widget Inicio",value:"Widget Inicio",children:[{label:"Widgets",value:"Widgets",children:[{label:"Clientes online",value:"WidgetInicio-Widget-ClientesOnline"},{label:"Transacciones",value:"WidgetInicio-Widget-Transacciones"},{label:"Facturas",value:"WidgetInicio-Widget-Facturas"},{label:"Ticket soporte",value:"WidgetInicio-Widget-TicketSoporte"},{label:"Tr\xE1fico",value:"WidgetInicio-Widget-Tr\xE1fico"},{label:"Resumen sistema",value:"WidgetInicio-Widget-ResumenSistema"},{label:"Pagos registrados",value:"WidgetInicio-Widget-PagosRegistrados"},{label:"\xDAltimos conectados",value:"WidgetInicio-Widget-\xDAltimosConectados"},{label:"Servidor",value:"WidgetInicio-Widget-Servidor"},{label:"Resumen Facturaci\xF3n",value:"WidgetInicio-Widget-ResumenFacturacion"},{label:"Emisores",value:"WidgetInicio-Widget-Emisores"}]}]}]}];const ze=z(!1),p=z({usuario:"",email:"",cedula:"",celular:"",fullName:"",roles:[""],permisos:[],horarios_dias:[],horarios_time:["",""],receiveSupportEmail:!1,company:"",sucursales:[""],password:"",confirmPassword:"",isActive:!0}),Ul=async()=>{const{data:e}=await je.get("/companies");return e},Kl=()=>{const{mostrarNotify:e}=Rl(),V=_l(),F=()=>{p.value.email="",p.value.password="",p.value.cedula="",p.value.celular="",p.value.fullName="",p.value.usuario="",p.value.company="",p.value.roles=[""],p.value.permisos=[],p.value.horarios_dias=[],p.value.horarios_time=[],p.value.receiveSupportEmail=!1},I=async s=>{if(p.value.password!==p.value.confirmPassword)return e("warning","Las contrase\xF1as no coinciden, por favor verificar");if(p.value.company.length===0)return e("warning","Debes elegir una empresa");if(p.value.roles[0]===""&&p.value.company!=="Nuevo")return e("warning","Debes elegir un rol");if(p.value.roles[0]!=="Administrador"&&p.value.roles[0]!=="Super-Administrador"&&p.value.sucursales.length===0)return e("warning","Debes elegir alguna sucursal");if((p.value.roles[0]=="Administrador"||p.value.roles[0]=="Super-Administrador")&&(p.value.sucursales=[]),p.value.permisos.length===0)return e("warning","Debes elegir al menos un permiso");try{ze.value=!0,s?await je.patch("/auth/edit/"+p.value.id,p.value):await je.post("/auth/register",p.value),e("positive",`Usuario ${s?"editado":"creado"} exitosamente.`),ze.value=!1,V.push({name:"Ver Usuarios"})}catch(R){ze.value=!1,e("warning",R.response.data.message)}},N=()=>{p.value.celular=p.value.celular.replace(/\D/g,"")},$=()=>{p.value.fullName=p.value.fullName.toUpperCase()};return{getCompanies:Ul,formUser:p,loading:ze,limpiarFormulario:F,expanded:z(["Seleccionar todos los permisos"]),allowOnlyNumber:N,transformToUpperCase:$,onSubmit:I,validateNumCelular:[s=>s.length>=10||"Debes completar 10 digitos"],showPass:z(!0),showConfirmPass:z(!0)}},Hl={class:"row q-pt-sm"},$l={class:"col-xs-12 col-md-8"},Gl={class:"row"},Ol=u("div",{class:"col-11 flex justify-start items-center"},[u("label",{class:"text-h6 text-weight-medium"},"Datos:")],-1),Wl=u("div",{class:"col-4 flex justify-end items-center"},[u("label",null,"Nombre:")],-1),Ql={class:"col-xs-7 col-sm-6 q-ml-md"},Ll=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",null,"Usuario:")],-1),Bl={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},Yl=u("div",{class:"col-4 flex justify-end items-center"},[u("label",null,"Email:")],-1),Jl={class:"col-xs-7 col-sm-6 q-ml-md"},Xl=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",null,"T\xE9lefono Movil:")],-1),Zl={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},ea=u("label",{class:"text-h6 text-weight-medium"},"Configuraci\xF3n:",-1),la=[ea],aa=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Empresa:")],-1),ta={class:"col-xs-7 col-sm-6 q-ml-md"},ia={key:0,class:"col-4 flex justify-end items-center q-mt-sm"},sa=u("label",null,"Rol:",-1),oa=[sa],na={key:1,class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},ra={key:2,class:"col-4 flex justify-end items-center q-mt-sm"},ua=u("label",null,"Sucursal:",-1),ca=[ua],da={key:3,class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},va=u("div",{class:"col-4 flex justify-end items-center q-mt-sm"},[u("label",{for:""},"Estado:")],-1),ma={class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},fa=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Recibir correo soporte:")],-1),ba={class:"col-xs-7 col-sm-6 q-ml-md"},ha=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},null,-1),ga=u("div",{class:"col-6 q-ml-md q-my-sm"},null,-1),ya=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",{for:""},"Horario Acceso:")],-1),_a={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm flex"},pa={style:{display:"flex","flex-direction":"column"}},Ca=u("label",{class:"q-ml-md"}," Lunes ",-1),ka={style:{display:"flex","flex-direction":"column"}},Sa=u("label",{class:"q-ml-md"}," Martes ",-1),xa={style:{display:"flex","flex-direction":"column"}},Ea=u("label",{class:"q-ml-md"}," Miercoles ",-1),Aa={style:{display:"flex","flex-direction":"column"}},qa=u("label",{class:"q-ml-md"},"Jueves",-1),Ma={style:{display:"flex","flex-direction":"column"}},Fa=u("label",{class:"q-ml-md"}," Viernes ",-1),Pa={style:{display:"flex","flex-direction":"column"}},Va=u("label",{class:"q-ml-md"}," Sabado ",-1),wa=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",{class:"q-mb-md"},"Horario:")],-1),Na={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},Ra={class:"row"},Ta={class:"col-xs-12 col-sm-5"},za={class:"row items-center justify-end"},Ia={class:"col-xs-12 col-sm-5 offset-sm-1"},ja={class:"row items-center justify-end"},Da=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Token API:")],-1),Ua={class:"col-xs-7 col-sm-6 q-ml-md"},Ka=u("div",{class:"col-4 flex justify-end items-center"},[u("label",{for:""},"Activar clave API:")],-1),Ha={class:"col-xs-7 col-sm-6 q-ml-md"},$a={class:"col-11 flex justify-start items-center"},Ga=u("div",{class:"col-4 flex justify-end items-center"},[u("label",null,"Contrase\xF1a:")],-1),Oa={class:"col-xs-7 col-sm-6 q-ml-md"},Wa=u("div",{class:"col-4 flex justify-end items-center q-my-sm"},[u("label",{for:""},"Repite Contrase\xF1a:")],-1),Qa={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},La={class:"col-xs-11 col-md-4"},Ba={class:"row"},Ya=u("label",{class:"text-h6 text-weight-medium"},"Permisos:",-1),Ja=[Ya],ct=pl({__name:"FormUser",props:{edit:{type:Boolean}},setup(e){const V=e,F=z([]),I=z([]);let N=!1;const{getCompanies:$,formUser:s,expanded:R,validateNumCelular:U,allowOnlyNumber:L,transformToUpperCase:fe,showConfirmPass:G,showPass:K,loading:O,onSubmit:W}=Kl();Cl(async()=>{B()});const B=async()=>{F.value=[],(await $()).forEach(r=>{F.value.push({label:r.nombre_comercial,value:r.id})}),F.value};ke(()=>s.value.company,S=>{s.value.company!==""&&Y(S)});const Y=async S=>{I.value=[],(!V.edit||N)&&(s.value.sucursales=[]),N=!0;const{data:r}=await je.get(`/sucursal/find/${S}/company`);r.forEach(i=>{I.value.push({label:i.nombre,value:i.id})})};return(S,r)=>(ee(),Ve(Nl,{onSubmit:r[28]||(r[28]=i=>n(W)(V.edit))},{default:k(()=>[f(El,{class:"my-card"},{default:k(()=>[f(kl,{class:"q-pt-none"},{default:k(()=>[u("div",Hl,[u("div",$l,[u("div",Gl,[Ol,Wl,u("div",Ql,[f(Q,{modelValue:n(s).fullName,"onUpdate:modelValue":r[0]||(r[0]=i=>n(s).fullName=i),modelModifiers:{trim:!0},onKeyup:n(fe),dense:"",outlined:"",required:""},null,8,["modelValue","onKeyup"])]),Ll,u("div",Bl,[f(Q,{modelValue:n(s).usuario,"onUpdate:modelValue":r[1]||(r[1]=i=>n(s).usuario=i),modelModifiers:{trim:!0},dense:"",outlined:"",required:""},{append:k(()=>[f(j,{name:"person",size:"1.3rem"})]),_:1},8,["modelValue"])]),Yl,u("div",Jl,[f(Q,{modelValue:n(s).email,"onUpdate:modelValue":r[2]||(r[2]=i=>n(s).email=i),modelModifiers:{trim:!0},type:"email",dense:"",outlined:"",required:""},{append:k(()=>[f(j,{name:"mail",size:"1.2rem"})]),_:1},8,["modelValue"])]),Xl,u("div",Zl,[f(Q,{modelValue:n(s).celular,"onUpdate:modelValue":r[3]||(r[3]=i=>n(s).celular=i),counter:"",maxlength:"10",rules:n(U),onKeyup:n(L),"lazy-rules":"",dense:"",outlined:"",required:""},{append:k(()=>[f(j,{name:"call",size:"1.2rem"})]),_:1},8,["modelValue","rules","onKeyup"])]),u("div",{class:_e(["col-11 flex justify-start items-center",[S.$q.screen.xs?"q-my-md":""]])},la,2),aa,u("div",ta,[f(Re,{color:"orange","transition-show":"scale","transition-hide":"scale",outlined:"",modelValue:n(s).company,"onUpdate:modelValue":r[4]||(r[4]=i=>n(s).company=i),dense:"",options:F.value,"emit-value":"","map-options":""},{"no-option":k(()=>[f(We,null,{default:k(()=>[f(Qe,{class:"text-grey"},{default:k(()=>[we(" No hay resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),n(s).company.length!==0?(ee(),Ne("div",ia,oa)):pe("",!0),n(s).company.length!==0?(ee(),Ne("div",na,[f(Re,{modelValue:n(s).roles[0],"onUpdate:modelValue":r[5]||(r[5]=i=>n(s).roles[0]=i),outlined:"",dense:"",required:"","transition-show":"scale","transition-hide":"scale",options:["Super-Administrador","Administrador","Pagos","Soporte Tecnico","Vendedor"]},null,8,["modelValue"])])):pe("",!0),n(s).roles[0]!==""&&n(s).company.length!==0&&n(s).roles[0]!=="Administrador"&&n(s).roles[0]!=="Super-Administrador"?(ee(),Ne("div",ra,ca)):pe("",!0),n(s).roles[0]!==""&&n(s).company.length!==0&&n(s).roles[0]!=="Administrador"&&n(s).roles[0]!=="Super-Administrador"?(ee(),Ne("div",da,[f(Re,{modelValue:n(s).sucursales[0],"onUpdate:modelValue":r[6]||(r[6]=i=>n(s).sucursales[0]=i),outlined:"",dense:"",required:"","emit-value":"","map-options":"","transition-show":"scale","transition-hide":"scale",options:I.value},{"no-option":k(()=>[f(We,null,{default:k(()=>[f(Qe,{class:"text-grey"},{default:k(()=>[we(" No se encontro resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])):pe("",!0),va,u("div",ma,[f(Re,{modelValue:n(s).isActive,"onUpdate:modelValue":r[7]||(r[7]=i=>n(s).isActive=i),outlined:"",dense:"","emit-value":"","map-options":"",options:[{label:"Activo",value:!0},{label:"Inactivo",value:!1}]},{append:k(()=>[n(s).isActive?(ee(),Ve(j,{key:0,size:"1.2rem",name:"fa-solid fa-user-check"})):(ee(),Ve(j,{key:1,name:"fa-solid fa-user-xmark",size:"1.2rem"}))]),_:1},8,["modelValue"])]),fa,u("div",ba,[f(le,{color:"green",size:"lg",modelValue:n(s).receiveSupportEmail,"onUpdate:modelValue":r[8]||(r[8]=i=>n(s).receiveSupportEmail=i)},null,8,["modelValue"])]),ha,ga,ya,u("div",_a,[u("div",pa,[f(le,{class:"q-ml-sm",size:"lg",val:"Lunes",modelValue:n(s).horarios_dias,"onUpdate:modelValue":r[9]||(r[9]=i=>n(s).horarios_dias=i)},null,8,["modelValue"]),Ca]),u("div",ka,[f(le,{class:"q-ml-sm",size:"lg",val:"Martes",modelValue:n(s).horarios_dias,"onUpdate:modelValue":r[10]||(r[10]=i=>n(s).horarios_dias=i)},null,8,["modelValue"]),Sa]),u("div",xa,[f(le,{class:"q-ml-sm",size:"lg",val:"Miercoles",modelValue:n(s).horarios_dias,"onUpdate:modelValue":r[11]||(r[11]=i=>n(s).horarios_dias=i)},null,8,["modelValue"]),Ea]),u("div",Aa,[f(le,{class:"q-ml-sm",size:"lg",val:"Jueves",modelValue:n(s).horarios_dias,"onUpdate:modelValue":r[12]||(r[12]=i=>n(s).horarios_dias=i)},null,8,["modelValue"]),qa]),u("div",Ma,[f(le,{class:"q-ml-sm",size:"lg",val:"Viernes",modelValue:n(s).horarios_dias,"onUpdate:modelValue":r[13]||(r[13]=i=>n(s).horarios_dias=i)},null,8,["modelValue"]),Fa]),u("div",Pa,[f(le,{class:"q-ml-sm",size:"lg",val:"Sabado",modelValue:n(s).horarios_dias,"onUpdate:modelValue":r[14]||(r[14]=i=>n(s).horarios_dias=i)},null,8,["modelValue"]),Va])]),wa,u("div",Na,[u("div",Ra,[u("div",Ta,[f(Q,{outlined:"",modelValue:n(s).horarios_time[0],"onUpdate:modelValue":r[16]||(r[16]=i=>n(s).horarios_time[0]=i),mask:"time",rules:["time"],dense:""},{append:k(()=>[f(j,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[f(Le,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[f(Ye,{modelValue:n(s).horarios_time[0],"onUpdate:modelValue":r[15]||(r[15]=i=>n(s).horarios_time[0]=i)},{default:k(()=>[u("div",za,[Ie(f(Ce,{label:"Close",color:"primary",flat:""},null,512),[[Be]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),u("div",Ia,[f(Q,{outlined:"",modelValue:n(s).horarios_time[1],"onUpdate:modelValue":r[18]||(r[18]=i=>n(s).horarios_time[1]=i),mask:"time",rules:["time"],dense:""},{append:k(()=>[f(j,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[f(Le,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[f(Ye,{modelValue:n(s).horarios_time[1],"onUpdate:modelValue":r[17]||(r[17]=i=>n(s).horarios_time[1]=i)},{default:k(()=>[u("div",ja,[Ie(f(Ce,{label:"Close",color:"primary",flat:""},null,512),[[Be]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),Da,u("div",Ua,[f(Q,{modelValue:n(s).confirmPassword,"onUpdate:modelValue":r[19]||(r[19]=i=>n(s).confirmPassword=i),dense:"",outlined:""},null,8,["modelValue"])]),Ka,u("div",Ha,[f(le,{color:"green",size:"lg",modelValue:n(s).confirmPassword,"onUpdate:modelValue":r[20]||(r[20]=i=>n(s).confirmPassword=i)},null,8,["modelValue"])]),u("div",$a,[u("label",{class:_e(["text-h6 text-weight-medium",[S.$q.screen.xs?"q-my-md":""]])}," Nueva Contrase\xF1a: ",2)]),Ga,u("div",Oa,[f(Q,{type:n(K)?"password":"text",outlined:"",dense:"",modelValue:n(s).password,"onUpdate:modelValue":r[22]||(r[22]=i=>n(s).password=i),modelModifiers:{trim:!0},required:!V.edit},{append:k(()=>[f(j,{name:n(K)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:r[21]||(r[21]=i=>K.value=!n(K))},null,8,["name"])]),prepend:k(()=>[f(j,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])]),Wa,u("div",Qa,[f(Q,{type:n(G)?"password":"text",outlined:"",dense:"",modelValue:n(s).confirmPassword,"onUpdate:modelValue":r[24]||(r[24]=i=>n(s).confirmPassword=i),modelModifiers:{trim:!0},required:!V.edit},{append:k(()=>[f(j,{name:n(G)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:r[23]||(r[23]=i=>G.value=!n(G))},null,8,["name"])]),prepend:k(()=>[f(j,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])])])]),u("div",La,[u("div",Ba,[u("div",{class:_e(["col-11 flex justify-start items-center",[S.$q.screen.xs?"q-my-md":""]])},Ja,2),f(jl,{class:_e(["col-xs-11 col-sm-11 col-sm-11",[S.$q.screen.xs?"offset-1":""]]),"default-expand-all":!1,nodes:n(Dl),"label-key":"label","node-key":"value","control-color":"deep-orange-14","tick-strategy":"leaf",expanded:n(R),"onUpdate:expanded":r[25]||(r[25]=i=>Sl(R)?R.value=i:null),ticked:n(s).permisos,"onUpdate:ticked":r[26]||(r[26]=i=>n(s).permisos=i)},null,8,["class","nodes","expanded","ticked"])])])])]),_:1}),f(xl,{class:_e(["q-pb-md",[n(Oe).width<600?"justify-center q-ml-xl":"justify-between"]])},{default:k(()=>[n(Oe).width>600?(ee(),Ve(Ce,{key:0,type:"submit",icon:"arrow_back",onClick:r[27]||(r[27]=i=>S.$router.push("/usuarios")),outline:"",rounded:"",class:"q-mr-lg",color:S.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:k(()=>[we(" \xA0 Regresar ")]),_:1},8,["color"])):pe("",!0),f(Ce,{type:"submit",icon:"save",loading:n(O),outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:k(()=>[we(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])]),_:1},8,["class"])]),_:1})]),_:1}))}});export{ct as _,Kl as u};

import{l as ze,G as nl,al as rl,m as E,n as m,i as I,Z as ul,bu as cl,bv as dl,bw as vl,p as Je,I as Xe,b5 as ml,K as Ze,bp as fl,r as D,C as be,ay as bl,z as el,bq as hl,be as gl,aC as _l,O as Re,h as Ce,y as ll,b9 as pl,bc as yl,bm as Cl,a$ as kl,S as We,R as El,b0 as $e,u as Sl,d as xl,t as Al,o as re,c as ye,f as v,g as k,af as u,aR as ql,aj as Ml,aM as Fl,aN as Vl,e as n,Q as O,ah as De,w as Pl,ac as Ue,aP as Ve,ab as Qe,bi as ee,aQ as wl,aO as Nl}from"./index.becc66bd.js";import{Q as Ge,b as Oe}from"./QItemLabel.8aa7a3d0.js";import{Q as Pe}from"./QSelect.467cdfd1.js";import{T as Rl,Q as Tl}from"./TouchPan.78817123.js";import{u as zl,a as Il,b as jl,g as Dl,Q as Be}from"./QPopupProxy.5d730869.js";import{_ as we,f as Ul}from"./date.1c6cbe20.js";import{p as fe}from"./format.2bc25e5f.js";import{Q as Kl}from"./QForm.c1623bd2.js";import{C as Le}from"./ClosePopup.796684c7.js";import{u as Hl,a as Wl}from"./AddEmpresa.6fa22ceb.js";import{u as $l}from"./useHelpers.62c49a13.js";import{api as Te}from"./axios.44f0b70d.js";var xt=ze({name:"QBreadcrumbsEl",props:{...nl,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(e,{slots:A}){const{linkTag:q,linkAttrs:N,linkClass:F,navigateOnClick:U}=rl(),S=E(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+F.value:"q-breadcrumbs__el--disable"),...N.value,onClick:U})),o=E(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const M=[];return e.icon!==void 0&&M.push(m(I,{class:o.value,name:e.icon})),e.label!==void 0&&M.push(e.label),m(q.value,{...S.value},ul(A.default,M))}}});const Ql=["",!0];var At=ze({name:"QBreadcrumbs",props:{...cl,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}},setup(e,{slots:A}){const q=dl(e),N=E(()=>`flex items-center ${q.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),F=E(()=>e.separatorColor?` text-${e.separatorColor}`:""),U=E(()=>` text-${e.activeColor}`);return()=>{const S=vl(Je(A.default));if(S.length===0)return;let o=1;const M=[],B=S.filter(T=>T.type!==void 0&&T.type.name==="QBreadcrumbsEl").length,le=A.separator!==void 0?A.separator:()=>e.separator;return S.forEach(T=>{if(T.type!==void 0&&T.type.name==="QBreadcrumbsEl"){const j=o<B,K=T.props!==null&&Ql.includes(T.props.disable),$=(j===!0?"":" q-breadcrumbs--last")+(K!==!0&&j===!0?U.value:"");o++,M.push(m("div",{class:`flex items-center${$}`},[T])),j===!0&&M.push(m("div",{class:"q-breadcrumbs__separator"+F.value},le()))}else M.push(T)}),m("div",{class:"q-breadcrumbs"},[m("div",{class:N.value},M)])}}});function Gl(e,A){if(e.hour!==null){if(e.minute===null)return"minute";if(A===!0&&e.second===null)return"second"}return"hour"}function Ol(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Ye=ze({name:"QTime",props:{...Xe,...ml,...zl,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Il,setup(e,{slots:A,emit:q}){const N=el(),{$q:F}=N.proxy,U=Ze(e,F),{tabindex:S,headerClass:o,getLocale:M,getCurrentDate:B}=jl(e,F),le=fl(e),T=hl(le);let j,K;const $=D(null),Y=E(()=>h()),L=E(()=>M()),R=E(()=>d()),Q=we(e.modelValue,Y.value,L.value,e.calendar,R.value),b=D(Gl(Q)),l=D(Q),s=D(Q.hour===null||Q.hour<12),Ie=E(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(U.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ue=E(()=>{const a=l.value;return{hour:a.hour===null?"--":z.value===!0?fe(a.hour):String(s.value===!0?a.hour===0?12:a.hour:a.hour>12?a.hour-12:a.hour),minute:a.minute===null?"--":fe(a.minute),second:a.second===null?"--":fe(a.second)}}),z=E(()=>e.format24h!==null?e.format24h:F.lang.date.format24h),ke=E(()=>{const a=b.value==="hour",r=a===!0?12:60,f=l.value[b.value];let P=`rotate(${Math.round(f*(360/r))-180}deg) translateX(-50%)`;return a===!0&&z.value===!0&&l.value.hour>=12&&(P+=" scale(.7)"),{transform:P}}),Ee=E(()=>l.value.hour!==null),ce=E(()=>Ee.value===!0&&l.value.minute!==null),ae=E(()=>e.hourOptions!==void 0?a=>e.hourOptions.includes(a):e.options!==void 0?a=>e.options(a,null,null):null),te=E(()=>e.minuteOptions!==void 0?a=>e.minuteOptions.includes(a):e.options!==void 0?a=>e.options(l.value.hour,a,null):null),de=E(()=>e.secondOptions!==void 0?a=>e.secondOptions.includes(a):e.options!==void 0?a=>e.options(l.value.hour,l.value.minute,a):null),W=E(()=>{if(ae.value===null)return null;const a=i(0,11,ae.value),r=i(12,11,ae.value);return{am:a,pm:r,values:a.values.concat(r.values)}}),ie=E(()=>te.value!==null?i(0,59,te.value):null),se=E(()=>de.value!==null?i(0,59,de.value):null),oe=E(()=>{switch(b.value){case"hour":return W.value;case"minute":return ie.value;case"second":return se.value}}),Se=E(()=>{let a,r,f=0,y=1;const P=oe.value!==null?oe.value.values:void 0;b.value==="hour"?z.value===!0?(a=0,r=23):(a=0,r=11,s.value===!1&&(f=12)):(a=0,r=55,y=5);const G=[];for(let g=a,H=a;g<=r;g+=y,H++){const ne=g+f,sl=P!==void 0&&P.includes(ne)===!1,ol=b.value==="hour"&&g===0?z.value===!0?"00":"12":g;G.push({val:ne,index:H,disable:sl,label:ol})}return G}),he=E(()=>[[Rl,J,void 0,{stop:!0,prevent:!0,mouse:!0}]]);be(()=>e.modelValue,a=>{const r=we(a,Y.value,L.value,e.calendar,R.value);(r.dateHash!==l.value.dateHash||r.timeHash!==l.value.timeHash)&&(l.value=r,r.hour===null?b.value="hour":s.value=r.hour<12)}),be([Y,L],()=>{ll(()=>{je()})});function xe(){const a={...B(),...Ol()};je(a),Object.assign(l.value,a),b.value="hour"}function i(a,r,f){const y=Array.apply(null,{length:r+1}).map((P,G)=>{const g=G+a;return{index:g,val:f(g)===!0}}).filter(P=>P.val===!0).map(P=>P.index);return{min:y[0],max:y[y.length-1],values:y,threshold:r+1}}function c(a,r,f){const y=Math.abs(a-r);return Math.min(y,f-y)}function t(a,{min:r,max:f,values:y,threshold:P}){if(a===r)return r;if(a<r||a>f)return c(a,r,P)<=c(a,f,P)?r:f;const G=y.findIndex(ne=>a<=ne),g=y[G-1],H=y[G];return a-g<=H-a?g:H}function h(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function d(){if(typeof e.defaultDate!="string"){const a=B(!0);return a.dateHash=Dl(a),a}return we(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function C(){return gl(N)===!0||oe.value!==null&&(oe.value.values.length===0||b.value==="hour"&&z.value!==!0&&W.value[s.value===!0?"am":"pm"].values.length===0)}function x(){const a=$.value,{top:r,left:f,width:y}=a.getBoundingClientRect(),P=y/2;return{top:r+P,left:f+P,dist:P*.7}}function J(a){if(C()!==!0){if(a.isFirst===!0){j=x(),K=ve(a.evt,j);return}K=ve(a.evt,j,K),a.isFinal===!0&&(j=!1,K=null,w())}}function w(){b.value==="hour"?b.value="minute":e.withSeconds&&b.value==="minute"&&(b.value="second")}function ve(a,r,f){const y=bl(a),P=Math.abs(y.top-r.top),G=Math.sqrt(Math.pow(Math.abs(y.top-r.top),2)+Math.pow(Math.abs(y.left-r.left),2));let g,H=Math.asin(P/G)*(180/Math.PI);if(y.top<r.top?H=r.left<y.left?90-H:270+H:H=r.left<y.left?H+90:270-H,b.value==="hour"){if(g=H/30,W.value!==null){const ne=z.value!==!0?s.value===!0:W.value.am.values.length!==0&&W.value.pm.values.length!==0?G>=r.dist:W.value.am.values.length!==0;g=t(g+(ne===!0?0:12),W.value[ne===!0?"am":"pm"])}else g=Math.round(g),z.value===!0?G<r.dist?g<12&&(g+=12):g===12&&(g=0):s.value===!0&&g===12?g=0:s.value===!1&&g!==12&&(g+=12);z.value===!0&&(s.value=g<12)}else g=Math.round(H/6)%60,b.value==="minute"&&ie.value!==null?g=t(g,ie.value):b.value==="second"&&se.value!==null&&(g=t(g,se.value));return f!==g&&al[b.value](g),g}const X={hour(){b.value="hour"},minute(){b.value="minute"},second(){b.value="second"}};function Ae(a){a.keyCode===13&&Ke()}function ge(a){a.keyCode===13&&He()}function _e(a){C()!==!0&&(F.platform.is.desktop!==!0&&ve(a,x()),w())}function Z(a){C()!==!0&&ve(a,x())}function p(a){if(a.keyCode===13)b.value="hour";else if([37,39].includes(a.keyCode)){const r=a.keyCode===37?-1:1;if(W.value!==null){const f=z.value===!0?W.value.values:W.value[s.value===!0?"am":"pm"].values;if(f.length===0)return;if(l.value.hour===null)me(f[0]);else{const y=(f.length+f.indexOf(l.value.hour)+r)%f.length;me(f[y])}}else{const f=z.value===!0?24:12,y=z.value!==!0&&s.value===!1?12:0,P=l.value.hour===null?-r:l.value.hour;me(y+(24+P+r)%f)}}}function V(a){if(a.keyCode===13)b.value="minute";else if([37,39].includes(a.keyCode)){const r=a.keyCode===37?-1:1;if(ie.value!==null){const f=ie.value.values;if(f.length===0)return;if(l.value.minute===null)Me(f[0]);else{const y=(f.length+f.indexOf(l.value.minute)+r)%f.length;Me(f[y])}}else{const f=l.value.minute===null?-r:l.value.minute;Me((60+f+r)%60)}}}function qe(a){if(a.keyCode===13)b.value="second";else if([37,39].includes(a.keyCode)){const r=a.keyCode===37?-1:1;if(se.value!==null){const f=se.value.values;if(f.length===0)return;if(l.value.seconds===null)Fe(f[0]);else{const y=(f.length+f.indexOf(l.value.second)+r)%f.length;Fe(f[y])}}else{const f=l.value.second===null?-r:l.value.second;Fe((60+f+r)%60)}}}function me(a){l.value.hour!==a&&(l.value.hour=a,pe())}function Me(a){l.value.minute!==a&&(l.value.minute=a,pe())}function Fe(a){l.value.second!==a&&(l.value.second=a,pe())}const al={hour:me,minute:Me,second:Fe};function Ke(){s.value===!1&&(s.value=!0,l.value.hour!==null&&(l.value.hour-=12,pe()))}function He(){s.value===!0&&(s.value=!1,l.value.hour!==null&&(l.value.hour+=12,pe()))}function pe(){if(ae.value!==null&&ae.value(l.value.hour)!==!0){l.value=we(),b.value="hour";return}if(te.value!==null&&te.value(l.value.minute)!==!0){l.value.minute=null,l.value.second=null,b.value="minute";return}if(e.withSeconds===!0&&de.value!==null&&de.value(l.value.second)!==!0){l.value.second=null,b.value="second";return}l.value.hour===null||l.value.minute===null||e.withSeconds===!0&&l.value.second===null||je()}function je(a){const r=Object.assign({...l.value},a),f=e.calendar==="persian"?fe(r.hour)+":"+fe(r.minute)+(e.withSeconds===!0?":"+fe(r.second):""):Ul(new Date(r.year,r.month===null?null:r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),Y.value,L.value,r.year,r.timezoneOffset);r.changed=f!==e.modelValue,q("update:modelValue",f,r)}function tl(){const a=[m("div",{class:"q-time__link "+(b.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:S.value,onClick:X.hour,onKeyup:p},ue.value.hour),m("div",":"),m("div",Ee.value===!0?{class:"q-time__link "+(b.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:S.value,onKeyup:V,onClick:X.minute}:{class:"q-time__link"},ue.value.minute)];e.withSeconds===!0&&a.push(m("div",":"),m("div",ce.value===!0?{class:"q-time__link "+(b.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:S.value,onKeyup:qe,onClick:X.second}:{class:"q-time__link"},ue.value.second));const r=[m("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},a)];return z.value===!1&&r.push(m("div",{class:"q-time__header-ampm column items-between no-wrap"},[m("div",{class:"q-time__link "+(s.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:S.value,onClick:Ke,onKeyup:Ae},"AM"),m("div",{class:"q-time__link "+(s.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:S.value,onClick:He,onKeyup:ge},"PM")])),m("div",{class:"q-time__header flex flex-center no-wrap "+o.value},r)}function il(){const a=l.value[b.value];return m("div",{class:"q-time__content col relative-position"},[m(_l,{name:"q-transition--scale"},()=>m("div",{key:"clock"+b.value,class:"q-time__container-parent absolute-full"},[m("div",{ref:$,class:"q-time__container-child fit overflow-hidden"},[Re(m("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:_e,onMousedown:Z},[m("div",{class:"q-time__clock-circle fit"},[m("div",{class:"q-time__clock-pointer"+(l.value[b.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:ke.value}),Se.value.map(r=>m("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${r.index}`+(r.val===a?" q-time__clock-position--active "+o.value:r.disable===!0?" q-time__clock-position--disable":"")},[m("span",r.label)]))])]),he.value)])])),e.nowBtn===!0?m(Ce,{class:"q-time__now-button absolute",icon:F.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:S.value,onClick:xe}):null])}return N.proxy.setNow=xe,()=>{const a=[il()],r=Je(A.default);return r!==void 0&&a.push(m("div",{class:"q-time__actions"},r)),e.name!==void 0&&e.disable!==!0&&T(a,"push"),m("div",{class:Ie.value,tabindex:-1},[tl(),m("div",{class:"q-time__main col overflow-auto"},a)])}}});const Bl=["none","strict","leaf","leaf-filtered"];var Ll=ze({name:"QTree",props:{...Xe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Bl.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:A,emit:q}){const{proxy:N}=el(),{$q:F}=N,U=Ze(e,F),S=D({}),o=D(e.ticked||[]),M=D(e.expanded||[]);let B={};pl(()=>{B={}});const le=E(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(U.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),T=E(()=>e.selected!==void 0),j=E(()=>e.icon||F.iconSet.tree.icon),K=E(()=>e.controlColor||e.color),$=E(()=>e.textColor!==void 0?` text-${e.textColor}`:""),Y=E(()=>{const i=e.selectedColor||e.color;return i?` text-${i}`:""}),L=E(()=>e.filterMethod!==void 0?e.filterMethod:(i,c)=>{const t=c.toLowerCase();return i[e.labelKey]&&i[e.labelKey].toLowerCase().indexOf(t)>-1}),R=E(()=>{const i={},c=(t,h)=>{const d=t.tickStrategy||(h?h.tickStrategy:e.tickStrategy),C=t[e.nodeKey],x=t[e.childrenKey]&&Array.isArray(t[e.childrenKey])&&t[e.childrenKey].length!==0,J=t.disabled!==!0&&T.value===!0&&t.selectable!==!1,w=t.disabled!==!0&&t.expandable!==!1,ve=d!=="none",X=d==="strict",Ae=d==="leaf-filtered",ge=d==="leaf"||d==="leaf-filtered";let _e=t.disabled!==!0&&t.tickable!==!1;ge===!0&&_e===!0&&h&&h.tickable!==!0&&(_e=!1);let Z=t.lazy;Z===!0&&S.value[C]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(Z=S.value[C]);const p={key:C,parent:h,isParent:x,lazy:Z,disabled:t.disabled,link:t.disabled!==!0&&(J===!0||w===!0&&(x===!0||Z===!0)),children:[],matchesFilter:e.filter?L.value(t,e.filter):!0,selected:C===e.selected&&J===!0,selectable:J,expanded:x===!0?M.value.includes(C):!1,expandable:w,noTick:t.noTick===!0||X!==!0&&Z&&Z!=="loaded",tickable:_e,tickStrategy:d,hasTicking:ve,strictTicking:X,leafFilteredTicking:Ae,leafTicking:ge,ticked:X===!0?o.value.includes(C):x===!0?!1:o.value.includes(C)};if(i[C]=p,x===!0&&(p.children=t[e.childrenKey].map(V=>c(V,p)),e.filter&&(p.matchesFilter!==!0?p.matchesFilter=p.children.some(V=>V.matchesFilter):p.noTick!==!0&&p.disabled!==!0&&p.tickable===!0&&Ae===!0&&p.children.every(V=>V.matchesFilter!==!0||V.noTick===!0||V.tickable!==!0)===!0&&(p.tickable=!1)),p.matchesFilter===!0&&(p.noTick!==!0&&X!==!0&&p.children.every(V=>V.noTick)===!0&&(p.noTick=!0),ge))){if(p.ticked=!1,p.indeterminate=p.children.some(V=>V.indeterminate===!0),p.tickable=p.tickable===!0&&p.children.some(V=>V.tickable),p.indeterminate!==!0){const V=p.children.reduce((qe,me)=>me.ticked===!0?qe+1:qe,0);V===p.children.length?p.ticked=!0:V>0&&(p.indeterminate=!0)}p.indeterminate===!0&&(p.indeterminateNextState=p.children.every(V=>V.tickable!==!0||V.ticked!==!0))}return p};return e.nodes.forEach(t=>c(t,null)),i});be(()=>e.ticked,i=>{o.value=i}),be(()=>e.expanded,i=>{M.value=i});function Q(i){const c=[].reduce,t=(h,d)=>{if(h||!d)return h;if(Array.isArray(d)===!0)return c.call(Object(d),t,h);if(d[e.nodeKey]===i)return d;if(d[e.childrenKey])return t(null,d[e.childrenKey])};return t(null,e.nodes)}function b(){return o.value.map(i=>Q(i))}function l(){return M.value.map(i=>Q(i))}function s(i){return i&&R.value[i]?R.value[i].expanded:!1}function Ie(){e.expanded!==void 0?q("update:expanded",[]):M.value=[]}function ue(){const i=[],c=t=>{t[e.childrenKey]&&t[e.childrenKey].length!==0&&t.expandable!==!1&&t.disabled!==!0&&(i.push(t[e.nodeKey]),t[e.childrenKey].forEach(c))};e.nodes.forEach(c),e.expanded!==void 0?q("update:expanded",i):M.value=i}function z(i,c,t=Q(i),h=R.value[i]){if(h.lazy&&h.lazy!=="loaded"){if(h.lazy==="loading")return;S.value[i]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),q("lazyLoad",{node:t,key:i,done:d=>{S.value[i]="loaded",t[e.childrenKey]=Array.isArray(d)===!0?d:[],ll(()=>{const C=R.value[i];C&&C.isParent===!0&&ke(i,!0)})},fail:()=>{delete S.value[i],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else h.isParent===!0&&h.expandable===!0&&ke(i,c)}function ke(i,c){let t=M.value;const h=e.expanded!==void 0;if(h===!0&&(t=t.slice()),c){if(e.accordion&&R.value[i]){const d=[];R.value[i].parent?R.value[i].parent.children.forEach(C=>{C.key!==i&&C.expandable===!0&&d.push(C.key)}):e.nodes.forEach(C=>{const x=C[e.nodeKey];x!==i&&d.push(x)}),d.length!==0&&(t=t.filter(C=>d.includes(C)===!1))}t=t.concat([i]).filter((d,C,x)=>x.indexOf(d)===C)}else t=t.filter(d=>d!==i);h===!0?q("update:expanded",t):M.value=t}function Ee(i){return i&&R.value[i]?R.value[i].ticked:!1}function ce(i,c){let t=o.value;const h=e.ticked!==void 0;h===!0&&(t=t.slice()),c?t=t.concat(i).filter((d,C,x)=>x.indexOf(d)===C):t=t.filter(d=>i.includes(d)===!1),h===!0&&q("update:ticked",t)}function ae(i,c,t){const h={tree:N,node:i,key:t,color:e.color,dark:U.value};return $e(h,"expanded",()=>c.expanded,d=>{d!==c.expanded&&z(t,d)}),$e(h,"ticked",()=>c.ticked,d=>{d!==c.ticked&&ce([t],d)}),h}function te(i){return(e.filter?i.filter(c=>R.value[c[e.nodeKey]].matchesFilter):i).map(c=>se(c))}function de(i){if(i.icon!==void 0)return m(I,{class:"q-tree__icon q-mr-sm",name:i.icon,color:i.iconColor});const c=i.img||i.avatar;if(c)return m("img",{class:`q-tree__${i.img?"img":"avatar"} q-mr-sm`,src:c})}function W(){q("afterShow")}function ie(){q("afterHide")}function se(i){const c=i[e.nodeKey],t=R.value[c],h=i.header&&A[`header-${i.header}`]||A["default-header"],d=t.isParent===!0?te(i[e.childrenKey]):[],C=d.length!==0||t.lazy&&t.lazy!=="loaded";let x=i.body&&A[`body-${i.body}`]||A["default-body"];const J=h!==void 0||x!==void 0?ae(i,t,c):null;return x!==void 0&&(x=m("div",{class:"q-tree__node-body relative-position"},[m("div",{class:$.value},[x(J)])])),m("div",{key:c,class:`q-tree__node relative-position q-tree__node--${C===!0?"parent":"child"}`},[m("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:w=>{Se(i,t,w)},onKeypress(w){yl(w)!==!0&&(w.keyCode===13?Se(i,t,w,!0):w.keyCode===32&&he(i,t,w,!0))}},[m("div",{class:"q-focus-helper",tabindex:-1,ref:w=>{B[t.key]=w}}),t.lazy==="loading"?m(Cl,{class:"q-tree__spinner",color:K.value}):C===!0?m(I,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:j.value,onClick(w){he(i,t,w)}}):null,t.hasTicking===!0&&t.noTick!==!0?m(kl,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:K.value,dark:U.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:We,"onUpdate:modelValue":w=>{xe(t,w)}}):null,m("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?Y.value:$.value)},[h?h(J):[de(i),m("div",i[e.labelKey])]])]),C===!0?e.noTransition===!0?m("div",{class:"q-tree__node-collapsible"+$.value,key:`${c}__q`},[x,m("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?d:null)]):m(Tl,{duration:e.duration,onShow:W,onHide:ie},()=>Re(m("div",{class:"q-tree__node-collapsible"+$.value,key:`${c}__q`},[x,m("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},d)]),[[El,t.expanded]])):x])}function oe(i){const c=B[i];c&&c.focus()}function Se(i,c,t,h){h!==!0&&c.selectable!==!1&&oe(c.key),T.value&&c.selectable?e.noSelectionUnset===!1?q("update:selected",c.key!==e.selected?c.key:null):c.key!==e.selected&&q("update:selected",c.key===void 0?null:c.key):he(i,c,t,h),typeof i.handler=="function"&&i.handler(i)}function he(i,c,t,h){t!==void 0&&We(t),h!==!0&&c.selectable!==!1&&oe(c.key),z(c.key,!c.expanded,i,c)}function xe(i,c){if(i.indeterminate===!0&&(c=i.indeterminateNextState),i.strictTicking)ce([i.key],c);else if(i.leafTicking){const t=[],h=d=>{d.isParent?(c!==!0&&d.noTick!==!0&&d.tickable===!0&&t.push(d.key),d.leafTicking===!0&&d.children.forEach(h)):d.noTick!==!0&&d.tickable===!0&&(d.leafFilteredTicking!==!0||d.matchesFilter===!0)&&t.push(d.key)};h(i),ce(t,c)}}return e.defaultExpandAll===!0&&ue(),Object.assign(N,{getNodeByKey:Q,getTickedNodes:b,getExpandedNodes:l,isExpanded:s,collapseAll:Ie,expandAll:ue,setExpanded:z,isTicked:Ee,setTicked:ce}),()=>{const i=te(e.nodes);return m("div",{class:le.value},i.length===0?e.filter?e.noResultsLabel||F.lang.tree.noResults:e.noNodesLabel||F.lang.tree.noNodes:i)}}}),Yl=[{label:"Seleccionar todos los permisos",value:"Seleccionar todos los permisos",children:[{label:"Gesti\xF3n de Red",value:"Gesti\xF3n de Red",children:[{label:"Router",value:"Router",children:[{label:"Acceso Men\xFA",value:"GestionRed-Router-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Router-Nuevo"},{label:"Editar",value:"GestionRed-Router-Editar"},{label:"Eliminar",value:"GestionRed-Router-Eliminar"}]},{label:"Redes Ipv4",value:"Redes Ipv4",children:[{label:"Acceso Men\xFA",value:"GestionRed-Redes-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Redes-Nuevo"},{label:"Editar",value:"GestionRed-Redes-Editar"},{label:"Eliminar",value:"GestionRed-Redes-Eliminar"},{label:"Escanear Red",value:"GestionRed-Redes-EscanearRed"}]},{label:"Monitoreo",value:"Monitoreo",children:[{label:"Acceso Men\xFA",value:"GestionRed-Monitoreo-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Monitoreo-Nuevo"},{label:"Editar",value:"GestionRed-Monitoreo-Editar"},{label:"Eliminar",value:"GestionRed-Monitoreo-Eliminar"},{label:"Ver antena",value:"GestionRed-Monitoreo-VerAntena"},{label:"Ping Antena",value:"GestionRed-Monitoreo-PingAntena"},{label:"Gr\xE1ficos",value:"GestionRed-Monitoreo-Graficos"}]},{label:"Trafico",value:"Trafico",children:[{label:"Lista tr\xE1fico",value:"GestionRed-Trafico-Lista"},{label:"Lista Ips visitadas",value:"GestionRed-Monitoreo-ListaIPS"}]}]},{label:"Servicios",value:"Servicios",children:[{label:"Internet",value:"Internet",children:[{label:"Acceso Men\xFA",value:"Servicios-Internet-AccesoMenu"},{label:"Nuevo",value:"Servicios-Internet-Nuevo"},{label:"Editar",value:"Servicios-Internet-Editar"},{label:"Eliminar",value:"Servicios-Internet-Eliminar"}]},{label:"Voz",value:"Voz",children:[{label:"Acceso Men\xFA",value:"Servicios-Voz-AccesoMenu"},{label:"Nuevo",value:"Servicios-Voz-Nuevo"},{label:"Editar",value:"Servicios-Voz-Editar"},{label:"Eliminar",value:"Servicios-Voz-Eliminar"}]},{label:"Personalizado",value:"Personalizado",children:[{label:"Acceso Men\xFA",value:"Servicios-Personalizado-AccesoMenu"},{label:"Nuevo",value:"Servicios-Personalizado-Nuevo"},{label:"Editar",value:"Servicios-Personalizado-Editar"},{label:"Eliminar",value:"Servicios-Personalizado-Eliminar"}]}]},{label:"Clientes",value:"Clientes",children:[{label:"Usuarios",value:"Usuarios",children:[{label:"Acceso Men\xFA",value:"Clientes-Usuarios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Usuarios-Nuevo"},{label:"Eliminar",value:"Clientes-Usuarios-Eliminar"},{label:"Ver perfil(Editar)",value:"Clientes-Usuarios-VerPerfil"},{label:"Editar datos",value:"Clientes-Usuarios-EnviarDatos"},{label:"Activar/Suspender",value:"Clientes-Usuarios-ActivarSuspender"},{label:"Retirar",value:"Clientes-Usuarios-Retirar"},{label:"Herramientas",value:"Clientes-Usuarios-Herramientas"}]},{label:"Contratos",value:"Contratos",children:[{label:"Acceso Men\xFA",value:"Clientes-Contratos-AccesoMenu"},{label:"Nuevo",value:"Clientes-Contratos-Nuevo"},{label:"Eliminar",value:"Clientes-Contratos-Eliminar"},{label:"Editar",value:"Clientes-Contratos-Editar"}]},{label:"Servicios",value:"Servicios ",children:[{label:"Nuevo",value:"Clientes-Servicios-Nuevo"},{label:"Editar",value:"Clientes-Servicios-Editar"},{label:"Eliminar",value:"Clientes-Servicios-Eliminar"}]},{label:"Facturaci\xF3n",value:"Facturaci\xF3n",children:[{label:"Nueva factura",value:"Clientes-Fact-NuevaFactura"},{label:"Eliminar factura",value:"Clientes-Fact-EliminarFactura"},{label:"Editar factura",value:"Clientes-Fact-EditarFactura"},{label:"Anular factura",value:"Clientes-Fact-AnularFactura"},{label:"Configuraci\xF3n",value:"Clientes-Fact-Configuracion"},{label:"Pagar factura",value:"Clientes-Fact-PagarFactura"},{label:"Editar pago factura",value:"Clientes-Fact-EditPagoFact"},{label:"Eliminar pago factura",value:"Clientes-Fact-DeletePagoFact"},{label:"Agregar saldo",value:"Clientes-Facturacion-AgregarSaldo"},{label:"Eliminar saldo",value:"Clientes-Facturacion-EliminarSaldo"}]},{label:"Soporte",value:"Soporte",children:[{label:"Nuevo",value:"Clientes-Soporte-Nuevo"},{label:"Editar",value:"Clientes-Soporte-Editar"},{label:"Eliminar",value:"Clientes-Soporte-Eliminar"},{label:"Cerrar",value:"Clientes-Soporte-Cerrar"}]},{label:"Email & SMS",value:"Email & SMS",children:[{label:"Nuevo correo",value:"Clientes-EmailSMS-NuevoEmail"},{label:"Reenviar correo",value:"Clientes-EmailSMS-ReenviarEmail"},{label:"Nuevo sms",value:"Clientes-EmailSMS-NuevoSMS"},{label:"Reenviar sms",value:"Clientes-EmailSMS-ReenviarSMS"}]},{label:"Documentos",value:"Documentos",children:[{label:"Nuevo Contrato",value:"Clientes-Documents-NuevoContrato"},{label:"Eliminar Contrato",value:"Clientes-Documents-DeleteContrato"},{label:"Editar Contrato",value:"Clientes-Documentos-EditContrato"},{label:"Nuevo documento",value:"Clientes-Documentos-NuevoDocument"},{label:"Eliminar documento",value:"Clientes-Documentos-DeleteDocument"},{label:"Editar documento",value:"Clientes-Documentos-EditarDocument"},{label:"Nueva nota",value:"Clientes-Documentos-NuevaNota"},{label:"Eliminar nota",value:"Clientes-Documentos-EliminarNota"}]},{label:"Mapa clientes",value:"Mapa clientes",children:[{label:"Mapa cliente",value:"Clientes-MapaCliente"}]},{label:"Anuncios",value:"Anuncios",children:[{label:"Acceso men\xFA",value:"Clientes-Anuncios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Anuncios-Nuevo"},{label:"Eliminar",value:"Clientes-Anuncios-Eliminar"}]},{label:"Instalaciones",value:"Instalaciones",children:[{label:"Acceso men\xFA",value:"Clientes-Instalaciones-AccesoMenu"},{label:"Nuevo registro",value:"Clientes-Instalaciones-NuevoRegistro"},{label:"Eliminar registro",value:"Clientes-Instalaciones-DeleteRegistro"},{label:"Editar registro",value:"Clientes-Instalaciones-EditarRegistro"},{label:"Aceptar instalaci\xF3n",value:"Clientes-Instalaciones-AceptarInstalacion"},{label:"Eliminar instalaci\xF3n",value:"Clientes-Instalaciones-EliminarInstalacion"},{label:"Agregar materiales",value:"Clientes-Instalaciones-AddMaterial"},{label:"Dar alta instalaci\xF3n",value:"Clientes-Instalaciones-DarAltaInstalacion"},{label:"Editar instalaci\xF3n",value:"Clientes-Instalaciones-EditarInstalacion"}]},{label:"Correo",value:"Correo",children:[{label:"Acceso men\xFA",value:"Clientes-Correo-AccesoMenu"},{label:"Nuevo",value:"Clientes-Correo-Nuevo"},{label:"Reenviar",value:"Clientes-Correo-Reenviar"}]}]},{label:"Fichas Hotspot",value:"Fichas Hotspot",children:[{label:"Fichas",value:"Fichas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Fichas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Fichas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Fichas-Eliminar"},{label:"Imprimir",value:"FichasHotspot-Fichas-Imprimir"}]},{label:"Router/Perfiles",value:"Router/Perfiles",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Router-AccesoMenu"},{label:"Nuevo router",value:"FichasHotspot-Router-NuevoRouter"},{label:"Eliminar router",value:"FichasHotspot-Router-EliminarRouter"},{label:"Editar router",value:"FichasHotspot-Router-EditarRouter"},{label:"Nuevo perfil",value:"FichasHotspot-Router-NuevoPerfil"},{label:"Eliminar perfil",value:"FichasHotspot-Router-EliminarPerfil"},{label:"Editar perfil",value:"FichasHotspot-Router-EditarPerfil"}]},{label:"Plantillas",value:"Plantillas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Plantillas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Plantillas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Plantillas-Eliminar"},{label:"Editar",value:"FichasHotspot-Plantillas-Editar"}]}]},{label:"Tareas",value:"Tareas",children:[{label:"Lista tareas",value:"Lista tareas",children:[{label:"Nuevo",value:"Tareas-Nuevo"},{label:"Eliminar",value:"Tareas-Eliminar"},{label:"Editar",value:"Tareas-Editar"}]}]},{label:"Finanzas",value:"Finanzas",children:[{label:"Facturas",value:"Facturas",children:[{label:"Acceso Men\xFA",value:"Finanzas-Facturas-AccesoMenu"},{label:"Pagar",value:"Finanzas-Facturas-Pagar"},{label:"Editar",value:"Finanzas-Facturas-Editar"},{label:"Eliminar",value:"Finanzas-Facturas-Eliminar"},{label:"Anular",value:"Finanzas-Facturas-Anular"},{label:"Herramientas",value:"Finanzas-Facturas-Herramientas"}]},{label:"Registar pago",value:"Registar pago",children:[{label:"Acceso Men\xFA",value:"Finanzas-RegistarPago-AccesoMenu"},{label:"Pagos masivos",value:"Finanzas-RegistarPago-PagosMasivos"},{label:"Pagar",value:"Finanzas-RegistarPago-Pagar"},{label:"Promesa de pago",value:"Finanzas-RegistarPago-PromesaPago"},{label:"Permitir saldo",value:"Finanzas-RegistarPago-PermitirSaldo"},{label:"Cambiar dia de pago",value:"Finanzas-RegistarPago-CambiarDiaPago"},{label:"Eliminar pago",value:"Finanzas-RegistarPago-Eliminarpago"},{label:"Editar pago",value:"Finanzas-RegistarPago-EditarPago"}]},{label:"Transacciones",value:"Transacciones",children:[{label:"Acceso Men\xFA",value:"Finanzas-Transacciones-AccesoMenu"},{label:"Editar",value:"Finanzas-Transacciones-Editar"},{label:"Eliminar",value:"Finanzas-Transacciones-Eliminar"},{label:"Resumen PDF/Totales",value:"Finanzas-Transacciones-ResumenPDF"},{label:"Estadisticas",value:"Finanzas-Transacciones-Estadisticas"}]},{label:"Ingresos & Egresos",value:"Ingresos & Egresos",children:[{label:"Nuevo",value:"Finanzas-IngresosEgresos-Nuevo"},{label:"Eliminar",value:"Finanzas-IngresosEgresos-Eliminar"},{label:"Editar",value:"Finanzas-IngresosEgresos-Editar"}]},{label:"Reporte pago",value:"Reporte pago",children:[{label:"Marcar revisado",value:"Finanzas-ReportePago-MarcarRevisado"},{label:"Pagar factura",value:"Finanzas-ReportePago-PagarFactura"}]}]},{label:"Almac\xE9n",value:"Almac\xE9n",children:[{label:"Categor\xEDas",value:"Categor\xEDas",children:[{label:"Acceso Men\xFA",value:"Almacen-Categor\xEDas-AccesoMenu"},{label:"Nuevo",value:"Almacen-Categor\xEDas-Nuevo"},{label:"Editar",value:"Almacen-Categor\xEDas-Editar"},{label:"Eliminar",value:"Almacen-Categor\xEDas-Eliminar"}]},{label:"Productos",value:"Productos",children:[{label:"Acceso Men\xFA",value:"Almacen-Productos-AccesoMenu"},{label:"Nuevo",value:"Almacen-Productos-Nuevo"},{label:"Editar",value:"Almacen-Productos-Editar"},{label:"Eliminar",value:"Almacen-Productos-Eliminar"}]}]},{label:"Ticket_soporte",value:"Ticket_soporte",children:[{label:"Ticket",value:"Ticket",children:[{label:"Acceso Men\xFA",value:"TicketSoporte-Ticket-AccesoMenu"},{label:"Nuevo",value:"TicketSoporte-Ticket-Nuevo"},{label:"Editar",value:"TicketSoporte-Ticket-Editar"},{label:"Eliminar",value:"TicketSoporte-Ticket-Eliminar"},{label:"Cerrar",value:"TicketSoporte-Ticket-Cerrar"},{label:"Ver todos los tickets(Solo para t\xE9cnicos)",value:"TicketSoporte-Ticket-VerAllTickets"}]}]},{label:"SMS ",value:"SMS ",children:[{label:"SMS  ",value:"SMS  ",children:[{label:"Acceso Men\xFA",value:"SMS-SMS-AccesoMenu"},{label:"Nuevo",value:"SMS-SMS-Nuevo"},{label:"Reenviar",value:"SMS-SMS-Reenviar"}]}]},{label:"Configuraci\xF3n",value:"Configuraci\xF3n",children:[{label:"Ajustes",value:"Ajustes",children:[{label:"Acceso Men\xFA",value:"Configuraci\xF3n-Ajustes-AccesoMenu"},{label:"General",value:"Configuraci\xF3n-Ajustes-General"},{label:"Gesti\xF3n personal",value:"Configuraci\xF3n-Ajustes-Gesti\xF3nPersonal"},{label:"Servidor de correo",value:"Configuraci\xF3n-Ajustes-ServidorCorreo"},{label:"Facturaci\xF3n",value:"Configuraci\xF3n-Ajustes-Facturaci\xF3n"},{label:"Factura Electr\xF3nica",value:"Configuraci\xF3n-Ajustes-FacturaElectronica"},{label:"Pasarelas de pagos",value:"Configuraci\xF3n-Ajustes-PasarelasPago"},{label:"Editor plantillas",value:"Configuraci\xF3n-Ajustes-EditorPlantillas"},{label:"Portal cliente",value:"Configuraci\xF3n-Ajustes-PortalClientes"},{label:"Tickets",value:"Configuraci\xF3n-Ajustes-Tickets"},{label:"Importar clientes",value:"Configuraci\xF3n-Ajustes-ImportarClientes"},{label:"Ubicaciones",value:"Configuraci\xF3n-Ajustes-Ubicaciones"}]},{label:"Ajustes",value:"Ajustes",children:[{label:"SMS",value:"Configuraci\xF3n-Ajustes-SMS"},{label:"Cloud",value:"Configuraci\xF3n-Ajustes-Cloud"},{label:"Google",value:"Configuraci\xF3n-Ajustes-Google"},{label:"Bases de datos",value:"Configuraci\xF3n-Ajustes-BasesDatos"},{label:"Cambios masivos",value:"Configuraci\xF3n-Ajustes-CambiosMasivos"},{label:"Plantilla configuraci\xF3n",value:"Configuraci\xF3n-Ajustes-PlantillaConfig"},{label:"Crontab",value:"Configuraci\xF3n-Ajustes-Crontab"},{label:"Logs",value:"Configuraci\xF3n-Ajustes-Logs"},{label:"Sistema",value:"Configuraci\xF3n-Ajustes-Sistema"},{label:"Servidor",value:"Configuraci\xF3n-Ajustes-Servidor"},{label:"Licencia",value:"Configuraci\xF3n-Ajustes-Licencia"},{label:"Migrar",value:"Configuraci\xF3n-Ajustes-Migrar"},{label:"Actualizar sistema",value:"Configuraci\xF3n-Ajustes-ActualizarSistema"}]}]},{label:"Widget Inicio",value:"Widget Inicio",children:[{label:"Widgets",value:"Widgets",children:[{label:"Clientes online",value:"WidgetInicio-Widget-ClientesOnline"},{label:"Transacciones",value:"WidgetInicio-Widget-Transacciones"},{label:"Facturas",value:"WidgetInicio-Widget-Facturas"},{label:"Ticket soporte",value:"WidgetInicio-Widget-TicketSoporte"},{label:"Tr\xE1fico",value:"WidgetInicio-Widget-Tr\xE1fico"},{label:"Resumen sistema",value:"WidgetInicio-Widget-ResumenSistema"},{label:"Pagos registrados",value:"WidgetInicio-Widget-PagosRegistrados"},{label:"\xDAltimos conectados",value:"WidgetInicio-Widget-\xDAltimosConectados"},{label:"Servidor",value:"WidgetInicio-Widget-Servidor"},{label:"Resumen Facturaci\xF3n",value:"WidgetInicio-Widget-ResumenFacturacion"},{label:"Emisores",value:"WidgetInicio-Widget-Emisores"}]}]},{label:"Widget Notificaciones",value:"Widget Notificaciones",children:[{label:"Widgets",children:[{label:"Telegram",value:"WidgetNot-Widget-Telegram"},{label:"Registrar pago",value:"WidgetNot-Widget-RegistrarPago"},{label:"Notificaciones Generales",value:"WidgetNot-Widget-NotificacionesGenerales"},{label:"Notificaciones Soporte",value:"WidgetNot-Widget-NotificacionesSoporte"}]}]}]}];const Ne=D(!1),_=D({usuario:"",email:"",cedula:"",celular:"",fullName:"",facebook:"",twitter:"",roles:[""],permisos:[],horarios_dias:[],horarios_time:["",""],receiveSupportEmail:!1,company:"",sucursales:[],password:"",confirmPassword:"",isActive:!0}),Jl=async()=>{const{data:e}=await Te.get("/companies");return e},Xl=()=>{const{mostrarNotify:e}=$l(),A=Sl(),q=()=>{_.value.email="",_.value.password="",_.value.cedula="",_.value.celular="",_.value.fullName="",_.value.usuario="",_.value.company="",_.value.facebook="",_.value.twitter="",_.value.roles=[""],_.value.permisos=[],_.value.horarios_dias=[],_.value.horarios_time=[],_.value.receiveSupportEmail=!1},N=async S=>{if(_.value.password!==_.value.confirmPassword)return e("warning","Las contrase\xF1as no coinciden, por favor verificar");if(_.value.company.length===0)return e("warning","Debes elegir una empresa");if(_.value.roles[0]===""&&_.value.company!=="Nuevo")return e("warning","Debes elegir un rol");if(_.value.roles[0]!=="Administrador"&&_.value.sucursales.length===0)return e("warning","Debes elegir alguna sucursal");if((_.value.roles[0]=="Administrador"||_.value.roles[0]=="Super-Administrador")&&(_.value.sucursales=[]),_.value.permisos.length===0)return e("warning","Debes elegir al menos un permiso");try{Ne.value=!0,S?await Te.patch("/auth/edit/"+_.value.id,_.value):await Te.post("/auth/register",_.value),e("positive",`Usuario ${S?"editado":"creado"} exitosamente.`),Ne.value=!1,A.push({name:"Ver Usuarios"})}catch(o){Ne.value=!1,e("warning",o.response.data.message)}},F=()=>{_.value.celular=_.value.celular.replace(/\D/g,"")},U=()=>{_.value.fullName=_.value.fullName.toUpperCase()};return{getCompanies:Jl,formUser:_,loading:Ne,limpiarFormulario:q,expanded:D(["Seleccionar todos los permisos"]),allowOnlyNumber:F,transformToUpperCase:U,onSubmit:N,validateNumCelular:[S=>S.length>=10||"Debes completar 10 digitos"],showPass:D(!0),showConfirmPass:D(!0)}},Zl={class:"row q-pt-sm"},ea={class:"col-xs-12 col-md-8"},la={class:"row"},aa=n("div",{class:"col-11 flex justify-start items-center"},[n("label",{class:"text-h6 text-weight-medium"},"Datos:")],-1),ta=n("div",{class:"col-4 flex justify-end items-center"},[n("label",null,"Nombre:")],-1),ia={class:"col-6 q-ml-md"},sa=n("div",{class:"col-4 flex justify-end items-center q-my-sm"},[n("label",null,"Usuario:")],-1),oa={class:"col-6 q-ml-md q-my-sm"},na=n("div",{class:"col-4 flex justify-end items-center"},[n("label",null,"Email:")],-1),ra={class:"col-6 q-ml-md"},ua=n("div",{class:"col-4 flex justify-end items-center q-my-sm"},[n("label",null,"T\xE9lefono Movil:")],-1),ca={class:"col-6 q-ml-md q-my-sm"},da=n("div",{class:"col-4 flex justify-end items-center q-mb-sm"},[n("label",null,"Facebook:")],-1),va={class:"col-6 q-ml-md q-mb-sm"},ma=n("div",{class:"col-4 flex justify-end items-center"},[n("label",null,"Twitter:")],-1),fa={class:"col-6 q-ml-md"},ba=n("label",{class:"text-h6 text-weight-medium"},"Configuraci\xF3n:",-1),ha=[ba],ga=n("div",{class:"col-4 flex justify-end items-center"},[n("label",{for:""},"Empresa:")],-1),_a={class:"col-6 q-ml-md"},pa={key:0,class:"col-4 flex justify-end items-center q-mt-sm"},ya=n("label",null,"Rol:",-1),Ca=[ya],ka={key:1,class:"col-6 q-ml-md q-mt-sm"},Ea={key:2,class:"col-4 flex justify-end items-center q-mt-sm"},Sa=n("label",null,"Establecimiento:",-1),xa=[Sa],Aa={key:3,class:"col-6 q-ml-md q-mt-sm"},qa=n("div",{class:"col-4 flex justify-end items-center q-mt-sm"},[n("label",{for:""},"Estado:")],-1),Ma={class:"col-6 q-ml-md q-mt-sm"},Fa=n("div",{class:"col-4 flex justify-end items-center"},[n("label",{for:""},"Recibir correo soporte:")],-1),Va={class:"col-6 q-ml-md"},Pa=n("div",{class:"col-4 flex justify-end items-center q-my-sm"},null,-1),wa=n("div",{class:"col-6 q-ml-md q-my-sm"},null,-1),Na=n("div",{class:"col-4 flex justify-end items-center q-my-sm"},[n("label",{for:""},"Horario Acceso:")],-1),Ra={class:"col-6 q-ml-md q-my-sm flex"},Ta={style:{display:"flex","flex-direction":"column"}},za=n("label",{class:"q-ml-md"}," Lunes ",-1),Ia={style:{display:"flex","flex-direction":"column"}},ja=n("label",{class:"q-ml-md"}," Martes ",-1),Da={style:{display:"flex","flex-direction":"column"}},Ua=n("label",{class:"q-ml-md"}," Miercoles ",-1),Ka={style:{display:"flex","flex-direction":"column"}},Ha=n("label",{class:"q-ml-md"},"Jueves",-1),Wa={style:{display:"flex","flex-direction":"column"}},$a=n("label",{class:"q-ml-md"}," Viernes ",-1),Qa={style:{display:"flex","flex-direction":"column"}},Ga=n("label",{class:"q-ml-md"}," Sabado ",-1),Oa=n("div",{class:"col-4 flex justify-end items-center q-my-sm"},[n("label",{class:"q-mb-md"},"Horario:")],-1),Ba={class:"col-6 q-ml-md q-my-sm"},La={class:"row"},Ya={class:"col-xs-12 col-sm-5"},Ja={class:"row items-center justify-end"},Xa={class:"col-xs-12 col-sm-5 offset-sm-1"},Za={class:"row items-center justify-end"},et=n("div",{class:"col-4 flex justify-end items-center"},[n("label",{for:""},"Token API:")],-1),lt={class:"col-6 q-ml-md"},at=n("div",{class:"col-4 flex justify-end items-center"},[n("label",{for:""},"Activar clave API:")],-1),tt={class:"col-6 q-ml-md"},it={class:"col-11 flex justify-start items-center"},st=n("div",{class:"col-4 flex justify-end items-center"},[n("label",null,"Contrase\xF1a:")],-1),ot={class:"col-6 q-ml-md"},nt=n("div",{class:"col-4 flex justify-end items-center q-my-sm"},[n("label",{for:""},"Repite Contrase\xF1a:")],-1),rt={class:"col-6 q-ml-md q-my-sm"},ut={class:"col-xs-11 col-md-4"},ct={class:"row"},dt=n("label",{class:"text-h6 text-weight-medium"},"Permisos:",-1),vt=[dt],qt=xl({__name:"FormUser",props:{edit:{type:Boolean}},setup(e){const A=e,q=D([]),N=D([]),F=D(!1);let U=!1;const{getCompanies:S,formUser:o,expanded:M,validateNumCelular:B,allowOnlyNumber:le,transformToUpperCase:T,showConfirmPass:j,showPass:K,loading:$,onSubmit:Y}=Xl();let{actualizarLista:L}=Hl();be(L,(b,l)=>{b&&R()}),Al(async()=>{R()});const R=async()=>{F.value=!1,q.value=[],(await S()).forEach(l=>{q.value.push({label:l.nombre_comercial,value:l.id})}),q.value,L.value=!1};be(()=>o.value.company,b=>{o.value.company!==""&&Q(b)});const Q=async b=>{N.value=[],(!A.edit||U)&&(o.value.sucursales=[]),U=!0;const{data:l}=await Te.get(`/sucursal/find/${b}/company`);l.forEach(s=>{N.value.push({label:s.nombre,value:s.id})})};return(b,l)=>(re(),ye(Ml,null,[v(Kl,{onSubmit:l[30]||(l[30]=s=>u(Y)(A.edit))},{default:k(()=>[v(Fl,{class:"my-card"},{default:k(()=>[v(Vl,{class:"q-pt-none"},{default:k(()=>[n("div",Zl,[n("div",ea,[n("div",la,[aa,ta,n("div",ia,[v(O,{modelValue:u(o).fullName,"onUpdate:modelValue":l[0]||(l[0]=s=>u(o).fullName=s),modelModifiers:{trim:!0},onKeyup:u(T),dense:"",outlined:"",required:""},null,8,["modelValue","onKeyup"])]),sa,n("div",oa,[v(O,{modelValue:u(o).usuario,"onUpdate:modelValue":l[1]||(l[1]=s=>u(o).usuario=s),modelModifiers:{trim:!0},dense:"",outlined:"",required:""},{append:k(()=>[v(I,{name:"person",size:"1.3rem"})]),_:1},8,["modelValue"])]),na,n("div",ra,[v(O,{modelValue:u(o).email,"onUpdate:modelValue":l[2]||(l[2]=s=>u(o).email=s),modelModifiers:{trim:!0},type:"email",dense:"",outlined:"",required:""},{append:k(()=>[v(I,{name:"mail",size:"1.2rem"})]),_:1},8,["modelValue"])]),ua,n("div",ca,[v(O,{modelValue:u(o).celular,"onUpdate:modelValue":l[3]||(l[3]=s=>u(o).celular=s),counter:"",maxlength:"10",rules:u(B),onKeyup:u(le),"lazy-rules":"",dense:"",outlined:"",required:""},{append:k(()=>[v(I,{name:"call",size:"1.2rem"})]),_:1},8,["modelValue","rules","onKeyup"])]),da,n("div",va,[v(O,{modelValue:u(o).facebook,"onUpdate:modelValue":l[4]||(l[4]=s=>u(o).facebook=s),modelModifiers:{trim:!0},dense:"",outlined:""},{append:k(()=>[v(I,{name:"fa-brands fa-facebook",size:"xs"})]),_:1},8,["modelValue"])]),ma,n("div",fa,[v(O,{modelValue:u(o).twitter,"onUpdate:modelValue":l[5]||(l[5]=s=>u(o).twitter=s),modelModifiers:{trim:!0},dense:"",outlined:""},{append:k(()=>[v(I,{name:"fa-brands fa-square-x-twitter",size:"xs"})]),_:1},8,["modelValue"])]),n("div",{class:De(["col-11 flex justify-start items-center",[b.$q.screen.xs?"q-my-md":""]])},ha,2),ga,n("div",_a,[v(Pe,{color:"orange","transition-show":"scale","transition-hide":"scale",outlined:"",modelValue:u(o).company,"onUpdate:modelValue":l[7]||(l[7]=s=>u(o).company=s),dense:"",options:q.value,"emit-value":"","map-options":"","use-input":"","input-debounce":"0"},{append:k(()=>[v(Ce,{round:"",dense:"",flat:"",icon:"add_circle",onClick:l[6]||(l[6]=Pl(s=>F.value=!0,["stop","prevent"]))})]),"no-option":k(()=>[v(Ge,null,{default:k(()=>[v(Oe,{class:"text-grey"},{default:k(()=>[Ue(" No hay resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),u(o).company.length!==0?(re(),ye("div",pa,Ca)):Ve("",!0),u(o).company.length!==0?(re(),ye("div",ka,[v(Pe,{modelValue:u(o).roles[0],"onUpdate:modelValue":l[8]||(l[8]=s=>u(o).roles[0]=s),outlined:"",dense:"",required:"","transition-show":"scale","transition-hide":"scale",options:["Super-Administrador","Administrador","Pagos","Soporte Tecnico","Vendedor"]},null,8,["modelValue"])])):Ve("",!0),u(o).roles[0]!==""&&u(o).company.length!==0&&u(o).roles[0]!=="Administrador"?(re(),ye("div",Ea,xa)):Ve("",!0),u(o).roles[0]!==""&&u(o).company.length!==0&&u(o).roles[0]!=="Administrador"?(re(),ye("div",Aa,[v(Pe,{modelValue:u(o).sucursales,"onUpdate:modelValue":l[9]||(l[9]=s=>u(o).sucursales=s),outlined:"",dense:"",required:"","emit-value":"","map-options":"","transition-show":"scale","transition-hide":"scale",options:N.value,multiple:"","stack-label":""},{"no-option":k(()=>[v(Ge,null,{default:k(()=>[v(Oe,{class:"text-grey"},{default:k(()=>[Ue(" No se encontro resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])):Ve("",!0),qa,n("div",Ma,[v(Pe,{modelValue:u(o).isActive,"onUpdate:modelValue":l[10]||(l[10]=s=>u(o).isActive=s),outlined:"",dense:"","emit-value":"","map-options":"",options:[{label:"Activo",value:!0},{label:"Inactivo",value:!1}]},{append:k(()=>[u(o).isActive?(re(),Qe(I,{key:0,size:"1.2rem",name:"fa-solid fa-user-check"})):(re(),Qe(I,{key:1,name:"fa-solid fa-user-xmark",size:"1.2rem"}))]),_:1},8,["modelValue"])]),Fa,n("div",Va,[v(ee,{color:"green",size:"lg",modelValue:u(o).receiveSupportEmail,"onUpdate:modelValue":l[11]||(l[11]=s=>u(o).receiveSupportEmail=s)},null,8,["modelValue"])]),Pa,wa,Na,n("div",Ra,[n("div",Ta,[v(ee,{class:"q-ml-sm",size:"lg",val:"Lunes",modelValue:u(o).horarios_dias,"onUpdate:modelValue":l[12]||(l[12]=s=>u(o).horarios_dias=s)},null,8,["modelValue"]),za]),n("div",Ia,[v(ee,{class:"q-ml-sm",size:"lg",val:"Martes",modelValue:u(o).horarios_dias,"onUpdate:modelValue":l[13]||(l[13]=s=>u(o).horarios_dias=s)},null,8,["modelValue"]),ja]),n("div",Da,[v(ee,{class:"q-ml-sm",size:"lg",val:"Miercoles",modelValue:u(o).horarios_dias,"onUpdate:modelValue":l[14]||(l[14]=s=>u(o).horarios_dias=s)},null,8,["modelValue"]),Ua]),n("div",Ka,[v(ee,{class:"q-ml-sm",size:"lg",val:"Jueves",modelValue:u(o).horarios_dias,"onUpdate:modelValue":l[15]||(l[15]=s=>u(o).horarios_dias=s)},null,8,["modelValue"]),Ha]),n("div",Wa,[v(ee,{class:"q-ml-sm",size:"lg",val:"Viernes",modelValue:u(o).horarios_dias,"onUpdate:modelValue":l[16]||(l[16]=s=>u(o).horarios_dias=s)},null,8,["modelValue"]),$a]),n("div",Qa,[v(ee,{class:"q-ml-sm",size:"lg",val:"Sabado",modelValue:u(o).horarios_dias,"onUpdate:modelValue":l[17]||(l[17]=s=>u(o).horarios_dias=s)},null,8,["modelValue"]),Ga])]),Oa,n("div",Ba,[n("div",La,[n("div",Ya,[v(O,{outlined:"",modelValue:u(o).horarios_time[0],"onUpdate:modelValue":l[19]||(l[19]=s=>u(o).horarios_time[0]=s),mask:"time",rules:["time"],dense:""},{append:k(()=>[v(I,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[v(Be,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[v(Ye,{modelValue:u(o).horarios_time[0],"onUpdate:modelValue":l[18]||(l[18]=s=>u(o).horarios_time[0]=s)},{default:k(()=>[n("div",Ja,[Re(v(Ce,{label:"Close",color:"primary",flat:""},null,512),[[Le]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",Xa,[v(O,{outlined:"",modelValue:u(o).horarios_time[1],"onUpdate:modelValue":l[21]||(l[21]=s=>u(o).horarios_time[1]=s),mask:"time",rules:["time"],dense:""},{append:k(()=>[v(I,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[v(Be,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[v(Ye,{modelValue:u(o).horarios_time[1],"onUpdate:modelValue":l[20]||(l[20]=s=>u(o).horarios_time[1]=s)},{default:k(()=>[n("div",Za,[Re(v(Ce,{label:"Close",color:"primary",flat:""},null,512),[[Le]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),et,n("div",lt,[v(O,{modelValue:u(o).confirmPassword,"onUpdate:modelValue":l[22]||(l[22]=s=>u(o).confirmPassword=s),dense:"",outlined:""},null,8,["modelValue"])]),at,n("div",tt,[v(ee,{color:"green",size:"lg",modelValue:u(o).confirmPassword,"onUpdate:modelValue":l[23]||(l[23]=s=>u(o).confirmPassword=s)},null,8,["modelValue"])]),n("div",it,[n("label",{class:De(["text-h6 text-weight-medium",[b.$q.screen.xs?"q-my-md":""]])}," Nueva Contrase\xF1a: ",2)]),st,n("div",ot,[v(O,{type:u(K)?"password":"text",outlined:"",dense:"",modelValue:u(o).password,"onUpdate:modelValue":l[25]||(l[25]=s=>u(o).password=s),modelModifiers:{trim:!0},required:!A.edit},{append:k(()=>[v(I,{name:u(K)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:l[24]||(l[24]=s=>K.value=!u(K))},null,8,["name"])]),prepend:k(()=>[v(I,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])]),nt,n("div",rt,[v(O,{type:u(j)?"password":"text",outlined:"",dense:"",modelValue:u(o).confirmPassword,"onUpdate:modelValue":l[27]||(l[27]=s=>u(o).confirmPassword=s),modelModifiers:{trim:!0},required:!A.edit},{append:k(()=>[v(I,{name:u(j)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:l[26]||(l[26]=s=>j.value=!u(j))},null,8,["name"])]),prepend:k(()=>[v(I,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])])])]),n("div",ut,[n("div",ct,[n("div",{class:De(["col-11 flex justify-start items-center",[b.$q.screen.xs?"q-my-md":""]])},vt,2),v(Ll,{class:"col-11 col-sm-11","default-expand-all":!1,nodes:u(Yl),"label-key":"label","node-key":"value","control-color":"deep-orange-14","tick-strategy":"leaf",expanded:u(M),"onUpdate:expanded":l[28]||(l[28]=s=>wl(M)?M.value=s:null),ticked:u(o).permisos,"onUpdate:ticked":l[29]||(l[29]=s=>u(o).permisos=s)},null,8,["nodes","expanded","ticked"])])])])]),_:1}),v(Nl,{class:"justify-end q-pb-md"},{default:k(()=>[v(Ce,{type:"submit",icon:"save",loading:u($),outline:"",rounded:"",class:"q-mr-lg",color:"primary"},{default:k(()=>[Ue(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),v(ql,{modelValue:F.value,"onUpdate:modelValue":l[31]||(l[31]=s=>F.value=s)},{default:k(()=>[v(Wl)]),_:1},8,["modelValue"])],64))}});export{At as Q,qt as _,xt as a,Xl as u};

import{Q as T,a as k,b as _,c as V}from"./QTable.df3e25c9.js";import{Q as E,a as P,b as w}from"./QPageSticky.1cdb0d3b.js";import{d as A,r as d,C as D,o as t,c as C,e as m,f as o,g as l,aM as I,ab as r,aP as c,aj as x,ai as L,h as u,Q as R,i as p,O as Q,ac as b,ad as v}from"./index.becc66bd.js";import{C as q}from"./ClosePopup.796684c7.js";import{api as S}from"./axios.44f0b70d.js";import{u as j}from"./useHelpers.62c49a13.js";import"./QList.66169e49.js";import"./QSelect.467cdfd1.js";import"./QChip.e97fbc5d.js";import"./QItemLabel.8aa7a3d0.js";import"./format.2bc25e5f.js";import"./use-quasar.0f71ce4b.js";const G={class:"q-ma-lg q-pt-md"},H={class:"row q-col-gutter-lg"},M={class:"col-12"},O={class:"full-width row flex-center text-lime-10 q-gutter-sm"},J=m("span",{class:"text-subtitle1"}," No se encontr\xF3 ningun Resultado ",-1),ne=A({__name:"IndexPage",setup(K){const $=[{name:"acciones",label:"acciones",align:"center"},{name:"fullName",align:"center",label:"Nombre",field:"fullName",sortable:!0},{name:"usuario",label:"Usuario",field:"usuario",align:"center"},{name:"email",align:"center",label:"Email",field:"email"},{name:"celular",label:"Celular",field:"celular",align:"center"},{name:"roles",align:"center",label:"Rol",field:"roles"},{name:"estado",label:"Estado",align:"center",field:"estado"}],g=d(""),h=d([]),f=d(!1),{mostrarNotify:N,confirmDelete:F,isDeleted:U}=j(),y=async()=>{f.value=!0;try{const{data:a}=await S.get("/auth/users");h.value=a}catch(a){N("warning",a.response.data.message)}f.value=!1};D(U,(a,s)=>{a&&y()});const z=async a=>{try{F("Estas seguro de eliminar este usuario?",`/auth/${a}`)}catch(s){console.log(s)}};y();const i=d("list"),B=d({rowsPerPage:10});return(a,s)=>(t(),C(x,null,[m("div",G,[m("div",H,[m("div",M,[o(I,{flat:"",class:"shadow_custom"},{default:l(()=>[o(T,{"title-class":"text-grey-7 text-h6",title:"Listado de Usuarios",rows:h.value,loading:f.value,"hide-header":i.value==="grid",columns:$,"row-key":"name",grid:i.value==="grid",filter:g.value,pagination:B.value},{header:l(e=>[o(P,{props:e,style:{height:"60px"}},{default:l(()=>[(t(!0),C(x,null,L(e.cols,n=>(t(),r(V,{key:n.name,props:e,class:"text-grey-7 text-weight-bold text-uppercase",style:{"font-size":"13px"}},{default:l(()=>[b(v(n.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"top-right":l(e=>[a.$q.screen.xs?c("",!0):(t(),r(u,{key:0,onClick:s[0]||(s[0]=n=>a.$router.push({name:"Agregar Usuario"})),outline:"",color:"primary",label:"Agregar Usuario",class:"q-mr-xs"})),o(R,{outlined:"",dense:"",debounce:"300",modelValue:g.value,"onUpdate:modelValue":s[1]||(s[1]=n=>g.value=n),placeholder:"Buscar..."},{append:l(()=>[o(p,{name:"search"})]),_:1},8,["modelValue"]),i.value==="list"?(t(),r(u,{key:1,flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen",onClick:e.toggleFullscreen},{default:l(()=>[Q((t(),r(w,{disable:a.$q.platform.is.mobile},{default:l(()=>[b(v(e.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[q]])]),_:2},1032,["icon","onClick"])):c("",!0),e.inFullscreen?c("",!0):(t(),r(u,{key:2,flat:"",round:"",dense:"",icon:i.value==="grid"?"list":"grid_on",onClick:s[2]||(s[2]=n=>{i.value=i.value==="grid"?"list":"grid",a.separator=i.value==="grid"?"none":"horizontal"})},{default:l(()=>[Q((t(),r(w,{disable:a.$q.platform.is.mobile},{default:l(()=>[b(v(i.value==="grid"?"List":"Grid"),1)]),_:1},8,["disable"])),[[q]])]),_:1},8,["icon"]))]),"body-cell-estado":l(e=>[o(k,{props:e},{default:l(()=>[e.row.isActive?(t(),r(_,{key:0,outline:"",color:"positive",label:"Activo",class:"q-pa-sm"})):(t(),r(_,{key:1,outline:"",color:"red",label:"Inactivo",class:"q-pa-sm"}))]),_:2},1032,["props"])]),"body-cell-acciones":l(e=>[o(k,{props:e},{default:l(()=>[o(u,{round:"",color:"blue-grey",onClick:n=>a.$router.push({name:"Editar Usuario",params:{term:e.row.id}}),icon:"edit",class:"q-mr-sm",size:"11px"},null,8,["onClick"]),e.row.estado?c("",!0):(t(),r(u,{key:0,round:"",color:"blue-grey",class:"q-ml-sm",icon:"delete",onClick:n=>z(e.row.id),size:"11px"},null,8,["onClick"]))]),_:2},1032,["props"])]),"no-data":l(({icon:e})=>[m("div",O,[o(p,{size:"2em",name:"sentiment_dissatisfied"}),J,o(p,{size:"2em",name:g.value?"filter_b_and_w":e},null,8,["name"])])]),_:1},8,["rows","loading","hide-header","grid","filter","pagination"])]),_:1})])])]),a.$q.screen.xs?(t(),r(E,{key:0,position:"bottom-right",offset:[18,18]},{default:l(()=>[o(u,{round:"",color:"secondary",size:"lg",icon:"add",onClick:s[3]||(s[3]=e=>a.$router.push({name:"Agregar Usuario"}))})]),_:1})):c("",!0)],64))}});export{ne as default};

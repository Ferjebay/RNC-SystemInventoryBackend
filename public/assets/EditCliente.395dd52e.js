import{Q as _t,a as Ve}from"./QBreadcrumbs.19b4fef0.js";import{r as T,k as pt,t as ke,n as Q,x as Ge,B as gt,bE as Ze,N as ee,a6 as se,p as U,am as He,al as bt,bf as ht,i as re,M as yt,z as De,bb as wt,aH as qt,m as be,au as Ae,V as Ke,v as ge,a0 as $t,K as Ct,L as It,s as Xe,H as Pt,I as xt,Z as Tt,o as I,a7 as R,g as l,e as o,ac as y,f as t,Q as Z,ab as p,a9 as V,h as Y,a8 as C,a5 as Vt,aQ as Ye,af as Me,bp as kt,c as te,ad as ae,aP as he,bF as At,bG as St,ah as Re,ag as Rt,aI as Et,aS as Dt,aT as Mt}from"./index.633eb824.js";import{u as ye}from"./useCliente.cc01fbd0.js";import{api as Ft}from"./axios.c73445ad.js";import"./use-quasar.ee2244ef.js";import{Q as Qt}from"./QResizeObserver.77d51720.js";import{r as Bt,Q as Ee}from"./QSelect.42089203.js";import{u as Lt,a as Nt,b as jt,c as Ot,_ as Ut}from"./FactAndNot.719e813d.js";import{Q as we}from"./QForm.86d889dd.js";import{Q as Je,a as O}from"./QTable.1503abdd.js";import{Q as ce}from"./QBadge.8b4f7e14.js";import{Q as We,a as Se}from"./QTooltip.9bdb1fff.js";import{a as ie,Q as K,c as H}from"./QItemLabel.04a9ef4d.js";import{Q as zt}from"./QList.4aa110b0.js";import{C as Ht}from"./ClosePopup.1397cd68.js";import{d as ue}from"./date.1a85fdc8.js";import{M as Kt}from"./index.2065a85c.js";import"./useHelpers.483cb115.js";import"./QChip.8a4cad7c.js";import"./format.2bc25e5f.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";const Yt=T([]),Wt=T(),Gt=T(!1),Zt=T([]),qe=()=>({api:Ft,servicios:Yt,showModalPago:Gt,factura:Wt,pagos:Zt});let Xt=0;const Jt=["click","keydown"],ea={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Xt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function ta(a,b,f,r){const s=pt(Ze,ke);if(s===ke)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ke;const{proxy:A}=De(),h=T(null),F=T(null),_=T(null),u=Q(()=>a.disable===!0||a.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},a.ripple===!0?{}:a.ripple)),q=Q(()=>s.currentModel.value===a.name),m=Q(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(q.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(a.icon&&a.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(a.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(a.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(r!==void 0?r.linkClass.value:"")),P=Q(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(a.contentClass!==void 0?` ${a.contentClass}`:"")),S=Q(()=>a.disable===!0||s.hasFocus.value===!0||q.value===!1&&s.hasActiveTab.value===!0?-1:a.tabindex||0);function L(e,c){if(c!==!0&&h.value!==null&&h.value.focus(),a.disable===!0){r!==void 0&&r.hasRouterLink.value===!0&&He(e);return}if(r===void 0){s.updateModel({name:a.name}),f("click",e);return}if(r.hasRouterLink.value===!0){const w=(k={})=>{let M;const N=k.to===void 0||wt(k.to,a.to)===!0?s.avoidRouteWatcher=qt():null;return r.navigateToRouterLink(e,{...k,returnRouterError:!0}).catch(j=>{M=j}).then(j=>{if(N===s.avoidRouteWatcher&&(s.avoidRouteWatcher=!1,M===void 0&&(j===void 0||j.message.startsWith("Avoided redundant navigation")===!0)&&s.updateModel({name:a.name})),k.returnRouterError===!0)return M!==void 0?Promise.reject(M):j})};f("click",e,w),e.defaultPrevented!==!0&&w();return}f("click",e)}function z(e){bt(e,[13,32])?L(e,!0):ht(e)!==!0&&e.keyCode>=35&&e.keyCode<=40&&e.altKey!==!0&&e.metaKey!==!0&&s.onKbdNavigate(e.keyCode,A.$el)===!0&&He(e),f("keydown",e)}function W(){const e=s.tabProps.value.narrowIndicator,c=[],w=U("div",{ref:_,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});a.icon!==void 0&&c.push(U(re,{class:"q-tab__icon",name:a.icon})),a.label!==void 0&&c.push(U("div",{class:"q-tab__label"},a.label)),a.alert!==!1&&c.push(a.alertIcon!==void 0?U(re,{class:"q-tab__alert-icon",color:a.alert!==!0?a.alert:void 0,name:a.alertIcon}):U("div",{class:"q-tab__alert"+(a.alert!==!0?` text-${a.alert}`:"")})),e===!0&&c.push(w);const k=[U("div",{class:"q-focus-helper",tabindex:-1,ref:h}),U("div",{class:P.value},yt(b.default,c))];return e===!1&&k.push(w),k}const v={name:Q(()=>a.name),rootRef:F,tabIndicatorRef:_,routeData:r};Ge(()=>{s.unregisterTab(v)}),gt(()=>{s.registerTab(v)});function i(e,c){const w={ref:F,class:m.value,tabindex:S.value,role:"tab","aria-selected":q.value===!0?"true":"false","aria-disabled":a.disable===!0?"true":void 0,onClick:L,onKeydown:z,...c};return ee(U(e,w,W()),[[se,u.value]])}return{renderTab:i,$tabs:s}}var de=be({name:"QTab",props:ea,emits:Jt,setup(a,{slots:b,emit:f}){const{renderTab:r}=ta(a,b,f);return()=>r("div")}});function aa(a,b,f){const r=f===!0?["left","right"]:["top","bottom"];return`absolute-${b===!0?r[0]:r[1]}${a?` text-${a}`:""}`}const oa=["left","center","right","justify"];var et=be({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:a=>oa.includes(a)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(a,{slots:b,emit:f}){const{proxy:r}=De(),{$q:s}=r,{registerTick:A}=Ae(),{registerTick:h}=Ae(),{registerTick:F}=Ae(),{registerTimeout:_,removeTimeout:u}=Ke(),{registerTimeout:q,removeTimeout:m}=Ke(),P=T(null),S=T(null),L=T(a.modelValue),z=T(!1),W=T(!0),v=T(!1),i=T(!1),e=[],c=T(0),w=T(!1);let k=null,M=null,N;const j=Q(()=>({activeClass:a.activeClass,activeColor:a.activeColor,activeBgColor:a.activeBgColor,indicatorClass:aa(a.indicatorColor,a.switchIndicator,a.vertical),narrowIndicator:a.narrowIndicator,inlineLabel:a.inlineLabel,noCaps:a.noCaps})),$e=Q(()=>{const n=c.value,d=L.value;for(let g=0;g<n;g++)if(e[g].name.value===d)return!0;return!1}),Ce=Q(()=>`q-tabs__content--align-${z.value===!0?"left":i.value===!0?"justify":a.align}`),at=Q(()=>`q-tabs row no-wrap items-center q-tabs--${z.value===!0?"":"not-"}scrollable q-tabs--${a.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${a.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${a.mobileArrows===!0?"":"out"}-arrows`+(a.dense===!0?" q-tabs--dense":"")+(a.shrink===!0?" col-shrink":"")+(a.stretch===!0?" self-stretch":"")),ot=Q(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Ce.value+(a.contentClass!==void 0?` ${a.contentClass}`:"")),ve=Q(()=>a.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),fe=Q(()=>a.vertical!==!0&&s.lang.rtl===!0),Ie=Q(()=>Bt===!1&&fe.value===!0);ge(fe,ne),ge(()=>a.modelValue,n=>{Pe({name:n,setCurrent:!0,skipEmit:!0})}),ge(()=>a.outsideArrows,_e);function Pe({name:n,setCurrent:d,skipEmit:g}){L.value!==n&&(g!==!0&&a["onUpdate:modelValue"]!==void 0&&f("update:modelValue",n),(d===!0||a["onUpdate:modelValue"]===void 0)&&(lt(L.value,n),L.value=n))}function _e(){A(()=>{Fe({width:P.value.offsetWidth,height:P.value.offsetHeight})})}function Fe(n){if(ve.value===void 0||S.value===null)return;const d=n[ve.value.container],g=Math.min(S.value[ve.value.scroll],Array.prototype.reduce.call(S.value.children,(D,x)=>D+(x[ve.value.content]||0),0)),E=d>0&&g>d;z.value=E,E===!0&&h(ne),i.value=d<parseInt(a.breakpoint,10)}function lt(n,d){const g=n!=null&&n!==""?e.find(D=>D.name.value===n):null,E=d!=null&&d!==""?e.find(D=>D.name.value===d):null;if(g&&E){const D=g.tabIndicatorRef.value,x=E.tabIndicatorRef.value;k!==null&&(clearTimeout(k),k=null),D.style.transition="none",D.style.transform="none",x.style.transition="none",x.style.transform="none";const $=D.getBoundingClientRect(),B=x.getBoundingClientRect();x.style.transform=a.vertical===!0?`translate3d(0,${$.top-B.top}px,0) scale3d(1,${B.height?$.height/B.height:1},1)`:`translate3d(${$.left-B.left}px,0,0) scale3d(${B.width?$.width/B.width:1},1,1)`,F(()=>{k=setTimeout(()=>{k=null,x.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",x.style.transform="none"},70)})}E&&z.value===!0&&le(E.rootRef.value)}function le(n){const{left:d,width:g,top:E,height:D}=S.value.getBoundingClientRect(),x=n.getBoundingClientRect();let $=a.vertical===!0?x.top-E:x.left-d;if($<0){S.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor($),ne();return}$+=a.vertical===!0?x.height-D:x.width-g,$>0&&(S.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil($),ne())}function ne(){const n=S.value;if(n===null)return;const d=n.getBoundingClientRect(),g=a.vertical===!0?n.scrollTop:Math.abs(n.scrollLeft);fe.value===!0?(W.value=Math.ceil(g+d.width)<n.scrollWidth-1,v.value=g>0):(W.value=g>0,v.value=a.vertical===!0?Math.ceil(g+d.height)<n.scrollHeight:Math.ceil(g+d.width)<n.scrollWidth)}function Qe(n){M!==null&&clearInterval(M),M=setInterval(()=>{it(n)===!0&&X()},5)}function Be(){Qe(Ie.value===!0?Number.MAX_SAFE_INTEGER:0)}function Le(){Qe(Ie.value===!0?0:Number.MAX_SAFE_INTEGER)}function X(){M!==null&&(clearInterval(M),M=null)}function nt(n,d){const g=Array.prototype.filter.call(S.value.children,B=>B===d||B.matches&&B.matches(".q-tab.q-focusable")===!0),E=g.length;if(E===0)return;if(n===36)return le(g[0]),g[0].focus(),!0;if(n===35)return le(g[E-1]),g[E-1].focus(),!0;const D=n===(a.vertical===!0?38:37),x=n===(a.vertical===!0?40:39),$=D===!0?-1:x===!0?1:void 0;if($!==void 0){const B=fe.value===!0?-1:1,G=g.indexOf(d)+$*B;return G>=0&&G<E&&(le(g[G]),g[G].focus({preventScroll:!0})),!0}}const st=Q(()=>Ie.value===!0?{get:n=>Math.abs(n.scrollLeft),set:(n,d)=>{n.scrollLeft=-d}}:a.vertical===!0?{get:n=>n.scrollTop,set:(n,d)=>{n.scrollTop=d}}:{get:n=>n.scrollLeft,set:(n,d)=>{n.scrollLeft=d}});function it(n){const d=S.value,{get:g,set:E}=st.value;let D=!1,x=g(d);const $=n<x?-1:1;return x+=$*5,x<0?(D=!0,x=0):($===-1&&x<=n||$===1&&x>=n)&&(D=!0,x=n),E(d,x),ne(),D}function Ne(n,d){for(const g in n)if(n[g]!==d[g])return!1;return!0}function rt(){let n=null,d={matchedLen:0,queryDiff:9999,hrefLen:0};const g=e.filter($=>$.routeData!==void 0&&$.routeData.hasRouterLink.value===!0),{hash:E,query:D}=r.$route,x=Object.keys(D).length;for(const $ of g){const B=$.routeData.exact.value===!0;if($.routeData[B===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:G,query:xe,matched:vt,href:ft}=$.routeData.resolvedLink.value,Te=Object.keys(xe).length;if(B===!0){if(G!==E||Te!==x||Ne(D,xe)===!1)continue;n=$.name.value;break}if(G!==""&&G!==E||Te!==0&&Ne(xe,D)===!1)continue;const J={matchedLen:vt.length,queryDiff:x-Te,hrefLen:ft.length-G.length};if(J.matchedLen>d.matchedLen){n=$.name.value,d=J;continue}else if(J.matchedLen!==d.matchedLen)continue;if(J.queryDiff<d.queryDiff)n=$.name.value,d=J;else if(J.queryDiff!==d.queryDiff)continue;J.hrefLen>d.hrefLen&&(n=$.name.value,d=J)}n===null&&e.some($=>$.routeData===void 0&&$.name.value===L.value)===!0||Pe({name:n,setCurrent:!0})}function ct(n){if(u(),w.value!==!0&&P.value!==null&&n.target&&typeof n.target.closest=="function"){const d=n.target.closest(".q-tab");d&&P.value.contains(d)===!0&&(w.value=!0,z.value===!0&&le(d))}}function ut(){_(()=>{w.value=!1},30)}function pe(){Oe.avoidRouteWatcher===!1?q(rt):m()}function je(){if(N===void 0){const n=ge(()=>r.$route.fullPath,pe);N=()=>{n(),N=void 0}}}function dt(n){e.push(n),c.value++,_e(),n.routeData===void 0||r.$route===void 0?q(()=>{if(z.value===!0){const d=L.value,g=d!=null&&d!==""?e.find(E=>E.name.value===d):null;g&&le(g.rootRef.value)}}):(je(),n.routeData.hasRouterLink.value===!0&&pe())}function mt(n){e.splice(e.indexOf(n),1),c.value--,_e(),N!==void 0&&n.routeData!==void 0&&(e.every(d=>d.routeData===void 0)===!0&&N(),pe())}const Oe={currentModel:L,tabProps:j,hasFocus:w,hasActiveTab:$e,registerTab:dt,unregisterTab:mt,verifyRouteModel:pe,updateModel:Pe,onKbdNavigate:nt,avoidRouteWatcher:!1};$t(Ze,Oe);function Ue(){k!==null&&clearTimeout(k),X(),N!==void 0&&N()}let ze;return Ge(Ue),Ct(()=>{ze=N!==void 0,Ue()}),It(()=>{ze===!0&&je(),_e()}),()=>U("div",{ref:P,class:at.value,role:"tablist",onFocusin:ct,onFocusout:ut},[U(Qt,{onResize:Fe}),U("div",{ref:S,class:ot.value,onScroll:ne},Xe(b.default)),U(re,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(W.value===!0?"":" q-tabs__arrow--faded"),name:a.leftIcon||s.iconSet.tabs[a.vertical===!0?"up":"left"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X}),U(re,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(v.value===!0?"":" q-tabs__arrow--faded"),name:a.rightIcon||s.iconSet.tabs[a.vertical===!0?"down":"right"],onMousedownPassive:Le,onTouchstartPassive:Le,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X})])}}),me=be({name:"QTabPanel",props:Lt,setup(a,{slots:b}){return()=>U("div",{class:"q-tab-panel",role:"tabpanel"},Xe(b.default))}}),tt=be({name:"QTabPanels",props:{...Nt,...Pt},emits:jt,setup(a,{slots:b}){const f=De(),r=xt(a,f.proxy.$q),{updatePanelsList:s,getPanelContent:A,panelDirectives:h}=Ot(),F=Q(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(b),Tt("div",{class:F.value},A(),"pan",a.swipeable,()=>h.value))}});const la={class:"my-card"},na={class:"q-pt-none"},sa={class:"row q-pt-sm"},ia={class:"col-xs-12 col-md-8"},ra={class:"row"},ca=o("div",{class:"col-11 flex justify-start items-center"},[o("label",{class:"text-h6 text-weight-medium"}," >> Datos del Cliente:")],-1),ua={class:"col-xs-12 col-md-6 col-sm-6"},da={class:"col-xs-12 col-md-6 col-sm-6"},ma={class:"col-xs-12 col-md-6 col-sm-6"},va={class:"col-xs-12 col-md-6 col-sm-6"},fa={class:"col-xs-12 col-md-6 col-sm-6"},_a={class:"col-xs-12 col-md-6 col-sm-6"},pa={class:"col-xs-11 col-md-4"},ga={class:"row"},ba=o("label",{class:"text-h6 text-weight-medium"}," >> Resumen Notificaciones:",-1),ha=[ba],ya=o("label",null,null,-1),wa={class:"row justify-center q-mt-md"},qa={__name:"ResumenPage",setup(a){const{api:b,mostrarNotify:f,formCliente:r,validaciones:s,validarDatosPersonales:A}=ye(),h=T(!1),F=async()=>{if(!A())try{h.value=!0;const{planInternet:u,created_at:q,updated_at:m,...P}=r.value,{data:S}=await b.put(`/customers/actualizarDatosPersonales/${r.value.id}`,P);r.value={...S.cliente[0]},f("positive",S.msg),h.value=!1}catch(u){h.value=!1,f("warning",u.response.data.message)}};return(_,u)=>(I(),R(we,{onSubmit:F},{default:l(()=>[o("div",la,[o("div",na,[o("div",sa,[o("div",ia,[o("div",ra,[ca,o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(_.$q.screen.width<1022||"q-pr-md")}," Cliente: ",2)],2),o("div",ua,[t(Z,{modelValue:p(r).nombres,"onUpdate:modelValue":[u[0]||(u[0]=q=>p(r).nombres=q),u[1]||(u[1]=q=>(p(r).nombres=p(r).nombres.toUpperCase(),p(s).nombres.isValid=!0))],modelModifiers:{trim:!0},error:!p(s).nombres.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:l(()=>[o("label",{class:y(_.$q.dark.isActive?"text-red-4":"text-negative")},V(p(s).nombres.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(_.$q.screen.width<1022||"q-pr-md")}," Email: ",2)],2),o("div",da,[t(Z,{modelValue:p(r).email,"onUpdate:modelValue":u[2]||(u[2]=q=>p(r).email=q),modelModifiers:{trim:!0},error:!p(s).email.isValid,"input-class":"resaltarTextoInput",onKeyup:u[3]||(u[3]=q=>p(s).email.isValid=!0),dense:"",outlined:""},{error:l(()=>[o("label",{class:y(_.$q.dark.isActive?"text-red-4":"text-negative")},V(p(s).email.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(_.$q.screen.width<1022||"q-pr-md")}," Celular: ",2)],2),o("div",ma,[t(Z,{type:_.$q.platform.is.mobile?"number":"text",modelValue:p(r).celular,"onUpdate:modelValue":u[4]||(u[4]=q=>p(r).celular=q),modelModifiers:{trim:!0},counter:"",maxlength:"10","input-class":"resaltarTextoInput",error:!p(s).celular.isValid,onKeyup:u[5]||(u[5]=q=>(p(s).celular.isValid=!0,p(r).celular=p(r).celular.replace(/\D/g,""))),dense:"",outlined:""},{error:l(()=>[o("label",{class:y(_.$q.dark.isActive?"text-red-4":"text-negative")},V(p(s).celular.message),3)]),_:1},8,["type","modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(_.$q.screen.width<1022||"q-pr-md")}," Direcci\xF3n: ",2)],2),o("div",va,[t(Z,{modelValue:p(r).direccion,"onUpdate:modelValue":u[6]||(u[6]=q=>p(r).direccion=q),error:!p(s).direccion.isValid,"input-class":"resaltarTextoInput",onKeyup:u[7]||(u[7]=q=>p(s).direccion.isValid=!0),dense:"",outlined:""},{error:l(()=>[o("label",{class:y(_.$q.dark.isActive?"text-red-4":"text-negative")},V(p(s).direccion.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(_.$q.screen.width<1022||"q-pr-md")}," Tipo de Documento: ",2)],2),o("div",fa,[t(Ee,{dense:"",modelValue:p(r).tipo_documento,"onUpdate:modelValue":[u[8]||(u[8]=q=>p(r).tipo_documento=q),u[9]||(u[9]=q=>p(s).tipo_documento.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!p(s).tipo_documento.isValid,"emit-value":"","map-options":"",options:[{label:"RUC",value:"04"},{label:"Cedula",value:"05"},{label:"Pasaporte",value:"06"}]},{error:l(()=>[o("label",{class:y(_.$q.dark.isActive?"text-red-4":"text-negative")},V(p(s).tipo_documento.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[_.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(_.$q.screen.width<1022||"q-pr-md")}," N. Identificaci\xF3n: ",2)],2),o("div",_a,[t(Z,{type:_.$q.platform.is.mobile?"number":"text",modelValue:p(r).numero_documento,"onUpdate:modelValue":u[10]||(u[10]=q=>p(r).numero_documento=q),readonly:p(r).tipo_documento==="","input-class":"resaltarTextoInput",counter:"",maxlength:p(r).tipo_documento==="04"?13:10,error:!p(s).numero_documento.isValid,onKeyup:u[11]||(u[11]=q=>(p(s).numero_documento.isValid=!0,p(r).numero_documento=p(r).numero_documento.replace(/\D/g,""))),dense:"",outlined:""},{error:l(()=>[o("label",{class:y(_.$q.dark.isActive?"text-red-4":"text-negative")},V(p(s).numero_documento.message),3)]),_:1},8,["type","modelValue","readonly","maxlength","error"])])])]),o("div",pa,[o("div",ga,[o("div",{class:y(["col-11 flex justify-start items-center",[_.$q.screen.xs?"q-my-md":""]])},ha,2),ya])])])]),o("div",wa,[o("div",{class:y(["q-pb-md",[_.$q.screen.width>600||" q-ml-lg"]])},[t(Y,{type:"submit",icon:"save",loading:h.value,outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:l(()=>[C(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])],2)])])]),_:1}))}};const $a={class:"my-card"},Ca={class:"q-pt-none"},Ia={class:"row q-pt-sm"},Pa={class:"col-12"},xa={class:"row"},Ta=o("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),Va={class:"text-h6 text-weight-medium"},ka={class:"col-12 q-mt-md"},Aa={__name:"ServiciosPage",setup(a){const b=[{name:"cont",label:"#",align:"center"},{name:"nombre_plan",align:"center",label:"Plan",field:"nombre_plan"},{name:"precio",label:"Costo",field:"precio",align:"center"},{name:"ipv4",label:"IP",field:"ipv4",align:"center"},{name:"router",label:"Router",field:"router",align:"center"},{name:"fecha_instalacion",label:"Instalado",field:"fecha_instalacion",align:"center"},{name:"direccion",label:"Direcci\xF3n",field:"direccion",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}],{servicios:f}=qe(),r=f.value;return(s,A)=>(I(),R(we,{onSubmit:A[0]||(A[0]=()=>{})},{default:l(()=>[o("div",$a,[o("div",Ca,[o("div",Ia,[o("div",Pa,[o("div",xa,[o("div",{class:y(["col-12 flex items-center",s.$q.screen.xs?"justify-center":"justify-between"])},[Ta,o("label",Va,[t(Y,{outline:"",color:"primary",label:"Agregar Servicio",class:y(["q-mr-xs",!s.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),o("div",ka,[t(Je,{rows:p(r),columns:b,class:y([s.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{"body-cell-cont":l(h=>[t(O,{props:h},{default:l(()=>[C(V(h.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-estado":l(h=>[t(O,{props:h},{default:l(()=>[h.row.estado=="Activo"?(I(),R(ce,{key:0,outline:"",color:"positive",label:"Activo",class:"q-pa-sm"})):(I(),R(ce,{key:1,outline:"",color:"red",label:"Inactivo",class:"q-pa-sm"}))]),_:2},1032,["props"])]),"body-cell-acciones":l(h=>[t(O,{props:h},{default:l(()=>[C(V(h.rowIndex+1),1)]),_:2},1032,["props"])]),_:1},8,["rows","class"])])])])])])])]),_:1}))}},Sa={__name:"ConfiguracionPage",setup(a){return(b,f)=>(I(),R(Ut,{edit:!0}))}};const oe=a=>(At("data-v-aa3ea324"),a=a(),St(),a),Ra={class:"text-h6 text-center"},Ea={class:"row q-pt-lg q-gutter-lg justify-center"},Da={class:"col-12"},Ma=oe(()=>o("label",null,"Forma de pago:",-1)),Fa={class:"col-12 q-mt-sm"},Qa=oe(()=>o("label",null,"N\xBA transacci\xF3n:",-1)),Ba={class:"col-12 q-mt-sm"},La=oe(()=>o("label",null,"Pagar Importe Total:",-1)),Na={class:"col-12 q-mt-sm"},ja=oe(()=>o("label",null,"Monto a Cancelar:",-1)),Oa={class:"col-12 q-mt-sm"},Ua=oe(()=>o("label",null,"Monto Pendiente:",-1)),za={key:0,class:"col-12 q-mt-sm"},Ha=oe(()=>o("label",null,"Sucursal a Facturar:",-1)),Ka={class:"col-12 q-mt-none"},Ya=oe(()=>o("label",null,"Notas:",-1)),Wa={class:"col-xs-9 col-sm-12 q-mt-lg q-mb-md flex justify-center"},Ga={__name:"ModalPago",props:["servicio","nuevoPago"],emits:["actualizarDatos"],setup(a,{emit:b}){const f=a,r=["forma_pago","montoPendiente","montoCancelar"],{api:s,claim:A,mostrarNotify:h,route:F}=ye(),{showModalPago:_}=qe(),u=T([]),q=T(!1),m=T({forma_pago:"",num_transaccion:"",importe_total:!0,sucursal_id:"",montoCancelar:"",montoPendiente:"",detalle:""}),P=T({forma_pago:{message:"",isValid:!0},montoPendiente:{message:"",isValid:!0},montoCancelar:{message:"",isValid:!0},sucursal_id:{message:"",isValid:!0}});if(f.servicio.pagos.length==0)m.value.montoPendiente=f.servicio.precio,m.value.montoCancelar=f.servicio.precio;else{let i=0;f.servicio.pagos.forEach(c=>{i+=parseFloat(c.valor)});const e=parseFloat(f.servicio.precio)-i;m.value.montoPendiente=e.toString(),m.value.montoCancelar=e.toString()}const S=i=>{let e=0;e=m.value[i];const c=/^\d{0,9}(\.\d{1,2})?$/;setTimeout(function(){let w=0;if(w=m.value[i],!c.test(w.toString())){const k=parseFloat(e.toString().substring(0,e.toString().length-1));m.value[i]=k}},0)},L=()=>{let i=!1;return r.forEach(e=>{(m.value[e].length==0||m.value[e]==0)&&(P.value[e].message="Debes completar este campo",P.value[e].isValid=!1,i=!0)}),(A.roles[0]=="Super-Administrador"||A.roles[0]=="Administrador")&&m.value.sucursal_id==""&&f.servicio.tipo_comprobante!="Recibo"&&parseFloat(m.value.montoCancelar)>=parseFloat(m.value.montoPendiente)&&(P.value.sucursal_id.message="Debes seleccionar una sucursal",P.value.sucursal_id.isValid=!1,i=!0),i},z=["Efectivo Oficina/Sucursal","Dep\xF3sito Bancario","Transferencia Bancaria","Facilito","Punto Agil"],W=async()=>{if(L())return;const i=Date.now(),e=ue.formatDate(i,"DD/MM/YYYY"),c=ue.formatDate(i,"HH:mma"),w=parseFloat(m.value.montoPendiente)-parseFloat(m.value.montoCancelar);let k=0;f.servicio.pagos.forEach(j=>{k+=parseFloat(j.valor)});let M;f.nuevoPago&&(M=f.servicio.pagos,M.push({valor:m.value.montoCancelar,monto_pendiente:w.toString(),totalAbonado:(k+parseFloat(m.value.montoCancelar)).toString(),fecha_abono:e,hora_abono:c,detalle:m.value.detalle,n_transaccion:m.value.num_transaccion,forma_pago:m.value.forma_pago}));const N={pagos:M,estadoSRI:w<=0?"PAGADO":"PENDIENTE"};try{let j={headers:{sucursal_id:m.value.sucursal_id}};q.value=!0;const{data:$e}=await s.patch(`/pagos/${f.servicio.pago_id}`,N,j);if(w<=0&&f.servicio.tipo_comprobante!="Recibo"){let Ce={customer_id:F.params.client_id,tipo:"EMISION",subtotal:parseFloat(f.servicio.precio),iva:parseFloat(f.servicio.iva),descuento:0,total:parseFloat(f.servicio.precio),entity:"Pagos",pago_id:f.servicio.pago_id,user_id:A.id,products:[{aplicaIva:f.servicio.iva>0,cantidad:1,pvp:f.servicio.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:f.servicio.pago_id.split("-")[0]}]};await s.post("/CE/facturas/generarFacturaElectronica",Ce,j)}q.value=!1,h("positive",$e.msg),_.value=!1,b("actualizarDatos")}catch(j){console.log(j)}},v=async i=>{u.value=[];const{data:e}=await s.get(`/sucursal/find/${i}/company`);e.forEach(c=>{u.value.push({label:c.nombre,value:c.id})}),u.value.length==1&&(m.value.sucursal_id=u.value[0].value)};return(A.roles[0]=="Super-Administrador"||A.roles[0]=="Administrador")&&v(A.company.id),(i,e)=>(I(),R(he,{style:{width:"450px !important","max-width":"fit-content"}},{default:l(()=>[t(Ye,null,{default:l(()=>[o("div",Ra,[C(" Agregar Pago "),ee(t(Y,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[Ht]])])]),_:1}),t(Me,{inset:""}),t(Ye,{class:"q-pt-none"},{default:l(()=>[t(we,{onSubmit:W},{default:l(()=>[o("div",Ea,[o("div",Da,[Ma,t(Ee,{color:"orange","transition-show":"scale","transition-hide":"scale","onUpdate:modelValue":[e[0]||(e[0]=c=>P.value.forma_pago.isValid=!0),e[1]||(e[1]=c=>m.value.forma_pago=c)],error:!P.value.forma_pago.isValid,outlined:"",modelValue:m.value.forma_pago,dense:"",options:z},{error:l(()=>[o("label",{class:y(i.$q.dark.isActive?"text-red-4":"text-negative")},V(P.value.forma_pago.message),3)]),_:1},8,["error","modelValue"])]),o("div",Fa,[Qa,t(Z,{modelValue:m.value.num_transaccion,"onUpdate:modelValue":e[2]||(e[2]=c=>m.value.num_transaccion=c),dense:"",outlined:""},null,8,["modelValue"])]),o("div",Ba,[La,t(kt,{color:"green","onUpdate:modelValue":[e[3]||(e[3]=c=>m.value.montoCancelar=m.value.montoPendiente),e[4]||(e[4]=c=>m.value.importe_total=c)],size:"lg",modelValue:m.value.importe_total},null,8,["modelValue"])]),o("div",Na,[ja,t(Z,{modelValue:m.value.montoCancelar,"onUpdate:modelValue":[e[5]||(e[5]=c=>m.value.montoCancelar=c),e[6]||(e[6]=c=>(S("montoCancelar"),P.value.montoCancelar.isValid=!0))],modelModifiers:{trim:!0},readonly:m.value.importe_total,"input-style":"padding-right: 27px;",type:"number",step:"0.01",error:!P.value.montoCancelar.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:l(()=>[o("label",{class:y(i.$q.dark.isActive?"text-red-4":"text-negative")},V(P.value.montoCancelar.message),3)]),prepend:l(()=>[t(re,{name:"attach_money"})]),_:1},8,["modelValue","readonly","error"])]),o("div",Oa,[Ua,t(Z,{modelValue:m.value.montoPendiente,"onUpdate:modelValue":[e[7]||(e[7]=c=>m.value.montoPendiente=c),e[8]||(e[8]=c=>(S("montoPendiente"),P.value.montoPendiente.isValid=!0))],modelModifiers:{trim:!0},disable:"",type:"number",step:"0.01",error:!P.value.montoPendiente.isValid,"input-style":"padding-right: 27px;","input-class":"resaltarTextoInput",dense:"",outlined:""},{error:l(()=>[o("label",{class:y(i.$q.dark.isActive?"text-red-4":"text-negative")},V(P.value.montoCancelar.message),3)]),prepend:l(()=>[t(re,{name:"attach_money"})]),_:1},8,["modelValue","error"])]),f.servicio.tipo_comprobante!="Recibo"&&parseFloat(m.value.montoCancelar)>=parseFloat(m.value.montoPendiente)?(I(),te("div",za,[Ha,u.value.length>1?(I(),R(Ee,{key:0,modelValue:m.value.sucursal_id,"onUpdate:modelValue":[e[9]||(e[9]=c=>m.value.sucursal_id=c),e[10]||(e[10]=c=>P.value.sucursal_id.isValid=!0)],error:!P.value.sucursal_id.isValid,outlined:"",options:u.value,"emit-value":"","map-options":"",dense:""},{error:l(()=>[o("label",{class:y(i.$q.dark.isActive?"text-red-4":"text-negative")},V(P.value.sucursal_id.message),3)]),"no-option":l(()=>[t(ie,null,{default:l(()=>[t(K,{class:"text-grey"},{default:l(()=>[C(" No se encontro sucursal ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","options"])):ae("",!0)])):ae("",!0),o("div",Ka,[Ya,t(Z,{modelValue:m.value.detalle,"onUpdate:modelValue":e[11]||(e[11]=c=>m.value.detalle=c),modelModifiers:{trim:!0},outlined:"",rows:"2",type:"textarea"},null,8,["modelValue"])]),o("div",Wa,[t(Y,{type:"submit",icon:"save",loading:q.value,outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:l(()=>[C(" \xA0 Guardar ")]),_:1},8,["loading"])])])]),_:1})]),_:1})]),_:1}))}};var Za=Vt(Ga,[["__scopeId","data-v-aa3ea324"]]);const Xa={class:"my-card"},Ja={class:"q-pt-none"},eo={class:"row q-pt-sm"},to={class:"col-12"},ao={class:"row"},oo=o("label",{class:"text-h6 text-weight-medium"},[o("div",{id:"contenidoImprimir"},[o("h5",null,"Hola, este es un ejemplo para imprimir"),o("p",null,"Contenido de la impresi\xF3n...")])],-1),lo={class:"text-h6 text-weight-medium"},no={class:"col-12 q-mt-md"},so=o("br",null,null,-1),io=o("br",null,null,-1),ro=o("br",null,null,-1),co=o("br",null,null,-1),uo={class:"row q-col-gutter-sm"},mo=o("div",{class:"full-width row flex-center text-lime-10 q-gutter-sm"},[o("span",{class:"text-subtitle1"}," No se encontr\xF3 ningun registros ")],-1),vo={__name:"IndexFacturas",setup(a){const b=T([{name:"x",align:"center",label:" ",field:"x"},{name:"n_comprobantes",align:"center",label:"N. Comprobante",field:"n_comprobantes"},{name:"emitido",label:"Emitido",field:"emitido",align:"center"},{name:"vencimiento",label:"Vencimiento",field:"vencimiento",align:"center"},{name:"precio",label:"Total",field:"precio",align:"center"},{name:"iva",label:"Impuesto",field:"iva",align:"center"},{name:"pagado",label:"Pagado",field:"pagado",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}]),f=T(!0),r=T({}),{api:s,servicios:A,pagos:h,showModalPago:F}=qe(),{claim:_,mes_pago:u,route:q}=ye();let m;const P=()=>{const v=new Kt("http://205.235.6.108:3000/socket.io/socket.io.js",{extraHeaders:{autentication:_.id}});m==null||m.removeAllListeners(),m=v.socket("/"),m.on("updateStateInvoice",()=>{h.value=[],S()})},S=async()=>{try{h.value=[];const{data:v}=await s.get("/pagos/find/"+A.value[0].servicio_id);v.length>0&&(v[0].servicio.factura_id.tipo_comprobante=="Recibo"&&(b.value[1].label="Tipo Comprobante"),u.value.dia_pago=v[0].dia_pago,v[0].estadoSRI!=="PAGADO"||v[0].estadoSRI!=="AUTORIZADO"?u.value.estado="pendiente":u.value.estado="pagado"),v.forEach(i=>{var M;const e=ue.addToDate(i.created_at,{days:i.servicio.factura_id.dia_pago-1});let c;i.servicio.factura_id.tipo_impuesto=="Impuestos incluido"?c=`${Math.floor(parseFloat(i.servicio.precio)*.12*100)/100}`:c=0;let w=0;i.pagos.forEach(N=>{w+=parseFloat(N.valor)});const k=(M=i.estadoSRI)==null?void 0:M.trim();h.value.push({ambiente:i.sucursal_id?i.sucursal_id.ambiente:"",clave_acceso:i.clave_acceso,company_name:i.servicio.router_id.company_id.nombre_comercial,num_comprobante:i.num_comprobante,sucursal_id:i.sucursal_id!==null?i.sucursal_id.id:null,pago_id:i.id,ruc:i.servicio.perfil_internet.router_id.company_id.ruc,direccion:i.sucursal_id!==null?i.sucursal_id.direccion:null,emitido:ue.formatDate(i.created_at,"DD/MM/YYYY"),vencimiento:ue.formatDate(e,"DD/MM/YYYY"),precio:`${i.servicio.precio}`,tipo_comprobante:i.servicio.factura_id.tipo_comprobante,iva:c,pagos:i.pagos.reverse(),pagado:w,estado:k,cancelado:w>=parseFloat(i.servicio.precio),expand:!1,loading:!1})})}catch(v){console.log(v)}},L=async(v,i)=>{h.value[i].loading=!0;let e={headers:{sucursal_id:v.sucursal_id}},c={ambiente:v.ambiente,clave_acceso:v.clave_acceso,company_name:v.company_name,sucursal_id:v.sucursal_id,customer_id:q.params.client_id,num_comprobante:v.num_comprobante,tipo:"EMISION",subtotal:parseFloat(v.precio),iva:parseFloat(v.iva),descuento:0,total:parseFloat(v.precio),entity:"Pagos",pago_id:v.pago_id,user_id:_.id,products:[{aplicaIva:v.iva>0,cantidad:1,pvp:v.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:v.pago_id.split("-")[0]}]};v.estado.trim()=="ERROR ENVIO RECEPCION"&&await s.post("/CE/facturas/recepcionComprobantesOffline",c,e),v.estado.trim()=="RECIBIDA"&&await s.post("/CE/facturas/autorizacionComprobantesOffline",c,e),h.value[i].loading=!1},z=async(v,i,e=null)=>{var c=document.getElementById("contenidoImprimir").innerHTML,w=window.open("","_blank");w.document.write("<html><head><title>Imprimir</title></head><body>"),w.document.write(c),w.document.write("</body></html>"),w.document.close(),w.print(),w.close()},W=async()=>{var v=document.getElementById("contenidoImprimir").innerHTML,i=window.open("","_blank");i.document.write("<html><head><title>Imprimir</title></head><body>"),i.document.write(v),i.document.write("</body></html>"),i.document.close(),i.print(),i.close()};return S(),P(),(v,i)=>(I(),te(Re,null,[t(we,{onSubmit:i[0]||(i[0]=()=>{})},{default:l(()=>[o("div",Xa,[o("div",Ja,[o("div",eo,[o("div",to,[o("div",ao,[o("div",{class:y(["col-12 flex items-center",v.$q.screen.xs?"justify-center":"justify-between"])},[oo,o("label",lo,[t(Y,{outline:"",color:"primary",label:"Agregar Servicio",onClick:W,class:y(["q-mr-xs",!v.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),o("div",no,[t(Je,{rows:p(h),columns:b.value,class:y([v.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{body:l(e=>[t(We,{props:e},{default:l(()=>[e.row.estado!="NO PAGADO"?(I(),R(O,{key:0,"auto-width":""},{default:l(()=>[t(Y,{size:"sm",color:"accent",round:"",dense:"",onClick:c=>e.row.expand=!e.row.expand,icon:e.row.expand?"remove":"add"},null,8,["onClick","icon"])]),_:2},1024)):(I(),R(O,{key:1,"auto-width":""})),t(O,{key:"n_comprobantes",props:e},{default:l(()=>[C(V(e.row.tipo_comprobante=="Recibo"?"Recibo":e.row.num_comprobante==""||e.row.num_comprobante==null?"- - - - - -":e.row.num_comprobante),1)]),_:2},1032,["props"]),t(O,{key:"emitido",props:e},{default:l(()=>[C(V(e.row.emitido),1)]),_:2},1032,["props"]),t(O,{key:"vencimiento",props:e},{default:l(()=>[C(V(e.row.vencimiento),1)]),_:2},1032,["props"]),t(O,{key:"precio",props:e},{default:l(()=>[C(" $"+V(e.row.precio),1)]),_:2},1032,["props"]),t(O,{key:"iva",props:e},{default:l(()=>[C(" $"+V(e.row.iva),1)]),_:2},1032,["props"]),t(O,{key:"pagado",props:e},{default:l(()=>[C(" $"+V(e.row.pagado),1)]),_:2},1032,["props"]),t(O,{key:"estado",props:e},{default:l(()=>[e.row.estado=="AUTORIZADO"?(I(),R(ce,{key:0,outline:"",class:"q-py-xs q-px-md",color:"secondary"},{default:l(()=>[C(" PAGADO "),so,C(" Y "),io,C(" AUTORIZADO ")]),_:1})):e.row.estado=="NO PAGADO"||e.row.estado=="PENDIENTE"?(I(),R(ce,{key:1,outline:"",class:"q-py-xs q-px-md",color:v.$q.dark.isActive?"blue-grey-3":"blue-grey-7",label:e.row.estado},null,8,["color","label"])):(I(),R(ce,{key:2,outline:"",class:"q-py-xs q-px-md",color:v.$q.dark.isActive?"warning":"orange-10"},{default:l(()=>[C(" PAGADO "),ro,C(" - "),co,C(" "+V(e.row.estado),1)]),_:2},1032,["color"]))]),_:2},1032,["props"]),t(O,{key:"acciones",props:e},{default:l(()=>[e.row.cancelado?ae("",!0):(I(),R(Y,{key:0,round:"",color:"blue-grey",onClick:c=>(F.value=!0,r.value=e.row),icon:"done",size:"10px",class:"q-mr-sm"},{default:l(()=>[t(Se,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:l(()=>[C(" Agregar Pago ")]),_:1})]),_:2},1032,["onClick"])),e.row.estado=="ERROR ENVIO RECEPCION"||e.row.estado=="ERROR ENVIO RECEPCION - ANULACION"||e.row.estado=="RECIBIDA"?(I(),R(Y,{key:1,round:"",color:"blue-grey",icon:"fa-solid fa-retweet",loading:e.row.loading,onClick:c=>L(e.row,e.rowIndex),size:"10px",class:"q-mr-sm"},{default:l(()=>[t(Se,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:l(()=>[C(" Emitir Factura Electr\xF3nica ")]),_:1})]),_:2},1032,["loading","onClick"])):ae("",!0),e.row.estado=="AUTORIZADO"?(I(),R(Y,{key:2,round:"",color:"blue-grey",icon:"print",onClick:c=>z(e.row,"factura"),size:"10px",class:"q-mr-sm"},{default:l(()=>[t(Se,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:l(()=>[C(" Imprimir comprobante ")]),_:1})]),_:2},1032,["onClick"])):ae("",!0)]),_:2},1032,["props"])]),_:2},1032,["props"]),ee(t(We,{props:e},{default:l(()=>[t(O,{colspan:"100%"},{default:l(()=>[o("div",uo,[(I(!0),te(Re,null,Rt(e.row.pagos,(c,w)=>(I(),te("div",{key:w,class:"col-4"},[t(zt,{bordered:"",padding:"",dense:""},{default:l(()=>[t(H,{header:"",class:"text-center"},{default:l(()=>[C(" Fecha Abonado: "+V(c.fecha_abono)+" "+V(c.hora_abono),1)]),_:2},1024),ee((I(),R(ie,{tag:"label"},{default:l(()=>[t(K,null,{default:l(()=>[t(H,null,{default:l(()=>[C("Forma de Pago:")]),_:1})]),_:1}),t(K,{side:"",top:"",class:"justify-center"},{default:l(()=>[t(H,null,{default:l(()=>[C(V(c.forma_pago),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[se]]),ee((I(),R(ie,{tag:"label",class:""},{default:l(()=>[t(K,null,{default:l(()=>[t(H,null,{default:l(()=>[C("Valor Abonado:")]),_:1})]),_:1}),t(K,{side:"",top:"",class:"justify-center"},{default:l(()=>[t(H,null,{default:l(()=>[C("$"+V(c.valor),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[se]]),ee((I(),R(ie,{tag:"label"},{default:l(()=>[t(K,null,{default:l(()=>[t(H,null,{default:l(()=>[C("N\xBA transacci\xF3n:")]),_:1})]),_:1}),t(K,{side:"",top:"",class:"justify-center"},{default:l(()=>[t(H,null,{default:l(()=>[C(V(c.n_transaccion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[se]]),ee((I(),R(ie,{tag:"label"},{default:l(()=>[t(K,null,{default:l(()=>[t(H,null,{default:l(()=>[C("Detalle:")]),_:1})]),_:1}),t(K,{side:"",top:"",class:"justify-center"},{default:l(()=>[t(H,null,{default:l(()=>[C(V(c.detalle==""?"Sin detalles":c.detalle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[se]]),ee((I(),R(ie,{tag:"label"},{default:l(()=>[t(K,null,{default:l(()=>[t(H,{class:"text-center"},{default:l(()=>[t(Y,{square:"",onClick:k=>z(c,"Recibo",e.row),color:v.$q.dark.isActive?"blue-grey-2":"blue-grey-7",class:"q-px-md",outline:"",rounded:"",label:"imprimir",dense:"","icon-right":"print"},null,8,["onClick","color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[se]])]),_:2},1024)]))),128))])]),_:2},1024)]),_:2},1032,["props"]),[[Et,e.row.expand]])]),"no-data":l(({icon:e})=>[mo]),_:1},8,["rows","columns","class"])])])])])])])]),_:1}),t(Mt,{modelValue:p(F),"onUpdate:modelValue":i[1]||(i[1]=e=>Dt(F)?F.value=e:null)},{default:l(()=>[t(Za,{servicio:r.value,nuevoPago:f.value,onActualizarDatos:S},null,8,["servicio","nuevoPago"])]),_:1},8,["modelValue"])],64))}},fo={class:"q-gutter-y-md"},_o={__name:"FacturacionPagos",setup(a){const b=T("facturas");return(f,r)=>(I(),te("div",fo,[t(he,null,{default:l(()=>[t(et,{modelValue:b.value,"onUpdate:modelValue":r[0]||(r[0]=s=>b.value=s),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:l(()=>[t(de,{name:"facturas",label:"Facturas"}),t(de,{name:"configuracion",label:"Configuraci\xF3n"})]),_:1},8,["modelValue"]),t(Me),t(tt,{modelValue:b.value,"onUpdate:modelValue":r[1]||(r[1]=s=>b.value=s),animated:""},{default:l(()=>[t(me,{name:"facturas"},{default:l(()=>[t(vo)]),_:1}),t(me,{name:"configuracion"},{default:l(()=>[t(Sa)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};const po={class:"q-gutter-y-md"},go={__name:"IndexPage",setup(a){const b=T("resumen");return(f,r)=>(I(),te("div",po,[t(he,null,{default:l(()=>[t(et,{modelValue:b.value,"onUpdate:modelValue":r[0]||(r[0]=s=>b.value=s),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[t(de,{name:"resumen",label:"Resumen"}),t(de,{name:"servicios",label:"Servicios"}),t(de,{name:"facturacion/pagos",label:"Facturaci\xF3n/Pagos"})]),_:1},8,["modelValue"]),t(Me),t(tt,{modelValue:b.value,"onUpdate:modelValue":r[1]||(r[1]=s=>b.value=s),animated:""},{default:l(()=>[t(me,{name:"resumen"},{default:l(()=>[t(qa)]),_:1}),t(me,{name:"servicios"},{default:l(()=>[b.value=="servicios"?(I(),R(Aa,{key:0})):ae("",!0)]),_:1}),t(me,{name:"facturacion/pagos"},{default:l(()=>[b.value=="facturacion/pagos"?(I(),R(_o,{key:0})):ae("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}},bo={class:"q-ma-lg q-pt-md"},ho={class:"row q-col-gutter-md",style:{"justify-content":"center"}},yo={class:"text-h6 text-center",style:{position:"relative",top:"-8px",left:"17px"}},wo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},qo={class:"col-xs-11 col-md-11 q-pt-xs"},zo={__name:"EditCliente",setup(a){const{api:b,route:f,formCliente:r,formFacturacion:s}=ye(),{servicios:A}=qe(),h=T("");return(async()=>{A.value=[];const{data:_}=await b.get("/customers/find/"+f.params.client_id);_[0].planInternet.forEach(u=>{s.value={...u.factura_id},A.value.push({servicio_id:u.id,precio:u.precio,direccion:`${u.direccion==""?"- - - - -":u.direccion}`,fecha_instalacion:u.fecha_instalacion,ipv4:u.ipv4,nombre_plan:u.perfil_internet.nombre_plan,router:u.router_id.nombre,estado:`${u.isActive?"Activo":"Inactivo"}`})}),h.value=_[0].nombres,r.value={..._[0]}})(),(_,u)=>(I(),te(Re,null,[o("div",bo,[o("div",ho,[o("div",{class:y(["col-xs-12 q-pl-none",[_.$q.screen.width<1022?"q-pt-sm col-md-6":"col-md-6"]])},[t(_t,{class:y(["row q-mr-xs",[_.$q.screen.width<1022?"justify-center q-pt-sm":"justify-start "]])},{default:l(()=>[t(Ve,{label:"Inicio",icon:"home",to:"/"}),t(Ve,{label:"Clientes",icon:"fa-solid fa-list",to:"/clientes"}),t(Ve,{label:"Nuevo",icon:"add_circle"})]),_:1},8,["class"])],2),o("div",{class:y(["col-xs-12",[_.$q.screen.width<1022?"text-center q-pt-sm col-md-6 q-pl-none":"text-right col-md-5"]])},[o("label",yo,V(h.value),1)],2)])]),o("div",wo,[o("div",qo,[t(he,{flat:"",class:"shadow_custom q-pt-none"},{default:l(()=>[t(go,{edit:!0})]),_:1})])])],64))}};export{zo as default};

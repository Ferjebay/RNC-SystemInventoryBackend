import{d as g,r as i,o as f,c as v,e as t,w as _,f as o,g as u,Q as p,h as b,i as m}from"./index.af8b3988.js";import{a as y}from"./axios.d45fc5d6.js";import{u as w}from"./use-quasar.af321354.js";import{u as x}from"./useHelpers.0233898e.js";var h="/assets/logo.2e824ef4.png";const V={class:"area-login"},S=t("h1",{class:"title"},"Iniciar Sesion",-1),k={class:"login"},I=t("div",{class:"element-form"},[t("img",{src:h,style:{width:"80%","margin-left":"29px","margin-top":"48px","margin-bottom":"24px"}})],-1),q=["onSubmit"],M=g({__name:"Login",setup(C){const l=i(!0),n=i(!1),a=i({email:"juan@gmail.com",password:"testing"}),{mostrarNotify:d}=x(),c=async()=>{try{n.value=!0;const{data:{token:s}}=await y.post("/auth/login",a.value);w().setToken(s),location.href="/"}catch(s){s.response.data.message=="Credentials not valid(password)"&&d("warning","La contrase\xF1a esta incorrecta"),s.response.data.message=="Credentials not valid(email)"&&d("warning","El email esta incorrecto"),n.value=!1}};return(s,e)=>(f(),v("section",V,[S,t("div",k,[I,t("form",{onSubmit:_(c,["prevent"]),class:"element-form q-mt-md"},[o(p,{"label-color":"blue-grey-3",class:"q-mb-lg","bg-color":"blue-grey-10",filled:"",label:"Ingresa tu email",modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.email=r),modelModifiers:{trim:!0},required:""},{prepend:u(()=>[o(m,{name:"person",color:"blue-grey-3"})]),_:1},8,["modelValue"]),o(p,{type:l.value?"password":"text","label-color":"blue-grey-3",filled:"","bg-color":"blue-grey-10",label:"Ingresa tu contrase\xF1a",modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.password=r),modelModifiers:{trim:!0},required:""},{append:u(()=>[o(m,{name:l.value?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:e[1]||(e[1]=r=>l.value=!l.value)},null,8,["name"])]),prepend:u(()=>[o(m,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue"]),o(b,{label:"Ingresar",class:"q-px-xl",loading:n.value,type:"submit",color:"deep-purple-6"},null,8,["loading"])],40,q)])]))}});export{M as default};

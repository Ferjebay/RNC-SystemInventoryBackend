import{Q as ye,a as H}from"./QBreadcrumbs.95976f75.js";import{m as J,r as se,n as V,p as w,i as F,N as oe,a6 as we,z as Y,k as xe,t as O,bC as re,bD as _e,s as Z,H as Ve,I as je,a0 as Ce,M as ke,Z as Ie,o as I,c as R,e,ac as s,f as p,g as v,a9 as h,ab as t,Q as A,a7 as z,a8 as P,h as B,ad as T,ah as le,w as Se,d as ie,x as Ae,aS as Pe,aP as Ue}from"./index.cab78396.js";import{u as L}from"./useCliente.3c3442bd.js";import{Q as De}from"./QSlideTransition.f1d19a88.js";import{u as Ne,a as Qe,b as Me,c as Te}from"./use-panel.a22b9c2f.js";import{u as Fe}from"./use-cache.b0833c75.js";import{Q as Re}from"./QForm.0135a46f.js";import{Q as C}from"./QSelect.3683cc5e.js";import{Q as Be}from"./QChip.19d5b54f.js";import{Q as ee}from"./QBadge.1e224048.js";import{Q as Ee}from"./QDate.830ac078.js";import{Q as Ke}from"./QPopupProxy.0c6f1b2c.js";import{C as Xe}from"./ClosePopup.dd0f6577.js";import"./useHelpers.7a0277c3.js";import"./use-quasar.fa069baf.js";import"./axios.4219dd78.js";import"./date.960f4c0c.js";import"./format.2bc25e5f.js";import"./touch.3df10340.js";import"./QItemLabel.30816ad1.js";var ae=J({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(r,{attrs:d}){const{proxy:{$q:n}}=Y(),b=se(null),a=V(()=>r.stepper.modelValue===r.step.name),o=V(()=>{const g=r.step.disable;return g===!0||g===""}),c=V(()=>{const g=r.step.error;return g===!0||g===""}),x=V(()=>{const g=r.step.done;return o.value===!1&&(g===!0||g==="")}),_=V(()=>{const g=r.step.headerNav,y=g===!0||g===""||g===void 0;return o.value===!1&&r.stepper.headerNav&&y}),m=V(()=>r.step.prefix&&(a.value===!1||r.stepper.activeIcon==="none")&&(c.value===!1||r.stepper.errorIcon==="none")&&(x.value===!1||r.stepper.doneIcon==="none")),i=V(()=>{const g=r.step.icon||r.stepper.inactiveIcon;if(a.value===!0){const y=r.step.activeIcon||r.stepper.activeIcon;return y==="none"?g:y||n.iconSet.stepper.active}if(c.value===!0){const y=r.step.errorIcon||r.stepper.errorIcon;return y==="none"?g:y||n.iconSet.stepper.error}if(o.value===!1&&x.value===!0){const y=r.step.doneIcon||r.stepper.doneIcon;return y==="none"?g:y||n.iconSet.stepper.done}return g}),q=V(()=>{const g=c.value===!0?r.step.errorColor||r.stepper.errorColor:void 0;if(a.value===!0){const y=r.step.activeColor||r.stepper.activeColor||r.step.color;return y!==void 0?y:g}return g!==void 0?g:o.value===!1&&x.value===!0?r.step.doneColor||r.stepper.doneColor||r.step.color||r.stepper.inactiveColor:r.step.color||r.stepper.inactiveColor}),S=V(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(q.value!==void 0?` text-${q.value}`:"")+(c.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(m.value===!0?"prefix":"icon"):"")+(a.value===!0?" q-stepper__tab--active":"")+(x.value===!0?" q-stepper__tab--done":"")+(_.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(o.value===!0?" q-stepper__tab--disabled":"")),U=V(()=>r.stepper.headerNav!==!0?!1:_.value);function E(){b.value!==null&&b.value.focus(),a.value===!1&&r.goToPanel(r.step.name)}function $(g){g.keyCode===13&&a.value===!1&&r.goToPanel(r.step.name)}return()=>{const g={class:S.value};_.value===!0&&(g.onClick=E,g.onKeyup=$,Object.assign(g,o.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:d.tabindex||0}));const y=[w("div",{class:"q-focus-helper",tabindex:-1,ref:b}),w("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[w("span",{class:"row flex-center"},[m.value===!0?r.step.prefix:w(F,{name:i.value})])])];if(r.step.title!==void 0&&r.step.title!==null){const D=[w("div",{class:"q-stepper__title"},r.step.title)];r.step.caption!==void 0&&r.step.caption!==null&&D.push(w("div",{class:"q-stepper__caption"},r.step.caption)),y.push(w("div",{class:"q-stepper__label q-stepper__line relative-position"},D))}return oe(w("div",g,y),[[we,U.value]])}}});function ne(r){return w("div",{class:"q-stepper__step-content"},[w("div",{class:"q-stepper__step-inner"},Z(r.default))])}const te={setup(r,{slots:d}){return()=>ne(d)}};var G=J({name:"QStep",props:{...Ne,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(r,{slots:d,emit:n}){const{proxy:{$q:b}}=Y(),a=xe(re,O);if(a===O)return console.error("QStep needs to be a child of QStepper"),O;const{getCacheWithFn:o}=Fe(),c=se(null),x=V(()=>a.value.modelValue===r.name),_=V(()=>b.platform.is.ios!==!0&&b.platform.is.chrome===!0||x.value!==!0||a.value.vertical!==!0?{}:{onScroll(q){const{target:S}=q;S.scrollTop>0&&(S.scrollTop=0),r.onScroll!==void 0&&n("scroll",q)}}),m=V(()=>typeof r.name=="string"||typeof r.name=="number"?r.name:String(r.name));function i(){const q=a.value.vertical;return q===!0&&a.value.keepAlive===!0?w(_e,a.value.keepAliveProps.value,x.value===!0?[w(a.value.needsUniqueKeepAliveWrapper.value===!0?o(m.value,()=>({...te,name:m.value})):te,{key:m.value},d.default)]:void 0):q!==!0||x.value===!0?ne(d):void 0}return()=>w("div",{ref:c,class:"q-stepper__step",role:"tabpanel",..._.value},a.value.vertical===!0?[w(ae,{stepper:a.value,step:r,goToPanel:a.value.goToPanel}),a.value.animated===!0?w(De,i):i()]:[i()])}});const ze=/(-\w)/g;function Le(r){const d={};for(const n in r){const b=n.replace(ze,a=>a[1].toUpperCase());d[b]=r[n]}return d}var We=J({name:"QStepper",props:{...Ve,...Qe,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Me,setup(r,{slots:d}){const n=Y(),b=je(r,n.proxy.$q),{updatePanelsList:a,isValidPanelName:o,updatePanelIndex:c,getPanelContent:x,getPanels:_,panelDirectives:m,goToPanel:i,keepAliveProps:q,needsUniqueKeepAliveWrapper:S}=Te();Ce(re,V(()=>({goToPanel:i,keepAliveProps:q,needsUniqueKeepAliveWrapper:S,...r})));const U=V(()=>`q-stepper q-stepper--${r.vertical===!0?"vertical":"horizontal"}`+(r.flat===!0?" q-stepper--flat":"")+(r.bordered===!0?" q-stepper--bordered":"")+(b.value===!0?" q-stepper--dark q-dark":"")),E=V(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${r.alternativeLabels===!0?"alternative":"standard"}-labels`+(r.flat===!1||r.bordered===!0?" q-stepper__header--border":"")+(r.contracted===!0?" q-stepper__header--contracted":"")+(r.headerClass!==void 0?` ${r.headerClass}`:""));function $(){const g=Z(d.message,[]);if(r.vertical===!0){o(r.modelValue)&&c();const y=w("div",{class:"q-stepper__content"},Z(d.default));return g===void 0?[y]:g.concat(y)}return[w("div",{class:E.value},_().map(y=>{const D=Le(y.props);return w(ae,{key:D.name,stepper:r,step:D,goToPanel:i})})),g,Ie("div",{class:"q-stepper__content q-panel-parent"},x(),"cont",r.swipeable,()=>m.value)]}return()=>(a(d),w("div",{class:U.value},ke(d.navigation,$())))}});const He={class:"col-xs-12 col-md-6"},Oe={class:"row"},Ge={class:"col-xs-12 col-md-7"},Ze={class:"row"},Je={class:"col-xs-12 col-md-7"},Ye={class:"row"},et={class:"col-xs-12 col-md-7"},tt={class:"row"},st={class:"col-xs-12 col-md-7"},ot={class:"row"},rt={class:"col-xs-12 col-md-7"},lt={class:"row"},it={class:"col-xs-12 col-md-7"},at={__name:"DatosPersonales",setup(r){const{formCliente:d,validaciones:n,validarDatosPersonales:b}=L();return(a,o)=>(I(),R("div",{class:s(["row q-col-gutter-md",a.$q.screen.width>1022?"q-col-gutter-y-lg q-pt-md":""])},[e("div",He,[e("div",Oe,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[a.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(a.$q.screen.width<1022||"q-pr-md")}," Nombres: ",2)],2),e("div",Ge,[p(A,{modelValue:t(d).nombres,"onUpdate:modelValue":[o[0]||(o[0]=c=>t(d).nombres=c),o[1]||(o[1]=c=>(t(d).nombres=t(d).nombres.toUpperCase(),t(n).nombres.isValid=!0))],modelModifiers:{trim:!0},error:!t(n).nombres.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:v(()=>[e("label",{class:s(a.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).nombres.message),3)]),_:1},8,["modelValue","error"])])])]),e("div",{class:s(["col-xs-12 col-md-6",a.$q.screen.width>1022||"q-pt-none"])},[e("div",Ze,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[a.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right"]])},[e("label",{class:s(a.$q.screen.width<1022||"q-pr-md")}," Tipo de Documento: ",2)],2),e("div",Je,[p(C,{dense:"",modelValue:t(d).tipo_documento,"onUpdate:modelValue":[o[2]||(o[2]=c=>t(d).tipo_documento=c),o[3]||(o[3]=c=>t(n).tipo_documento.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!t(n).tipo_documento.isValid,"emit-value":"","map-options":"",options:[{label:"RUC",value:"04"},{label:"Cedula",value:"05"},{label:"Pasaporte",value:"06"}]},{error:v(()=>[e("label",{class:s(a.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).tipo_documento.message),3)]),_:1},8,["modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",a.$q.screen.width>1022||"q-pt-none"])},[e("div",Ye,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[a.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end q-pb-md"]])},[e("label",{class:s(a.$q.screen.width<1022||"q-pr-md text-right")}," Numero de Documento: ",2)],2),e("div",et,[p(A,{type:a.$q.platform.is.mobile?"number":"text",modelValue:t(d).numero_documento,"onUpdate:modelValue":o[4]||(o[4]=c=>t(d).numero_documento=c),readonly:t(d).tipo_documento==="","input-class":"resaltarTextoInput",counter:"",maxlength:t(d).tipo_documento==="04"?13:10,error:!t(n).numero_documento.isValid,onKeyup:o[5]||(o[5]=c=>(t(n).numero_documento.isValid=!0,t(d).numero_documento=t(d).numero_documento.replace(/\D/g,""))),dense:"",outlined:""},{error:v(()=>[e("label",{class:s(a.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).numero_documento.message),3)]),_:1},8,["type","modelValue","readonly","maxlength","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",a.$q.screen.width>1022||"q-pt-none"])},[e("div",tt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[a.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end q-pb-md"]])},[e("label",{class:s(a.$q.screen.width<1022||"q-pr-md")}," Celular: ",2)],2),e("div",st,[p(A,{type:a.$q.platform.is.mobile?"number":"text",modelValue:t(d).celular,"onUpdate:modelValue":o[6]||(o[6]=c=>t(d).celular=c),modelModifiers:{trim:!0},counter:"",maxlength:"10","input-class":"resaltarTextoInput",error:!t(n).celular.isValid,onKeyup:o[7]||(o[7]=c=>(t(n).celular.isValid=!0,t(d).celular=t(d).celular.replace(/\D/g,""))),dense:"",outlined:""},{error:v(()=>[e("label",{class:s(a.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).celular.message),3)]),_:1},8,["type","modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",a.$q.screen.width>1022||"q-pt-none"])},[e("div",ot,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[a.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:s(a.$q.screen.width<1022||"q-pr-md")}," Email: ",2)],2),e("div",rt,[p(A,{modelValue:t(d).email,"onUpdate:modelValue":o[8]||(o[8]=c=>t(d).email=c),modelModifiers:{trim:!0},error:!t(n).email.isValid,"input-class":"resaltarTextoInput",onKeyup:o[9]||(o[9]=c=>t(n).email.isValid=!0),dense:"",outlined:""},{error:v(()=>[e("label",{class:s(a.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).email.message),3)]),_:1},8,["modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",a.$q.screen.width>1022||"q-pt-none"])},[e("div",lt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[a.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:s(a.$q.screen.width<1022||"q-pr-md")}," Direccion: ",2)],2),e("div",it,[p(A,{modelValue:t(d).direccion,"onUpdate:modelValue":o[10]||(o[10]=c=>t(d).direccion=c),error:!t(n).direccion.isValid,"input-class":"resaltarTextoInput",onKeyup:o[11]||(o[11]=c=>t(n).direccion.isValid=!0),dense:"",outlined:""},{error:v(()=>[e("label",{class:s(a.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).direccion.message),3)]),_:1},8,["modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-12 flex q-py-md",[a.$q.screen.width<600?"justify-center q-pt-none q-ml-md":"justify-between"]]),style:{"padding-bottom":"0px"}},[a.$q.screen.width>600?(I(),z(B,{key:0,icon:"arrow_back",onClick:o[12]||(o[12]=c=>a.$router.push("/clientes")),outline:"",rounded:"",class:"q-ml-md",color:a.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:v(()=>[P(" \xA0 Salir ")]),_:1},8,["color"])):T("",!0),p(B,{onClick:t(b),"icon-right":"arrow_forward",outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:v(()=>[P(" \xA0 Siguiente\xA0 ")]),_:1},8,["onClick"])],2)],2))}},nt={class:"col-12 flex justify-start items-center q-pt-none"},dt={class:"row"},ct={class:"col-xs-12 col-md-7"},ut={class:"row"},mt={class:"col-xs-12 col-md-7"},pt={class:"row"},vt={class:"col-xs-12 col-md-7"},ft={class:"row"},qt={class:"col-xs-12 col-md-7"},gt={class:"row"},$t={class:"col-xs-12 col-md-7"},bt={class:"row"},ht={class:"col-xs-12 col-md-7"},yt={class:"col-12 flex justify-start items-center q-py-md"},wt={class:"row"},xt={class:"col-xs-12 col-md-7"},_t={__name:"FactAndNot",setup(r){const{formFacturacion:d,validacionesFacturacion:n,validarFormFact:b,step:a}=L();let o=new Array(28).fill(0).map((m,i)=>i+1),c=new Array(25).fill(0).map((m,i)=>`${i+1}  ${i==0?"D\xEDa":"D\xEDas"} antes`),x=new Array(25).fill(0).map((m,i)=>`${i+1}  ${i==0?"D\xEDa":"D\xEDas"}`),_=new Array(12).fill(0).map((m,i)=>`${i+1}  ${i==0?"Mes":"Meses"} ${i==0?"Vencido":"Vencidos"}`);return c.unshift("Desactivado"),_.unshift("Desactivado"),(m,i)=>(I(),R("div",{class:s(["row q-col-gutter-md",m.$q.screen.width>1022?"q-col-gutter-y-lg q-pt-md":""])},[e("div",nt,[e("label",{class:s(["text-h6 text-weight-medium",m.$q.screen.width>1022||"q-pt-xs"])},[p(F,{name:"description"}),P(" Facturaci\xF3n: ")],2)]),e("div",{class:s(["col-xs-12 col-md-6",(m.$q.screen.width<1022,"q-pt-xs")])},[e("div",dt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[m.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(m.$q.screen.width<1022||"q-pr-md")}," Tipo: ",2)],2),e("div",ct,[p(C,{dense:"",modelValue:t(d).tipo,"onUpdate:modelValue":[i[0]||(i[0]=q=>t(d).tipo=q),i[1]||(i[1]=q=>t(n).tipo.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!t(n).tipo.isValid,"emit-value":"","map-options":"",options:[{label:"Prepago (Adelantado)",value:"prepago"},{label:"Postpago (Vencido)",value:"postpago"}]},{error:v(()=>[e("label",{class:s(m.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).tipo.message),3)]),_:1},8,["modelValue","error","options"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",m.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",ut,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[m.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:s(m.$q.screen.width<1022||"q-pr-md")}," Dia Pago: ",2)],2),e("div",mt,[p(C,{dense:"",modelValue:t(d).dia_pago,"onUpdate:modelValue":[i[2]||(i[2]=q=>t(d).dia_pago=q),i[3]||(i[3]=q=>t(n).dia_pago.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:t(o),error:!t(n).dia_pago.isValid},{error:v(()=>[e("label",{class:s(m.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).dia_pago.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",m.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",pt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[m.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:s(m.$q.screen.width<1022||"q-pr-md")}," Crear Factura: ",2)],2),e("div",vt,[p(C,{dense:"",modelValue:t(d).crear_factura,"onUpdate:modelValue":[i[4]||(i[4]=q=>t(d).crear_factura=q),i[5]||(i[5]=q=>t(n).crear_factura.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:t(c),error:!t(n).crear_factura.isValid},{error:v(()=>[e("label",{class:s(m.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).crear_factura.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",m.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",ft,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[m.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:s(m.$q.screen.width<1022||"q-pr-md")}," Tipo Impuesto: ",2)],2),e("div",qt,[p(C,{dense:"",modelValue:t(d).tipo_impuesto,"onUpdate:modelValue":[i[6]||(i[6]=q=>t(d).tipo_impuesto=q),i[7]||(i[7]=q=>t(n).tipo_impuesto.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:["Impuestos incluido","Mas impuestos","Ninguno"],error:!t(n).tipo_impuesto.isValid},{error:v(()=>[e("label",{class:s(m.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).tipo_impuesto.message),3)]),_:1},8,["modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",m.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",gt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[m.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:s(m.$q.screen.width<1022||"q-pr-md")}," D\xEDas de gracia: ",2)],2),e("div",$t,[p(C,{dense:"",modelValue:t(d).dia_gracia,"onUpdate:modelValue":[i[8]||(i[8]=q=>t(d).dia_gracia=q),i[9]||(i[9]=q=>t(n).dia_gracia.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:t(x),hint:"*d\xEDas tolerancia para aplicar corte",error:!t(n).dia_gracia.isValid},{error:v(()=>[e("label",{class:s(m.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).dia_gracia.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",m.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",bt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[m.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:s(m.$q.screen.width<1022||"q-pr-md")}," Aplicar Corte: ",2)],2),e("div",ht,[p(C,{dense:"",modelValue:t(d).aplicar_corte,"onUpdate:modelValue":[i[10]||(i[10]=q=>t(d).aplicar_corte=q),i[11]||(i[11]=q=>t(n).aplicar_corte.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:t(_),error:!t(n).aplicar_corte.isValid},{error:v(()=>[e("label",{class:s(m.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).aplicar_corte.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",yt,[e("label",{class:s(["text-h6 text-weight-medium",m.$q.screen.width>1022||"q-pt-xs"])},[p(F,{name:"notifications"}),P(" Notificaciones: ")],2)]),e("div",{class:s(["col-xs-12 col-md-6",(m.$q.screen.width<1022,"q-pt-xs")])},[e("div",wt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[m.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(m.$q.screen.width<1022||"q-pr-md")}," Recordatorios de pago: ",2)],2),e("div",xt,[p(C,{dense:"",modelValue:t(d).recordatorio_pago,"onUpdate:modelValue":[i[12]||(i[12]=q=>t(d).recordatorio_pago=q),i[13]||(i[13]=q=>t(n).recordatorio_pago.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!t(n).recordatorio_pago.isValid,multiple:"","stack-label":"",options:["Correo","Telegram"]},{error:v(()=>[e("label",{class:s(m.$q.dark.isActive?"text-red-4":"text-negative")},h(t(n).recordatorio_pago.message),3)]),"selected-item":v(q=>[p(Be,{color:"primary","text-color":"white",icon:"done",removable:"",dense:"",onRemove:S=>q.removeAtIndex(q.index),tabindex:q.tabindex,class:"q-ma-none"},{default:v(()=>[P(h(q.opt),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-12 flex q-py-md",[m.$q.screen.width<600?"justify-center q-pt-none q-ml-md":"justify-between"]]),style:{"padding-bottom":"0px"}},[m.$q.screen.width>600?(I(),z(B,{key:0,icon:"arrow_back",onClick:i[14]||(i[14]=q=>a.value=1),outline:"",rounded:"",class:"q-ml-md",color:m.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:v(()=>[P(" \xA0 Anterior ")]),_:1},8,["color"])):T("",!0),p(B,{onClick:t(b),"icon-right":"arrow_forward",outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:v(()=>[P(" \xA0 Siguiente\xA0 ")]),_:1},8,["onClick"])],2)],2))}},Vt={class:"row justify-center"},jt={class:"row"},Ct={class:"col-xs-12 col-md-7 justify-center"},kt={class:"col-xs-12 col-md-6 q-pt-none"},It={class:"row"},St={class:"col-xs-12 col-md-7"},At={class:"row"},Pt={class:"col-xs-12 col-md-7"},Ut={class:"row"},Dt={class:"col-xs-12 col-md-7 justify-center"},Nt={class:"row"},Qt={class:"col-xs-12 col-md-7"},Mt={class:"col-xs-12 col-md-6 q-pt-none"},Tt={class:"row"},Ft={class:"col-xs-12 col-md-7"},Rt={class:"row items-center justify-end"},Bt={class:"row"},Et={class:"col-xs-12 col-md-7"},Kt={class:"row"},Xt={class:"col-xs-12 col-md-7 justify-center"},zt={class:"row"},Lt={class:"col-xs-12 col-md-7"},Wt={class:"row"},Ht={class:"col-xs-12 col-md-7 justify-center"},Ot={class:"row"},Gt={class:"col-xs-12 col-md-7"},Zt={__name:"ServicioInternet",setup(r){const d=[];let n=[];const{api:b,claim:a,formInternet:o,listIps:c,listCajasNap:x,listPuertosCajaNap:_,groupedIpsByRed:m,listRedes:i,optionsListIps:q,listRouter:S,listServicionsInternet:U,obtenerListaSubred:E,validacionesInternet:$,mostrarNotify:g,validDecimal:y,step:D}=L(),de=async()=>{const{data:l}=await b.get(`/router/find/${a.company.id}`);l.forEach(u=>{S.value.push({label:u.nombre,value:u.id})})},ce=async()=>{$.value.router_id.isValid=!0,o.value.perfil_internet="",o.value.precio=0,U.value=[];let l={headers:{router_id:o.value.router_id}};const{data:u}=await b.get("/internet",l);u.length==0?g("warning","Por favor agrega un perfil de internet"):u.forEach(f=>{U.value.push({label:f.nombre_plan,value:f.id,precio_plan:f.precio_plan})}),me(),ve()},ue=(l,u)=>{const f=u.split(".");for(const k in l)if(l.hasOwnProperty(k)&&k.split(".").every((K,N)=>K===f[N]))return l[`${k}`].length;return 0},me=async()=>{i.value=[],n=[];let l={headers:{router_id:o.value.router_id}};(await b.get(`/customers/get-ips/${o.value.router_id}`)).data.forEach(j=>{j.puerto_id&&n.push(j.puerto_id.id),d.push(j.ipv4)}),await Promise.resolve();const f=m(d),{data:k}=await b.get("/red-ipv4",l);k.forEach(j=>{const K=j.red,N=j.cidr.split(" ")[0];j.cidr.split("-")[1].split(",")[1].split(" ")[1];const $e=E(`${K}/${N}`),be=m($e);let W;parseInt(N)>=25&&parseInt(N)<=32?W=2**(32-N):W=256;let Q=Object.keys(be);for(let M=0;M<Q.length;M++){const he=ue(f,Q[M]);let X;Q.length==1?X=2:Q.length>1&&M==0||Q.length>1&&M+1==Q.length?X=1:X=0,i.value.push({value:`${j.id}|${M}`,label:`${Q[M]}.0 
          (${W-(X+he)} Ips disponibles) ${j.nombre}`,red_name:j.nombre,cidr:N})}})},pe=()=>{o.value.ipv4="";const l=i.value.find(k=>k.value==o.value.red_id),u=i.value.filter(k=>k.red_name==l.red_name);let f;parseInt(l.cidr)>=25&&parseInt(l.cidr)<=32?f=l.cidr:f="24",c.value=E(`${l.label.split(" ")[0]}/${f}`),u.length==1?(c.value.shift(),c.value.pop()):o.value.red_id==u[0].value?c.value.shift():o.value.red_id==u[u.length-1].value&&c.value.pop(),q.value=c.value,$.value.red_id.isValid=!0,d.forEach(k=>{const j=c.value.findIndex(K=>K==k);j!=-1&&c.value.splice(j,1)}),c.value.length>0&&(o.value.ipv4=c.value[0],$.value.ipv4.isValid=!0)},ve=async()=>{let l={headers:{router_id:o.value.router_id}};const{data:u}=await b.get("/caja-nap",l);u.forEach(f=>{x.value.push({value:`${f.id}`,label:`${f.nombre}`,puertos:f.puertos})})},fe=()=>{_.value=[],x.value.find(l=>l.value==o.value.caja_id).puertos.forEach(l=>{n.includes(l.id)||_.value.push({value:`${l.id}`,label:`Puerto ${l.puerto}`})}),_.value.unshift({value:"Ninguno",label:"Ninguno"})},qe=()=>{$.value.perfil_internet.isValid=!0,$.value.precio.isValid=!0;const l=U.value.find(u=>u.value==o.value.perfil_internet);o.value.precio=l.precio_plan},ge=(l="",u)=>{if(l===""){u(()=>{c.value=q.value});return}u(()=>{const f=l.toLowerCase();c.value=c.value.filter(k=>k.toLowerCase().indexOf(f)>-1)})};return S.value.length==0&&de(),(l,u)=>(I(),R("div",{class:s(["row q-col-gutter-md",l.$q.screen.width<1022||"q-col-gutter-y-lg q-pt-md"])},[e("div",{class:s(["col-12 q-pt-none",l.$q.screen.width<1022||"q-pl-none"])},[e("div",Vt,[e("div",{class:s(["col-xs-12 col-md-6",(l.$q.screen.width<1022,"q-pt-xs")])},[e("div",jt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Router: ",2)],2),e("div",Ct,[p(C,{dense:"",modelValue:t(o).router_id,"onUpdate:modelValue":[u[0]||(u[0]=f=>t(o).router_id=f),ce],modelModifiers:{trim:!0},filled:"",error:!t($).router_id.isValid,"emit-value":"","map-options":"",options:t(S)},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).router_id.message),3)]),_:1},8,["modelValue","error","options"])])])],2)])],2),t(o).router_id.length!=0?(I(),R(le,{key:0},[e("div",kt,[e("div",It,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Direcci\xF3n: ",2)],2),e("div",St,[p(A,{modelValue:t(o).coordenadas,"onUpdate:modelValue":u[1]||(u[1]=f=>t(o).coordenadas=f),modelModifiers:{trim:!0},error:!t($).coordenadas.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).coordenadas.message),3)]),append:v(()=>[p(ee,{filled:"",color:"blue-grey-6",style:{height:"100%",width:"19%",position:"absolute",right:"0px","justify-content":"center","font-size":"14px",cursor:"pointer"}},{default:v(()=>[p(F,{name:"fa-solid fa-street-view",size:"xs"})]),_:1})]),_:1},8,["modelValue","error"])])])]),e("div",{class:s(["col-xs-12 col-md-6 q-pt-none",l.$q.screen.width<1022||"q-pl-none"])},[e("div",At,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Coordenadas: ",2)],2),e("div",Pt,[p(A,{modelValue:t(o).direccion,"onUpdate:modelValue":u[2]||(u[2]=f=>t(o).direccion=f),modelModifiers:{trim:!0},error:!t($).direccion.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).direccion.message),3)]),append:v(()=>[p(ee,{filled:"",color:"blue-grey-6",style:{height:"100%",width:"19%",position:"absolute",right:"0px","justify-content":"center","font-size":"14px",cursor:"pointer"}},{default:v(()=>[p(F,{name:"fa-solid fa-location-dot",size:"xs"})]),_:1})]),_:1},8,["modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",(l.$q.screen.width<1022,"q-pt-xs")])},[e("div",Ut,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Perfil Internet: ",2)],2),e("div",Dt,[p(C,{dense:"",modelValue:t(o).perfil_internet,"onUpdate:modelValue":[u[3]||(u[3]=f=>t(o).perfil_internet=f),qe],modelModifiers:{trim:!0},filled:"",error:!t($).perfil_internet.isValid,"emit-value":"","map-options":"",options:t(U)},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).perfil_internet.message),3)]),_:1},8,["modelValue","error","options"])])])],2),e("div",{class:s(["col-xs-12 col-md-6 q-pt-none",l.$q.screen.width<1022||"q-pl-none"])},[e("div",Nt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Precio: ",2)],2),e("div",Qt,[p(A,{modelValue:t(o).precio,"onUpdate:modelValue":[u[4]||(u[4]=f=>t(o).precio=f),u[5]||(u[5]=f=>t(y)("precio"))],modelModifiers:{trim:!0},type:"number",step:"0.01",error:!t($).precio.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).precio.message),3)]),_:1},8,["modelValue","error"])])])],2),e("div",Mt,[e("div",Tt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Fecha Instalaci\xF3n: ",2)],2),e("div",Ft,[p(A,{filled:"",dense:"",modelValue:t(o).fecha_instalacion,"onUpdate:modelValue":u[7]||(u[7]=f=>t(o).fecha_instalacion=f),"input-style":{textAlign:"center"},mask:"date",rules:["date"]},{append:v(()=>[p(F,{name:"event",class:"cursor-pointer"},{default:v(()=>[p(Ke,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:v(()=>[p(Ee,{modelValue:t(o).fecha_instalacion,"onUpdate:modelValue":u[6]||(u[6]=f=>t(o).fecha_instalacion=f)},{default:v(()=>[e("div",Rt,[oe(p(B,{label:"Close",color:"primary",flat:""},null,512),[[Xe]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),e("div",{class:s(["col-xs-12 col-md-6 q-pt-none",l.$q.screen.width<1022||"q-pl-none"])},[e("div",Bt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," MAC: ",2)],2),e("div",Et,[p(A,{modelValue:t(o).mac,"onUpdate:modelValue":u[8]||(u[8]=f=>t(o).mac=f),modelModifiers:{trim:!0},mask:"XX:XX:XX:XX:XX:XX","unmasked-value":"",error:!t($).mac.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).mac.message),3)]),_:1},8,["modelValue","error"])])])],2),e("div",{class:s(["col-xs-12 col-md-6",(l.$q.screen.width<1022,"q-pt-xs")])},[e("div",Kt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Redes IPv4: ",2)],2),e("div",Xt,[p(C,{dense:"",modelValue:t(o).red_id,"onUpdate:modelValue":[u[9]||(u[9]=f=>t(o).red_id=f),pe],modelModifiers:{trim:!0},filled:"",error:!t($).red_id.isValid,"emit-value":"","map-options":"",options:t(i)},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).red_id.message),3)]),_:1},8,["modelValue","error","options"])])])],2),t(o).red_id!=""?(I(),R("div",{key:0,class:s(["col-xs-12 col-md-6 q-pt-none",l.$q.screen.width<1022||"q-pl-none"])},[e("div",zt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," IPv4: ",2)],2),e("div",Lt,[p(C,{dense:"",modelValue:t(o).ipv4,"onUpdate:modelValue":u[10]||(u[10]=f=>t(o).ipv4=f),modelModifiers:{trim:!0},filled:"",error:!t($).ipv4.isValid,"emit-value":"","map-options":"","use-input":"","input-debounce":"10",onFilter:ge,options:t(c)},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).ipv4.message),3)]),_:1},8,["modelValue","error","options"])])])],2)):T("",!0),e("div",{class:s(["col-xs-12 col-md-6",(l.$q.screen.width<1022,"q-pt-xs")])},[e("div",Wt,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Caja(s) Nap: ",2)],2),e("div",Ht,[p(C,{dense:"",modelValue:t(o).caja_id,"onUpdate:modelValue":[u[12]||(u[12]=f=>t(o).caja_id=f),fe],modelModifiers:{trim:!0},filled:"",error:!t($).caja_id.isValid,"emit-value":"","map-options":"",options:t(x)},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).caja_id.message),3)]),append:v(()=>[t(o).caja_id.length>0?(I(),z(F,{key:0,name:"close",onClick:u[11]||(u[11]=Se(f=>(t(o).caja_id="",t(o).puerto_id=""),["stop","prevent"])),class:"cursor-pointer"})):T("",!0)]),_:1},8,["modelValue","error","options"])])])],2),t(o).caja_id!=""?(I(),R("div",{key:1,class:s(["col-xs-12 col-md-6 q-pt-none",l.$q.screen.width<1022||"q-pl-none"])},[e("div",Ot,[e("div",{class:s(["col-xs-12 col-md-4 flex items-center justify-end",[l.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:s(l.$q.screen.width<1022||"q-pr-md")}," Puerto Nap: ",2)],2),e("div",Gt,[p(C,{dense:"",modelValue:t(o).puerto_id,"onUpdate:modelValue":[u[13]||(u[13]=f=>t(o).puerto_id=f),u[14]||(u[14]=f=>t($).puerto_id.isValid=!0)],modelModifiers:{trim:!0},filled:"",error:!t($).puerto_id.isValid,"emit-value":"","map-options":"",options:t(_)},{error:v(()=>[e("label",{class:s(l.$q.dark.isActive?"text-red-4":"text-negative")},h(t($).puerto_id.message),3)]),_:1},8,["modelValue","error","options"])])])],2)):T("",!0)],64)):T("",!0),e("div",{class:s(["col-xs-12 col-md-12 flex q-py-md",[l.$q.screen.width<600?"justify-center q-pt-none q-ml-md":"justify-between"]]),style:{"padding-bottom":"0px"}},[l.$q.screen.width>600?(I(),z(B,{key:0,icon:"arrow_back",onClick:u[15]||(u[15]=f=>D.value=2),outline:"",rounded:"",class:"q-ml-md",color:l.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:v(()=>[P(" \xA0 Anterior ")]),_:1},8,["color"])):T("",!0),p(B,{type:"submit","icon-right":"save",outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:v(()=>[P(" \xA0 Guardar\xA0 ")]),_:1})],2)],2))}};const Jt={class:"col-12"},Yt=ie({__name:"FormCliente",props:{edit:{type:Boolean}},setup(r){const d=r,{done1:n,done2:b,done3:a,onSubmit:o,step:c,limpiarFormulario:x,quitarErrores:_}=L();return Ae(()=>{x(),_(),n.value,b.value,a.value=!1,c.value=1}),(m,i)=>(I(),z(Re,{onSubmit:i[1]||(i[1]=q=>t(o)(d.edit)),class:"q-mt-md"},{default:v(()=>[e("div",{class:s(["row q-col-gutter-md q-px-lg q-pb-lg",m.$q.screen.width>1022?"q-col-gutter-y-lg":""])},[e("div",Jt,[p(We,{modelValue:t(c),"onUpdate:modelValue":i[0]||(i[0]=q=>Pe(c)?c.value=q:null),"header-nav":"",ref:"stepper",color:"primary",animated:""},{default:v(()=>[p(G,{name:1,title:"Datos Personales","done-color":"secondary",caption:"Nombres, Direcci\xF3n, Telefono...",icon:"settings",done:t(c)>1,"header-nav":t(c)>1},{default:v(()=>[p(at)]),_:1},8,["done","header-nav"]),p(G,{name:2,title:"Facturaci\xF3n y Notificaciones",caption:"Dia de pago, Corte, aviso",icon:"create_new_folder",done:t(c)>2,"header-nav":t(c)>2,"done-color":"secondary"},{default:v(()=>[p(_t)]),_:1},8,["done","header-nav"]),p(G,{name:3,title:"Servicios",caption:"Queues, PPPoE, Hotspot, etc",icon:"add_comment","header-nav":t(c)>3},{default:v(()=>[p(Zt)]),_:1},8,["header-nav"])]),_:1},8,["modelValue"])])],2)]),_:1}))}}),es={class:"q-ma-lg q-pt-md"},ts={class:"row q-col-gutter-md",style:{"justify-content":"center"}},ss=e("label",{class:"text-h6 text-center",style:{position:"relative",top:"-8px",left:"17px"}}," Nuevo Cliente ",-1),os=[ss],rs={class:"row q-col-gutter-md",style:{"justify-content":"center"}},ls={class:"col-xs-11 col-md-11 q-pt-xs"},js=ie({__name:"AddCliente",setup(r){const{limpiarFormulario:d,quitarErrores:n}=L();return d(),n(),(b,a)=>(I(),R(le,null,[e("div",es,[e("div",ts,[e("div",{class:s(["col-xs-12 q-pl-none",[b.$q.screen.width<1022?"q-pt-sm col-md-6":"col-md-6"]])},[p(ye,{class:s(["row q-mr-xs",[b.$q.screen.width<1022?"justify-center q-pt-sm":"justify-start "]])},{default:v(()=>[p(H,{label:"Inicio",icon:"home",to:"/"}),p(H,{label:"Clientes",icon:"fa-solid fa-list",to:"/clientes"}),p(H,{label:"Nuevo",icon:"add_circle"})]),_:1},8,["class"])],2),e("div",{class:s(["col-xs-12",[b.$q.screen.width<1022?"text-center q-pt-sm col-md-6 q-pl-none":"text-right col-md-5"]])},os,2)])]),e("div",rs,[e("div",ls,[p(Ue,{flat:"",class:"shadow_custom"},{default:v(()=>[p(Yt,{edit:!1})]),_:1})])])],64))}});export{js as default};

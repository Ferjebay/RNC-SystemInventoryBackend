import{Q as ft,a as ke}from"./QBreadcrumbs.95976f75.js";import{r as P,k as pt,t as Te,n as I,x as Ye,B as gt,bE as He,N as ee,a6 as ie,p as Q,am as Ne,al as bt,bf as _t,i as Z,M as ht,z as Ie,bb as qt,aH as yt,m as qe,au as Se,V as ze,v as ge,a0 as $t,K as wt,L as xt,s as Oe,H as Vt,I as Ct,Z as Pt,o as k,a7 as D,g as o,e,ac as u,f as t,Q as Y,ab as l,a9 as $,h as H,a8 as w,c as te,ad as he,a5 as kt,aQ as Ke,af as Me,bp as Tt,aP as ye,bF as St,bG as At,ah as Ae,ag as It,aI as Mt,aS as jt,aT as Dt}from"./index.cab78396.js";import{u as $e}from"./useCliente.3c3442bd.js";import{api as Rt}from"./axios.4219dd78.js";import"./use-quasar.fa069baf.js";import{Q as Qt}from"./QResizeObserver.e7c50c18.js";import{r as Ft,Q as W}from"./QSelect.3683cc5e.js";import{u as Lt,a as Bt,b as Et,c as Ut}from"./use-panel.a22b9c2f.js";import{Q as we}from"./QForm.0135a46f.js";import{Q as Ge,a as R}from"./QTable.5cbc342a.js";import{Q as ne}from"./QBadge.1e224048.js";import{Q as Nt}from"./QChip.19d5b54f.js";import{Q as We,a as zt}from"./QTooltip.6ec78d9c.js";import{c as K,a as be,Q as X}from"./QItemLabel.30816ad1.js";import{Q as Kt}from"./QList.74357e51.js";import{C as Wt}from"./ClosePopup.dd0f6577.js";import{d as _e}from"./date.960f4c0c.js";import"./useHelpers.7a0277c3.js";import"./format.2bc25e5f.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";const Yt=P([]),Ht=P(),Ot=P(!1),Gt=P([]),ce=()=>({api:Rt,servicios:Yt,showModalPago:Ot,factura:Ht,pagos:Gt});let Xt=0;const Zt=["click","keydown"],Jt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Xt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function ea(a,i,m,b){const n=pt(He,Te);if(n===Te)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Te;const{proxy:g}=Ie(),d=P(null),x=P(null),A=P(null),C=I(()=>a.disable===!0||a.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},a.ripple===!0?{}:a.ripple)),c=I(()=>n.currentModel.value===a.name),s=I(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(a.icon&&a.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(a.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(a.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(b!==void 0?b.linkClass.value:"")),v=I(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(a.contentClass!==void 0?` ${a.contentClass}`:"")),f=I(()=>a.disable===!0||n.hasFocus.value===!0||c.value===!1&&n.hasActiveTab.value===!0?-1:a.tabindex||0);function h(q,B){if(B!==!0&&d.value!==null&&d.value.focus(),a.disable===!0){b!==void 0&&b.hasRouterLink.value===!0&&Ne(q);return}if(b===void 0){n.updateModel({name:a.name}),m("click",q);return}if(b.hasRouterLink.value===!0){const E=(M={})=>{let U;const N=M.to===void 0||qt(M.to,a.to)===!0?n.avoidRouteWatcher=yt():null;return b.navigateToRouterLink(q,{...M,returnRouterError:!0}).catch(J=>{U=J}).then(J=>{if(N===n.avoidRouteWatcher&&(n.avoidRouteWatcher=!1,U===void 0&&(J===void 0||J.message.startsWith("Avoided redundant navigation")===!0)&&n.updateModel({name:a.name})),M.returnRouterError===!0)return U!==void 0?Promise.reject(U):J})};m("click",q,E),q.defaultPrevented!==!0&&E();return}m("click",q)}function F(q){bt(q,[13,32])?h(q,!0):_t(q)!==!0&&q.keyCode>=35&&q.keyCode<=40&&q.altKey!==!0&&q.metaKey!==!0&&n.onKbdNavigate(q.keyCode,g.$el)===!0&&Ne(q),m("keydown",q)}function L(){const q=n.tabProps.value.narrowIndicator,B=[],E=Q("div",{ref:A,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});a.icon!==void 0&&B.push(Q(Z,{class:"q-tab__icon",name:a.icon})),a.label!==void 0&&B.push(Q("div",{class:"q-tab__label"},a.label)),a.alert!==!1&&B.push(a.alertIcon!==void 0?Q(Z,{class:"q-tab__alert-icon",color:a.alert!==!0?a.alert:void 0,name:a.alertIcon}):Q("div",{class:"q-tab__alert"+(a.alert!==!0?` text-${a.alert}`:"")})),q===!0&&B.push(E);const M=[Q("div",{class:"q-focus-helper",tabindex:-1,ref:d}),Q("div",{class:v.value},ht(i.default,B))];return q===!1&&M.push(E),M}const ae={name:I(()=>a.name),rootRef:x,tabIndicatorRef:A,routeData:b};Ye(()=>{n.unregisterTab(ae)}),gt(()=>{n.registerTab(ae)});function ue(q,B){const E={ref:x,class:s.value,tabindex:f.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":a.disable===!0?"true":void 0,onClick:h,onKeydown:F,...B};return ee(Q(q,E,L()),[[ie,C.value]])}return{renderTab:ue,$tabs:n}}var re=qe({name:"QTab",props:Jt,emits:Zt,setup(a,{slots:i,emit:m}){const{renderTab:b}=ea(a,i,m);return()=>b("div")}});function ta(a,i,m){const b=m===!0?["left","right"]:["top","bottom"];return`absolute-${i===!0?b[0]:b[1]}${a?` text-${a}`:""}`}const aa=["left","center","right","justify"];var Xe=qe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:a=>aa.includes(a)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(a,{slots:i,emit:m}){const{proxy:b}=Ie(),{$q:n}=b,{registerTick:g}=Se(),{registerTick:d}=Se(),{registerTick:x}=Se(),{registerTimeout:A,removeTimeout:C}=ze(),{registerTimeout:c,removeTimeout:s}=ze(),v=P(null),f=P(null),h=P(a.modelValue),F=P(!1),L=P(!0),ae=P(!1),ue=P(!1),q=[],B=P(0),E=P(!1);let M=null,U=null,N;const J=I(()=>({activeClass:a.activeClass,activeColor:a.activeColor,activeBgColor:a.activeBgColor,indicatorClass:ta(a.indicatorColor,a.switchIndicator,a.vertical),narrowIndicator:a.narrowIndicator,inlineLabel:a.inlineLabel,noCaps:a.noCaps})),Je=I(()=>{const r=B.value,p=h.value;for(let _=0;_<r;_++)if(q[_].name.value===p)return!0;return!1}),et=I(()=>`q-tabs__content--align-${F.value===!0?"left":ue.value===!0?"justify":a.align}`),tt=I(()=>`q-tabs row no-wrap items-center q-tabs--${F.value===!0?"":"not-"}scrollable q-tabs--${a.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${a.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${a.mobileArrows===!0?"":"out"}-arrows`+(a.dense===!0?" q-tabs--dense":"")+(a.shrink===!0?" col-shrink":"")+(a.stretch===!0?" self-stretch":"")),at=I(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+et.value+(a.contentClass!==void 0?` ${a.contentClass}`:"")),me=I(()=>a.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ve=I(()=>a.vertical!==!0&&n.lang.rtl===!0),xe=I(()=>Ft===!1&&ve.value===!0);ge(ve,le),ge(()=>a.modelValue,r=>{Ve({name:r,setCurrent:!0,skipEmit:!0})}),ge(()=>a.outsideArrows,fe);function Ve({name:r,setCurrent:p,skipEmit:_}){h.value!==r&&(_!==!0&&a["onUpdate:modelValue"]!==void 0&&m("update:modelValue",r),(p===!0||a["onUpdate:modelValue"]===void 0)&&(ot(h.value,r),h.value=r))}function fe(){g(()=>{je({width:v.value.offsetWidth,height:v.value.offsetHeight})})}function je(r){if(me.value===void 0||f.value===null)return;const p=r[me.value.container],_=Math.min(f.value[me.value.scroll],Array.prototype.reduce.call(f.value.children,(S,V)=>S+(V[me.value.content]||0),0)),T=p>0&&_>p;F.value=T,T===!0&&d(le),ue.value=p<parseInt(a.breakpoint,10)}function ot(r,p){const _=r!=null&&r!==""?q.find(S=>S.name.value===r):null,T=p!=null&&p!==""?q.find(S=>S.name.value===p):null;if(_&&T){const S=_.tabIndicatorRef.value,V=T.tabIndicatorRef.value;M!==null&&(clearTimeout(M),M=null),S.style.transition="none",S.style.transform="none",V.style.transition="none",V.style.transform="none";const y=S.getBoundingClientRect(),j=V.getBoundingClientRect();V.style.transform=a.vertical===!0?`translate3d(0,${y.top-j.top}px,0) scale3d(1,${j.height?y.height/j.height:1},1)`:`translate3d(${y.left-j.left}px,0,0) scale3d(${j.width?y.width/j.width:1},1,1)`,x(()=>{M=setTimeout(()=>{M=null,V.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",V.style.transform="none"},70)})}T&&F.value===!0&&oe(T.rootRef.value)}function oe(r){const{left:p,width:_,top:T,height:S}=f.value.getBoundingClientRect(),V=r.getBoundingClientRect();let y=a.vertical===!0?V.top-T:V.left-p;if(y<0){f.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(y),le();return}y+=a.vertical===!0?V.height-S:V.width-_,y>0&&(f.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(y),le())}function le(){const r=f.value;if(r===null)return;const p=r.getBoundingClientRect(),_=a.vertical===!0?r.scrollTop:Math.abs(r.scrollLeft);ve.value===!0?(L.value=Math.ceil(_+p.width)<r.scrollWidth-1,ae.value=_>0):(L.value=_>0,ae.value=a.vertical===!0?Math.ceil(_+p.height)<r.scrollHeight:Math.ceil(_+p.width)<r.scrollWidth)}function De(r){U!==null&&clearInterval(U),U=setInterval(()=>{it(r)===!0&&O()},5)}function Re(){De(xe.value===!0?Number.MAX_SAFE_INTEGER:0)}function Qe(){De(xe.value===!0?0:Number.MAX_SAFE_INTEGER)}function O(){U!==null&&(clearInterval(U),U=null)}function lt(r,p){const _=Array.prototype.filter.call(f.value.children,j=>j===p||j.matches&&j.matches(".q-tab.q-focusable")===!0),T=_.length;if(T===0)return;if(r===36)return oe(_[0]),_[0].focus(),!0;if(r===35)return oe(_[T-1]),_[T-1].focus(),!0;const S=r===(a.vertical===!0?38:37),V=r===(a.vertical===!0?40:39),y=S===!0?-1:V===!0?1:void 0;if(y!==void 0){const j=ve.value===!0?-1:1,z=_.indexOf(p)+y*j;return z>=0&&z<T&&(oe(_[z]),_[z].focus({preventScroll:!0})),!0}}const st=I(()=>xe.value===!0?{get:r=>Math.abs(r.scrollLeft),set:(r,p)=>{r.scrollLeft=-p}}:a.vertical===!0?{get:r=>r.scrollTop,set:(r,p)=>{r.scrollTop=p}}:{get:r=>r.scrollLeft,set:(r,p)=>{r.scrollLeft=p}});function it(r){const p=f.value,{get:_,set:T}=st.value;let S=!1,V=_(p);const y=r<V?-1:1;return V+=y*5,V<0?(S=!0,V=0):(y===-1&&V<=r||y===1&&V>=r)&&(S=!0,V=r),T(p,V),le(),S}function Fe(r,p){for(const _ in r)if(r[_]!==p[_])return!1;return!0}function nt(){let r=null,p={matchedLen:0,queryDiff:9999,hrefLen:0};const _=q.filter(y=>y.routeData!==void 0&&y.routeData.hasRouterLink.value===!0),{hash:T,query:S}=b.$route,V=Object.keys(S).length;for(const y of _){const j=y.routeData.exact.value===!0;if(y.routeData[j===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:z,query:Ce,matched:mt,href:vt}=y.routeData.resolvedLink.value,Pe=Object.keys(Ce).length;if(j===!0){if(z!==T||Pe!==V||Fe(S,Ce)===!1)continue;r=y.name.value;break}if(z!==""&&z!==T||Pe!==0&&Fe(Ce,S)===!1)continue;const G={matchedLen:mt.length,queryDiff:V-Pe,hrefLen:vt.length-z.length};if(G.matchedLen>p.matchedLen){r=y.name.value,p=G;continue}else if(G.matchedLen!==p.matchedLen)continue;if(G.queryDiff<p.queryDiff)r=y.name.value,p=G;else if(G.queryDiff!==p.queryDiff)continue;G.hrefLen>p.hrefLen&&(r=y.name.value,p=G)}r===null&&q.some(y=>y.routeData===void 0&&y.name.value===h.value)===!0||Ve({name:r,setCurrent:!0})}function rt(r){if(C(),E.value!==!0&&v.value!==null&&r.target&&typeof r.target.closest=="function"){const p=r.target.closest(".q-tab");p&&v.value.contains(p)===!0&&(E.value=!0,F.value===!0&&oe(p))}}function dt(){A(()=>{E.value=!1},30)}function pe(){Be.avoidRouteWatcher===!1?c(nt):s()}function Le(){if(N===void 0){const r=ge(()=>b.$route.fullPath,pe);N=()=>{r(),N=void 0}}}function ct(r){q.push(r),B.value++,fe(),r.routeData===void 0||b.$route===void 0?c(()=>{if(F.value===!0){const p=h.value,_=p!=null&&p!==""?q.find(T=>T.name.value===p):null;_&&oe(_.rootRef.value)}}):(Le(),r.routeData.hasRouterLink.value===!0&&pe())}function ut(r){q.splice(q.indexOf(r),1),B.value--,fe(),N!==void 0&&r.routeData!==void 0&&(q.every(p=>p.routeData===void 0)===!0&&N(),pe())}const Be={currentModel:h,tabProps:J,hasFocus:E,hasActiveTab:Je,registerTab:ct,unregisterTab:ut,verifyRouteModel:pe,updateModel:Ve,onKbdNavigate:lt,avoidRouteWatcher:!1};$t(He,Be);function Ee(){M!==null&&clearTimeout(M),O(),N!==void 0&&N()}let Ue;return Ye(Ee),wt(()=>{Ue=N!==void 0,Ee()}),xt(()=>{Ue===!0&&Le(),fe()}),()=>Q("div",{ref:v,class:tt.value,role:"tablist",onFocusin:rt,onFocusout:dt},[Q(Qt,{onResize:je}),Q("div",{ref:f,class:at.value,onScroll:le},Oe(i.default)),Q(Z,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(L.value===!0?"":" q-tabs__arrow--faded"),name:a.leftIcon||n.iconSet.tabs[a.vertical===!0?"up":"left"],onMousedownPassive:Re,onTouchstartPassive:Re,onMouseupPassive:O,onMouseleavePassive:O,onTouchendPassive:O}),Q(Z,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(ae.value===!0?"":" q-tabs__arrow--faded"),name:a.rightIcon||n.iconSet.tabs[a.vertical===!0?"down":"right"],onMousedownPassive:Qe,onTouchstartPassive:Qe,onMouseupPassive:O,onMouseleavePassive:O,onTouchendPassive:O})])}}),de=qe({name:"QTabPanel",props:Lt,setup(a,{slots:i}){return()=>Q("div",{class:"q-tab-panel",role:"tabpanel"},Oe(i.default))}}),Ze=qe({name:"QTabPanels",props:{...Bt,...Vt},emits:Et,setup(a,{slots:i}){const m=Ie(),b=Ct(a,m.proxy.$q),{updatePanelsList:n,getPanelContent:g,panelDirectives:d}=Ut(),x=I(()=>"q-tab-panels q-panel-parent"+(b.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(i),Pt("div",{class:x.value},g(),"pan",a.swipeable,()=>d.value))}});const oa={class:"my-card"},la={class:"q-pt-none"},sa={class:"row q-pt-sm"},ia={class:"col-xs-12 col-md-8"},na={class:"row"},ra=e("div",{class:"col-11 flex justify-start items-center"},[e("label",{class:"text-h6 text-weight-medium"}," >> Datos del Cliente:")],-1),da={class:"col-xs-12 col-md-6 col-sm-6"},ca={class:"col-xs-12 col-md-6 col-sm-6"},ua={class:"col-xs-12 col-md-6 col-sm-6"},ma={class:"col-xs-12 col-md-6 col-sm-6"},va={class:"col-xs-12 col-md-6 col-sm-6"},fa={class:"col-xs-12 col-md-6 col-sm-6"},pa={class:"col-xs-11 col-md-4"},ga={class:"row"},ba=e("label",{class:"text-h6 text-weight-medium"}," >> Resumen Notificaciones:",-1),_a=[ba],ha=e("label",null,null,-1),qa={class:"row justify-center q-mt-md"},ya={__name:"ResumenPage",setup(a){const{formCliente:i,validaciones:m,validarDatosPersonales:b}=$e();return(n,g)=>(k(),D(we,{onSubmit:g[12]||(g[12]=()=>{})},{default:o(()=>[e("div",oa,[e("div",la,[e("div",sa,[e("div",ia,[e("div",na,[ra,e("div",{class:u(["col-xs-12 col-md-4 flex items-center",[n.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:u(n.$q.screen.width<1022||"q-pr-md")}," Cliente: ",2)],2),e("div",da,[t(Y,{modelValue:l(i).nombres,"onUpdate:modelValue":[g[0]||(g[0]=d=>l(i).nombres=d),g[1]||(g[1]=d=>(l(i).nombres=l(i).nombres.toUpperCase(),l(m).nombres.isValid=!0))],modelModifiers:{trim:!0},error:!l(m).nombres.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:o(()=>[e("label",{class:u(n.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).nombres.message),3)]),_:1},8,["modelValue","error"])]),e("div",{class:u(["col-xs-12 col-md-4 flex items-center",[n.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:u(n.$q.screen.width<1022||"q-pr-md")}," Email: ",2)],2),e("div",ca,[t(Y,{modelValue:l(i).email,"onUpdate:modelValue":g[2]||(g[2]=d=>l(i).email=d),modelModifiers:{trim:!0},error:!l(m).email.isValid,"input-class":"resaltarTextoInput",onKeyup:g[3]||(g[3]=d=>l(m).email.isValid=!0),dense:"",outlined:""},{error:o(()=>[e("label",{class:u(n.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).email.message),3)]),_:1},8,["modelValue","error"])]),e("div",{class:u(["col-xs-12 col-md-4 flex items-center",[n.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:u(n.$q.screen.width<1022||"q-pr-md")}," Celular: ",2)],2),e("div",ua,[t(Y,{type:n.$q.platform.is.mobile?"number":"text",modelValue:l(i).celular,"onUpdate:modelValue":g[4]||(g[4]=d=>l(i).celular=d),modelModifiers:{trim:!0},counter:"",maxlength:"10","input-class":"resaltarTextoInput",error:!l(m).celular.isValid,onKeyup:g[5]||(g[5]=d=>(l(m).celular.isValid=!0,l(i).celular=l(i).celular.replace(/\D/g,""))),dense:"",outlined:""},{error:o(()=>[e("label",{class:u(n.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).celular.message),3)]),_:1},8,["type","modelValue","error"])]),e("div",{class:u(["col-xs-12 col-md-4 flex items-center",[n.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:u(n.$q.screen.width<1022||"q-pr-md")}," Direcci\xF3n: ",2)],2),e("div",ma,[t(Y,{modelValue:l(i).direccion,"onUpdate:modelValue":g[6]||(g[6]=d=>l(i).direccion=d),error:!l(m).direccion.isValid,"input-class":"resaltarTextoInput",onKeyup:g[7]||(g[7]=d=>l(m).direccion.isValid=!0),dense:"",outlined:""},{error:o(()=>[e("label",{class:u(n.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).direccion.message),3)]),_:1},8,["modelValue","error"])]),e("div",{class:u(["col-xs-12 col-md-4 flex items-center",[n.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:u(n.$q.screen.width<1022||"q-pr-md")}," Tipo de Documento: ",2)],2),e("div",va,[t(W,{dense:"",modelValue:l(i).tipo_documento,"onUpdate:modelValue":[g[8]||(g[8]=d=>l(i).tipo_documento=d),g[9]||(g[9]=d=>l(m).tipo_documento.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!l(m).tipo_documento.isValid,"emit-value":"","map-options":"",options:[{label:"RUC",value:"04"},{label:"Cedula",value:"05"},{label:"Pasaporte",value:"06"}]},{error:o(()=>[e("label",{class:u(n.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).tipo_documento.message),3)]),_:1},8,["modelValue","error"])]),e("div",{class:u(["col-xs-12 col-md-4 flex items-center",[n.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[e("label",{class:u(n.$q.screen.width<1022||"q-pr-md")}," N. Identificaci\xF3n: ",2)],2),e("div",fa,[t(Y,{type:n.$q.platform.is.mobile?"number":"text",modelValue:l(i).numero_documento,"onUpdate:modelValue":g[10]||(g[10]=d=>l(i).numero_documento=d),readonly:l(i).tipo_documento==="","input-class":"resaltarTextoInput",counter:"",maxlength:l(i).tipo_documento==="04"?13:10,error:!l(m).numero_documento.isValid,onKeyup:g[11]||(g[11]=d=>(l(m).numero_documento.isValid=!0,l(i).numero_documento=l(i).numero_documento.replace(/\D/g,""))),dense:"",outlined:""},{error:o(()=>[e("label",{class:u(n.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).numero_documento.message),3)]),_:1},8,["type","modelValue","readonly","maxlength","error"])])])]),e("div",pa,[e("div",ga,[e("div",{class:u(["col-11 flex justify-start items-center",[n.$q.screen.xs?"q-my-md":""]])},_a,2),ha])])])]),e("div",qa,[e("div",{class:u(["q-pb-md",[n.$q.screen.width>600||" q-ml-lg"]])},[t(H,{type:"submit",icon:"save",outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:o(()=>[w(" \xA0 Guardar Cambios ")]),_:1})],2)])])]),_:1}))}};const $a={class:"my-card"},wa={class:"q-pt-none"},xa={class:"row q-pt-sm"},Va={class:"col-12"},Ca={class:"row"},Pa=e("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),ka={class:"text-h6 text-weight-medium"},Ta={class:"col-12 q-mt-md"},Sa={__name:"ServiciosPage",setup(a){const i=[{name:"cont",label:"#",align:"center"},{name:"nombre_plan",align:"center",label:"Plan",field:"nombre_plan"},{name:"precio",label:"Costo",field:"precio",align:"center"},{name:"ipv4",label:"IP",field:"ipv4",align:"center"},{name:"router",label:"Router",field:"router",align:"center"},{name:"fecha_instalacion",label:"Instalado",field:"fecha_instalacion",align:"center"},{name:"direccion",label:"Direcci\xF3n",field:"direccion",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}],{servicios:m}=ce(),b=m.value;return(n,g)=>(k(),D(we,{onSubmit:g[0]||(g[0]=()=>{})},{default:o(()=>[e("div",$a,[e("div",wa,[e("div",xa,[e("div",Va,[e("div",Ca,[e("div",{class:u(["col-12 flex items-center",n.$q.screen.xs?"justify-center":"justify-between"])},[Pa,e("label",ka,[t(H,{outline:"",color:"primary",label:"Agregar Servicio",class:u(["q-mr-xs",!n.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),e("div",Ta,[t(Ge,{rows:l(b),columns:i,class:u([n.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{"body-cell-cont":o(d=>[t(R,{props:d},{default:o(()=>[w($(d.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-estado":o(d=>[t(R,{props:d},{default:o(()=>[d.row.estado=="Activo"?(k(),D(ne,{key:0,outline:"",color:"positive",label:"Activo",class:"q-pa-sm"})):(k(),D(ne,{key:1,outline:"",color:"red",label:"Inactivo",class:"q-pa-sm"}))]),_:2},1032,["props"])]),"body-cell-acciones":o(d=>[t(R,{props:d},{default:o(()=>[w($(d.rowIndex+1),1)]),_:2},1032,["props"])]),_:1},8,["rows","class"])])])])])])])]),_:1}))}},Aa={class:"col-12 flex justify-start items-center q-pt-none"},Ia={class:"row"},Ma={class:"col-xs-12 col-md-7"},ja={class:"row"},Da={class:"col-xs-12 col-md-7"},Ra={class:"row"},Qa={class:"col-xs-12 col-md-7"},Fa={class:"row"},La={class:"col-xs-12 col-md-7"},Ba={class:"row"},Ea={class:"col-xs-12 col-md-7"},Ua={class:"row"},Na={class:"col-xs-12 col-md-7"},za={class:"col-12 flex justify-start items-center q-py-md"},Ka={class:"row"},Wa={class:"col-xs-12 col-md-7"},Ya={class:"col-md-12 q-py-md"},Ha={class:"row q-col-gutter-sm"},Oa={class:"col-xs-12 col-md-4"},Ga=e("span",{class:"text-weight-bold"},"15/12/2023",-1),Xa={class:"col-xs-12 col-md-4"},Za=e("span",{class:"text-weight-bold"},"15/12/2023 12:01 AM",-1),Ja={class:"col-xs-12 col-md-4"},eo=e("span",{class:"text-weight-bold"},"30/11/2023 12:01 AM",-1),to={__name:"ConfiguracionPage",setup(a){const{formFacturacion:i,validacionesFacturacion:m,validarFormFact:b,step:n}=$e(),{pagos:g}=ce();console.log(g);let d=new Array(28).fill(0).map((c,s)=>s+1),x=new Array(25).fill(0).map((c,s)=>`${s+1}  ${s==0?"D\xEDa":"D\xEDas"} antes`),A=new Array(25).fill(0).map((c,s)=>`${s+1}  ${s==0?"D\xEDa":"D\xEDas"}`),C=new Array(12).fill(0).map((c,s)=>`${s+1}  ${s==0?"Mes":"Meses"} ${s==0?"Vencido":"Vencidos"}`);return x.unshift("Desactivado"),C.unshift("Desactivado"),(c,s)=>(k(),te("div",{class:u(["row q-col-gutter-md",c.$q.screen.width>1022?"q-col-gutter-y-lg q-pt-md":""])},[e("div",Aa,[e("label",{class:u(["text-h6 text-weight-medium",c.$q.screen.width>1022||"q-pt-xs"])},[t(Z,{name:"description"}),w(" Facturaci\xF3n: ")],2)]),e("div",{class:u(["col-xs-12 col-md-6",(c.$q.screen.width<1022,"q-pt-xs")])},[e("div",Ia,[e("div",{class:u(["col-xs-12 col-md-4 flex items-center justify-end",[c.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:u(c.$q.screen.width<1022||"q-pr-md")}," Tipo: ",2)],2),e("div",Ma,[t(W,{dense:"",modelValue:l(i).tipo,"onUpdate:modelValue":[s[0]||(s[0]=v=>l(i).tipo=v),s[1]||(s[1]=v=>l(m).tipo.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!l(m).tipo.isValid,"emit-value":"","map-options":"",options:[{label:"Prepago (Adelantado)",value:"prepago"},{label:"Postpago (Vencido)",value:"postpago"}]},{error:o(()=>[e("label",{class:u(c.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).tipo.message),3)]),_:1},8,["modelValue","error","options"])])])],2),e("div",{class:u(["col-xs-12 col-md-6",c.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",ja,[e("div",{class:u(["col-xs-12 col-md-4 flex items-center justify-end",[c.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:u(c.$q.screen.width<1022||"q-pr-md")}," Dia Pago: ",2)],2),e("div",Da,[t(W,{dense:"",modelValue:l(i).dia_pago,"onUpdate:modelValue":[s[2]||(s[2]=v=>l(i).dia_pago=v),s[3]||(s[3]=v=>l(m).dia_pago.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:l(d),error:!l(m).dia_pago.isValid},{error:o(()=>[e("label",{class:u(c.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).dia_pago.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",{class:u(["col-xs-12 col-md-6",c.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",Ra,[e("div",{class:u(["col-xs-12 col-md-4 flex items-center justify-end",[c.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:u(c.$q.screen.width<1022||"q-pr-md")}," Crear Factura: ",2)],2),e("div",Qa,[t(W,{dense:"",modelValue:l(i).crear_factura,"onUpdate:modelValue":[s[4]||(s[4]=v=>l(i).crear_factura=v),s[5]||(s[5]=v=>l(m).crear_factura.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:l(x),error:!l(m).crear_factura.isValid},{error:o(()=>[e("label",{class:u(c.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).crear_factura.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",{class:u(["col-xs-12 col-md-6",c.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",Fa,[e("div",{class:u(["col-xs-12 col-md-4 flex items-center justify-end",[c.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:u(c.$q.screen.width<1022||"q-pr-md")}," Tipo Impuesto: ",2)],2),e("div",La,[t(W,{dense:"",modelValue:l(i).tipo_impuesto,"onUpdate:modelValue":[s[6]||(s[6]=v=>l(i).tipo_impuesto=v),s[7]||(s[7]=v=>l(m).tipo_impuesto.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:["Impuestos incluido","Mas impuestos","Ninguno"],error:!l(m).tipo_impuesto.isValid},{error:o(()=>[e("label",{class:u(c.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).tipo_impuesto.message),3)]),_:1},8,["modelValue","error"])])])],2),e("div",{class:u(["col-xs-12 col-md-6",c.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",Ba,[e("div",{class:u(["col-xs-12 col-md-4 flex items-center justify-end",[c.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:u(c.$q.screen.width<1022||"q-pr-md")}," D\xEDas de gracia: ",2)],2),e("div",Ea,[t(W,{dense:"",modelValue:l(i).dia_gracia,"onUpdate:modelValue":[s[8]||(s[8]=v=>l(i).dia_gracia=v),s[9]||(s[9]=v=>l(m).dia_gracia.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:l(A),hint:"*d\xEDas tolerancia para aplicar corte",error:!l(m).dia_gracia.isValid},{error:o(()=>[e("label",{class:u(c.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).dia_gracia.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",{class:u(["col-xs-12 col-md-6",c.$q.screen.width<1022?"q-pt-none":"q-pt-xs"])},[e("div",Ua,[e("div",{class:u(["col-xs-12 col-md-4 flex items-center justify-end",[c.$q.screen.width<1022?"justify-center q-mt-md q-pb-xs":"justify-end text-right q-pb-md"]])},[e("label",{class:u(c.$q.screen.width<1022||"q-pr-md")}," Aplicar Corte: ",2)],2),e("div",Na,[t(W,{dense:"",modelValue:l(i).aplicar_corte,"onUpdate:modelValue":[s[10]||(s[10]=v=>l(i).aplicar_corte=v),s[11]||(s[11]=v=>l(m).aplicar_corte.isValid=!0)],modelModifiers:{trim:!0},outlined:"",options:l(C),error:!l(m).aplicar_corte.isValid},{error:o(()=>[e("label",{class:u(c.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).aplicar_corte.message),3)]),_:1},8,["modelValue","options","error"])])])],2),e("div",za,[e("label",{class:u(["text-h6 text-weight-medium",c.$q.screen.width>1022||"q-pt-xs"])},[t(Z,{name:"notifications"}),w(" Notificaciones: ")],2)]),e("div",{class:u(["col-xs-12 col-md-6",(c.$q.screen.width<1022,"q-pt-xs")])},[e("div",Ka,[e("div",{class:u(["col-xs-12 col-md-4 flex items-center justify-end",[c.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[e("label",{class:u(c.$q.screen.width<1022||"q-pr-md")}," Recordatorios de pago: ",2)],2),e("div",Wa,[t(W,{dense:"",modelValue:l(i).recordatorio_pago,"onUpdate:modelValue":[s[12]||(s[12]=v=>l(i).recordatorio_pago=v),s[13]||(s[13]=v=>l(m).recordatorio_pago.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!l(m).recordatorio_pago.isValid,multiple:"","stack-label":"",options:["Correo","Telegram"]},{error:o(()=>[e("label",{class:u(c.$q.dark.isActive?"text-red-4":"text-negative")},$(l(m).recordatorio_pago.message),3)]),"selected-item":o(v=>[t(Nt,{color:"primary","text-color":"white",icon:"done",removable:"",dense:"",onRemove:f=>v.removeAtIndex(v.index),tabindex:v.tabindex,class:"q-ma-none"},{default:o(()=>[w($(v.opt),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","error"])])])],2),e("div",Ya,[e("div",Ha,[e("div",Oa,[t(ne,{class:"text-center flex-center q-py-md",style:{width:"100%","text-align":"center","font-size":"15px"},outline:"",color:"lime-7"},{default:o(()=>[w(" D\xEDa de pago: "),Ga]),_:1})]),e("div",Xa,[t(ne,{class:"text-center flex-center q-py-md",style:{width:"100%","text-align":"center","font-size":"15px"},outline:"",color:"red-4"},{default:o(()=>[w(" D\xEDa de corte: "),Za]),_:1})]),e("div",Ja,[t(ne,{class:"text-center flex-center q-py-md",style:{width:"100%","text-align":"center","font-size":"15px"},outline:"",color:"cyan-4"},{default:o(()=>[w(" Crear factura: "),eo]),_:1})])])]),e("div",{class:u(["col-xs-12 col-md-12 flex q-py-md",[c.$q.screen.width<600?"justify-center q-pt-none q-ml-md":"justify-between"]]),style:{"padding-bottom":"0px"}},[c.$q.screen.width>600?(k(),D(H,{key:0,icon:"arrow_back",onClick:s[14]||(s[14]=v=>n.value=1),outline:"",rounded:"",class:"q-ml-md",color:c.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:o(()=>[w(" \xA0 Anterior ")]),_:1},8,["color"])):he("",!0),t(H,{onClick:l(b),"icon-right":"arrow_forward",outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:o(()=>[w(" \xA0 Siguiente\xA0 ")]),_:1},8,["onClick"])],2)],2))}};const se=a=>(St("data-v-50764d20"),a=a(),At(),a),ao={class:"text-h6 text-center"},oo={class:"row q-pt-lg q-gutter-lg justify-center"},lo={class:"col-12"},so=se(()=>e("label",null,"Forma de pago:",-1)),io={class:"col-12"},no=se(()=>e("label",null,"N\xBA transacci\xF3n:",-1)),ro={class:"col-12"},co=se(()=>e("label",null,"Pagar Importe Total:",-1)),uo={class:"col-12"},mo=se(()=>e("label",null,"Monto a Cancelar:",-1)),vo={class:"col-12"},fo=se(()=>e("label",null,"Monto Pendiente:",-1)),po={class:"col-12"},go=se(()=>e("label",null,"Notas:",-1)),bo={class:"col-xs-9 col-sm-12 q-mt-lg q-mb-md flex justify-center"},_o={__name:"ModalPago",props:["servicio","nuevoPago"],setup(a){const i=a,m=["forma_pago","montoPendiente","montoCancelar"],{api:b,mostrarNotify:n}=$e(),{showModalPago:g}=ce(),d=P({forma_pago:"",num_transaccion:"",importe_total:!0,montoCancelar:"",montoPendiente:"",detalle:""}),x=P({forma_pago:{message:"",isValid:!0},montoPendiente:{message:"",isValid:!0},montoCancelar:{message:"",isValid:!0}});if(i.servicio.pagos.length==0)d.value.montoPendiente=i.servicio.precio,d.value.montoCancelar=i.servicio.precio;else{let v=0;i.servicio.pagos.forEach(h=>{v+=parseFloat(h.valor)});const f=parseFloat(i.servicio.precio)-v;d.value.montoPendiente=f.toString(),d.value.montoCancelar=f.toString()}const A=v=>{let f=0;f=d.value[v];const h=/^\d{0,9}(\.\d{1,2})?$/;setTimeout(function(){let F=0;if(F=d.value[v],!h.test(F.toString())){const L=parseFloat(f.toString().substring(0,f.toString().length-1));d.value[v]=L}},0)},C=()=>{let v=!1;return m.forEach(f=>{(d.value[f].length==0||d.value[f]==0)&&(x.value[f].message="Debes completar este campo",x.value[f].isValid=!1,v=!0)}),v},c=["Efectivo Oficina/Sucursal","Dep\xF3sito Bancario","Transferencia Bancaria","Facilito","Punto Agil"],s=async()=>{if(C())return;const v=Date.now(),f=_e.formatDate(v,"DD/MM/YYYY");i.nuevoPago&&i.servicio.pagos.push({valor:d.value.montoCancelar,fecha_abono:f,detalle:d.value.detalle,n_transaccion:d.value.num_transaccion,forma_pago:d.value.forma_pago});let h=0;i.servicio.pagos.forEach(L=>{h+=parseFloat(L.valor)});const F={pagos:i.servicio.pagos,estado:h>=parseFloat(d.value.montoPendiente)?"Pagado":"Pendiente"};try{const{data:L}=await b.patch(`/pagos/${i.servicio.pago_id}`,F);n("positive",L.msg),g.value=!1}catch(L){console.log(L)}};return(v,f)=>(k(),D(ye,{style:{width:"450px !important","max-width":"fit-content"}},{default:o(()=>[t(Ke,null,{default:o(()=>[e("div",ao,[w(" Agregar Pago "),ee(t(H,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[Wt]])])]),_:1}),t(Me,{inset:""}),t(Ke,{class:"q-pt-none"},{default:o(()=>[t(we,{onSubmit:s},{default:o(()=>[e("div",oo,[e("div",lo,[so,t(W,{color:"orange","transition-show":"scale","transition-hide":"scale","onUpdate:modelValue":[f[0]||(f[0]=h=>x.value.forma_pago.isValid=!0),f[1]||(f[1]=h=>d.value.forma_pago=h)],error:!x.value.forma_pago.isValid,outlined:"",modelValue:d.value.forma_pago,dense:"",options:c},{error:o(()=>[e("label",{class:u(v.$q.dark.isActive?"text-red-4":"text-negative")},$(x.value.forma_pago.message),3)]),_:1},8,["error","modelValue"])]),e("div",io,[no,t(Y,{modelValue:d.value.num_transaccion,"onUpdate:modelValue":f[2]||(f[2]=h=>d.value.num_transaccion=h),dense:"",outlined:""},null,8,["modelValue"])]),e("div",ro,[co,t(Tt,{color:"green","onUpdate:modelValue":[f[3]||(f[3]=h=>d.value.montoCancelar=d.value.montoPendiente),f[4]||(f[4]=h=>d.value.importe_total=h)],size:"lg",modelValue:d.value.importe_total},null,8,["modelValue"])]),e("div",uo,[mo,t(Y,{modelValue:d.value.montoCancelar,"onUpdate:modelValue":[f[5]||(f[5]=h=>d.value.montoCancelar=h),f[6]||(f[6]=h=>(A("montoCancelar"),x.value.montoCancelar.isValid=!0))],modelModifiers:{trim:!0},readonly:d.value.importe_total,"input-style":"padding-right: 27px;",type:"number",step:"0.01",error:!x.value.montoCancelar.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:o(()=>[e("label",{class:u(v.$q.dark.isActive?"text-red-4":"text-negative")},$(x.value.montoCancelar.message),3)]),prepend:o(()=>[t(Z,{name:"attach_money"})]),_:1},8,["modelValue","readonly","error"])]),e("div",vo,[fo,t(Y,{modelValue:d.value.montoPendiente,"onUpdate:modelValue":[f[7]||(f[7]=h=>d.value.montoPendiente=h),f[8]||(f[8]=h=>(A("montoPendiente"),x.value.montoPendiente.isValid=!0))],modelModifiers:{trim:!0},disable:"",type:"number",step:"0.01",error:!x.value.montoPendiente.isValid,"input-style":"padding-right: 27px;","input-class":"resaltarTextoInput",dense:"",outlined:""},{error:o(()=>[e("label",{class:u(v.$q.dark.isActive?"text-red-4":"text-negative")},$(x.value.montoCancelar.message),3)]),prepend:o(()=>[t(Z,{name:"attach_money"})]),_:1},8,["modelValue","error"])]),e("div",po,[go,t(Y,{modelValue:d.value.detalle,"onUpdate:modelValue":f[9]||(f[9]=h=>d.value.detalle=h),modelModifiers:{trim:!0},outlined:"",rows:"2",type:"textarea"},null,8,["modelValue"])]),e("div",bo,[t(H,{label:"guardar",class:"q-px-xl",type:"submit",color:"green-9"})])])]),_:1})]),_:1})]),_:1}))}};var ho=kt(_o,[["__scopeId","data-v-50764d20"]]);const qo={class:"my-card"},yo={class:"q-pt-none"},$o={class:"row q-pt-sm"},wo={class:"col-12"},xo={class:"row"},Vo=e("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),Co={class:"text-h6 text-weight-medium"},Po={class:"col-12 q-mt-md"},ko={class:"row q-col-gutter-sm"},To={__name:"IndexFacturas",setup(a){const i=[{name:"x",align:"center",label:" ",field:"x"},{name:"n_comprobantes",align:"center",label:"N. Comprobante",field:"n_comprobantes"},{name:"emitido",label:"Emitido",field:"emitido",align:"center"},{name:"vencimiento",label:"Vencimiento",field:"vencimiento",align:"center"},{name:"precio",label:"Total",field:"precio",align:"center"},{name:"iva",label:"Impuesto",field:"iva",align:"center"},{name:"pagado",label:"Pagado",field:"pagado",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}],m=P(!0),b=P({}),{api:n,servicios:g,pagos:d,showModalPago:x}=ce();return(async()=>{const{data:C}=await n.get("/pagos/find/"+g.value[0].servicio_id);C.forEach(c=>{const s=_e.addToDate(c.created_at,{days:c.servicio.factura_id.dia_pago});let v;c.servicio.factura_id.tipo_impuesto=="Impuestos incluido"?v=`$${Math.floor(parseFloat(c.servicio.precio)*.12*100)/100}`:v=0;let f=0;c.pagos.forEach(h=>{f+=parseFloat(h.valor)}),d.value.push({pago_id:c.id,emitido:_e.formatDate(c.created_at,"DD/MM/YYYY"),vencimiento:_e.formatDate(s,"DD/MM/YYYY"),precio:`${c.servicio.precio}`,iva:v,pagos:c.pagos.reverse(),pagado:f,estado:c.estado,cancelado:f>=parseFloat(c.servicio.precio)})})})(),(C,c)=>(k(),te(Ae,null,[t(we,{onSubmit:c[0]||(c[0]=()=>{})},{default:o(()=>[e("div",qo,[e("div",yo,[e("div",$o,[e("div",wo,[e("div",xo,[e("div",{class:u(["col-12 flex items-center",C.$q.screen.xs?"justify-center":"justify-between"])},[Vo,e("label",Co,[t(H,{outline:"",color:"primary",label:"Agregar Servicio",class:u(["q-mr-xs",!C.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),e("div",Po,[t(Ge,{rows:l(d),columns:i,class:u([C.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{body:o(s=>[t(We,{props:s},{default:o(()=>[s.row.pagos.length>1?(k(),D(R,{key:"x","auto-width":""},{default:o(()=>[t(H,{size:"sm",color:"accent",round:"",dense:"",onClick:v=>s.expand=!s.expand,icon:s.expand?"remove":"add"},null,8,["onClick","icon"])]),_:2},1024)):(k(),D(R,{key:1,"auto-width":""})),t(R,{key:"emitido",props:s},{default:o(()=>[w(" ---- ")]),_:2},1032,["props"]),t(R,{key:"emitido",props:s},{default:o(()=>[w($(s.row.emitido),1)]),_:2},1032,["props"]),t(R,{key:"vencimiento",props:s},{default:o(()=>[w($(s.row.vencimiento),1)]),_:2},1032,["props"]),t(R,{key:"precio",props:s},{default:o(()=>[w(" $"+$(s.row.precio),1)]),_:2},1032,["props"]),t(R,{key:"iva",props:s},{default:o(()=>[w($(s.row.emitido),1)]),_:2},1032,["props"]),t(R,{key:"pagado",props:s},{default:o(()=>[w(" $"+$(s.row.pagado),1)]),_:2},1032,["props"]),t(R,{key:"estado",props:s},{default:o(()=>[w($(s.row.estado),1)]),_:2},1032,["props"]),t(R,{key:"acciones",props:s},{default:o(()=>[s.row.cancelado?he("",!0):(k(),D(H,{key:0,round:"",color:"blue-grey",onClick:v=>(x.value=!0,b.value=s.row),icon:"done",size:"10px",class:"q-mr-sm"},{default:o(()=>[t(zt,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:o(()=>[w(" Agregar Pago ")]),_:1})]),_:2},1032,["onClick"]))]),_:2},1032,["props"])]),_:2},1032,["props"]),ee(t(We,{props:s},{default:o(()=>[t(R,{colspan:"100%"},{default:o(()=>[e("div",ko,[(k(!0),te(Ae,null,It(s.row.pagos,(v,f)=>(k(),te("div",{key:f,class:"col-4"},[t(Kt,{bordered:"",padding:"",dense:""},{default:o(()=>[t(K,{header:"",class:"text-center"},{default:o(()=>[w(" Fecha Abonado: "+$(v.fecha_abono),1)]),_:2},1024),ee((k(),D(be,{tag:"label"},{default:o(()=>[t(X,null,{default:o(()=>[t(K,null,{default:o(()=>[w("Forma de Pago:")]),_:1})]),_:1}),t(X,{side:"",top:""},{default:o(()=>[t(K,null,{default:o(()=>[w($(v.forma_pago),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]]),ee((k(),D(be,{tag:"label",class:""},{default:o(()=>[t(X,null,{default:o(()=>[t(K,null,{default:o(()=>[w("Valor Abonado:")]),_:1})]),_:1}),t(X,{side:"",top:""},{default:o(()=>[t(K,null,{default:o(()=>[w("$"+$(v.valor),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]]),ee((k(),D(be,{tag:"label"},{default:o(()=>[t(X,null,{default:o(()=>[t(K,null,{default:o(()=>[w("N\xBA transacci\xF3n:")]),_:1})]),_:1}),t(X,{side:"",top:""},{default:o(()=>[t(K,null,{default:o(()=>[w($(v.n_transaccion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]]),ee((k(),D(be,{tag:"label"},{default:o(()=>[t(X,null,{default:o(()=>[t(K,null,{default:o(()=>[w("Detalle:")]),_:1})]),_:1}),t(X,{side:"",top:""},{default:o(()=>[t(K,null,{default:o(()=>[w($(v.detalle==""?"Sin detalles":v.detalle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ie]])]),_:2},1024)]))),128))])]),_:2},1024)]),_:2},1032,["props"]),[[Mt,s.expand]])]),_:1},8,["rows","class"])])])])])])])]),_:1}),t(Dt,{modelValue:l(x),"onUpdate:modelValue":c[1]||(c[1]=s=>jt(x)?x.value=s:null)},{default:o(()=>[t(ho,{servicio:b.value,nuevoPago:m.value},null,8,["servicio","nuevoPago"])]),_:1},8,["modelValue"])],64))}},So={class:"q-gutter-y-md"},Ao={__name:"FacturacionPagos",setup(a){const i=P("facturas");return(m,b)=>(k(),te("div",So,[t(ye,null,{default:o(()=>[t(Xe,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=n=>i.value=n),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:o(()=>[t(re,{name:"facturas",label:"Facturas"}),t(re,{name:"configuracion",label:"Configuraci\xF3n"})]),_:1},8,["modelValue"]),t(Me),t(Ze,{modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=n=>i.value=n),animated:""},{default:o(()=>[t(de,{name:"facturas"},{default:o(()=>[t(To)]),_:1}),t(de,{name:"configuracion"},{default:o(()=>[t(to)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};const Io={class:"q-gutter-y-md"},Mo={__name:"IndexPage",setup(a){const i=P("resumen");return(m,b)=>(k(),te("div",Io,[t(ye,null,{default:o(()=>[t(Xe,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=n=>i.value=n),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:o(()=>[t(re,{name:"resumen",label:"Resumen"}),t(re,{name:"servicios",label:"Servicios"}),t(re,{name:"facturacion/pagos",label:"Facturaci\xF3n/Pagos"})]),_:1},8,["modelValue"]),t(Me),t(Ze,{modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=n=>i.value=n),animated:""},{default:o(()=>[t(de,{name:"resumen"},{default:o(()=>[t(ya)]),_:1}),t(de,{name:"servicios"},{default:o(()=>[i.value=="servicios"?(k(),D(Sa,{key:0})):he("",!0)]),_:1}),t(de,{name:"facturacion/pagos"},{default:o(()=>[i.value=="facturacion/pagos"?(k(),D(Ao,{key:0})):he("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}},jo={class:"q-ma-lg q-pt-md"},Do={class:"row q-col-gutter-md",style:{"justify-content":"center"}},Ro={class:"text-h6 text-center",style:{position:"relative",top:"-8px",left:"17px"}},Qo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},Fo={class:"col-xs-11 col-md-11 q-pt-xs"},il={__name:"EditCliente",setup(a){const{api:i,route:m,formCliente:b,formFacturacion:n}=$e(),{servicios:g}=ce(),d=P("");return(async()=>{g.value=[];const{data:A}=await i.get("/customers/find/"+m.params.client_id);A[0].planInternet.forEach(C=>{n.value={...C.factura_id},g.value.push({servicio_id:C.id,precio:C.precio,direccion:`${C.direccion==""?"- - - - -":C.direccion}`,fecha_instalacion:C.fecha_instalacion,ipv4:C.ipv4,nombre_plan:C.perfil_internet.nombre_plan,router:C.router_id.nombre,estado:`${C.isActive?"Activo":"Inactivo"}`})}),d.value=A[0].nombres,b.value={...A[0]}})(),(A,C)=>(k(),te(Ae,null,[e("div",jo,[e("div",Do,[e("div",{class:u(["col-xs-12 q-pl-none",[A.$q.screen.width<1022?"q-pt-sm col-md-6":"col-md-6"]])},[t(ft,{class:u(["row q-mr-xs",[A.$q.screen.width<1022?"justify-center q-pt-sm":"justify-start "]])},{default:o(()=>[t(ke,{label:"Inicio",icon:"home",to:"/"}),t(ke,{label:"Clientes",icon:"fa-solid fa-list",to:"/clientes"}),t(ke,{label:"Nuevo",icon:"add_circle"})]),_:1},8,["class"])],2),e("div",{class:u(["col-xs-12",[A.$q.screen.width<1022?"text-center q-pt-sm col-md-6 q-pl-none":"text-right col-md-5"]])},[e("label",Ro,$(d.value),1)],2)])]),e("div",Qo,[e("div",Fo,[t(ye,{flat:"",class:"shadow_custom q-pt-none"},{default:o(()=>[t(Mo,{edit:!0})]),_:1})])])],64))}};export{il as default};

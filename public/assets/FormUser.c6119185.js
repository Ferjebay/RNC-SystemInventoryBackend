import{l as Ye,I as Je,b5 as nl,K as Xe,bn as sl,r as R,m as S,C as fe,az as rl,p as ul,n as b,z as Ze,bo as cl,be as dl,aD as vl,O as Re,h as Ce,y as el,b9 as ml,bc as fl,bm as bl,i as j,a$ as hl,S as He,R as gl,b0 as We,u as yl,d as _l,t as pl,o as ne,c as pe,f as v,g as k,af as u,aR as Cl,ak as kl,aN as Sl,aO as El,e as r,Q,ag as je,w as Al,ac as De,ah as Pe,ab as Ge,bi as Z,aQ as xl,aP as ql}from"./index.33b032fc.js";import{Q as Oe,b as $e}from"./QItemLabel.a60e0dd2.js";import{Q as Ve}from"./QSelect.b237a0f5.js";import{T as Ml,Q as Fl}from"./TouchPan.a45eba8b.js";import{u as Pl,a as Vl,b as Nl,g as wl,Q as Qe}from"./QPopupProxy.afc5ad50.js";import{_ as Ne,f as Rl}from"./date.8cae50d5.js";import{p as me}from"./format.2bc25e5f.js";import{Q as Tl}from"./QForm.48b7518b.js";import{C as Le}from"./ClosePopup.a02205e7.js";import{u as zl,a as Il}from"./AddEmpresa.3813a5f4.js";import{u as jl}from"./useHelpers.1a30e8cf.js";import{api as Te}from"./axios.af8f8fcb.js";function Dl(e,P){if(e.hour!==null){if(e.minute===null)return"minute";if(P===!0&&e.second===null)return"second"}return"hour"}function Ul(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Be=Ye({name:"QTime",props:{...Je,...nl,...Pl,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Vl,setup(e,{slots:P,emit:F}){const z=Ze(),{$q:V}=z.proxy,G=Xe(e,V),{tabindex:q,headerClass:s,getLocale:I,getCurrentDate:L}=Nl(e,V),be=sl(e),se=cl(be);let K,D;const O=R(null),B=S(()=>h()),$=S(()=>I()),N=S(()=>d()),H=Ne(e.modelValue,B.value,$.value,e.calendar,N.value),f=R(Dl(H)),l=R(H),o=R(H.hour===null||H.hour<12),ze=S(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(G.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),re=S(()=>{const a=l.value;return{hour:a.hour===null?"--":w.value===!0?me(a.hour):String(o.value===!0?a.hour===0?12:a.hour:a.hour>12?a.hour-12:a.hour),minute:a.minute===null?"--":me(a.minute),second:a.second===null?"--":me(a.second)}}),w=S(()=>e.format24h!==null?e.format24h:V.lang.date.format24h),ke=S(()=>{const a=f.value==="hour",n=a===!0?12:60,m=l.value[f.value];let x=`rotate(${Math.round(m*(360/n))-180}deg) translateX(-50%)`;return a===!0&&w.value===!0&&l.value.hour>=12&&(x+=" scale(.7)"),{transform:x}}),Se=S(()=>l.value.hour!==null),ue=S(()=>Se.value===!0&&l.value.minute!==null),ee=S(()=>e.hourOptions!==void 0?a=>e.hourOptions.includes(a):e.options!==void 0?a=>e.options(a,null,null):null),le=S(()=>e.minuteOptions!==void 0?a=>e.minuteOptions.includes(a):e.options!==void 0?a=>e.options(l.value.hour,a,null):null),ce=S(()=>e.secondOptions!==void 0?a=>e.secondOptions.includes(a):e.options!==void 0?a=>e.options(l.value.hour,l.value.minute,a):null),U=S(()=>{if(ee.value===null)return null;const a=i(0,11,ee.value),n=i(12,11,ee.value);return{am:a,pm:n,values:a.values.concat(n.values)}}),ae=S(()=>le.value!==null?i(0,59,le.value):null),te=S(()=>ce.value!==null?i(0,59,ce.value):null),ie=S(()=>{switch(f.value){case"hour":return U.value;case"minute":return ae.value;case"second":return te.value}}),Ee=S(()=>{let a,n,m=0,_=1;const x=ie.value!==null?ie.value.values:void 0;f.value==="hour"?w.value===!0?(a=0,n=23):(a=0,n=11,o.value===!1&&(m=12)):(a=0,n=55,_=5);const W=[];for(let g=a,T=a;g<=n;g+=_,T++){const oe=g+m,il=x!==void 0&&x.includes(oe)===!1,ol=f.value==="hour"&&g===0?w.value===!0?"00":"12":g;W.push({val:oe,index:T,disable:il,label:ol})}return W}),he=S(()=>[[Ml,Y,void 0,{stop:!0,prevent:!0,mouse:!0}]]);fe(()=>e.modelValue,a=>{const n=Ne(a,B.value,$.value,e.calendar,N.value);(n.dateHash!==l.value.dateHash||n.timeHash!==l.value.timeHash)&&(l.value=n,n.hour===null?f.value="hour":o.value=n.hour<12)}),fe([B,$],()=>{el(()=>{Ie()})});function Ae(){const a={...L(),...Ul()};Ie(a),Object.assign(l.value,a),f.value="hour"}function i(a,n,m){const _=Array.apply(null,{length:n+1}).map((x,W)=>{const g=W+a;return{index:g,val:m(g)===!0}}).filter(x=>x.val===!0).map(x=>x.index);return{min:_[0],max:_[_.length-1],values:_,threshold:n+1}}function c(a,n,m){const _=Math.abs(a-n);return Math.min(_,m-_)}function t(a,{min:n,max:m,values:_,threshold:x}){if(a===n)return n;if(a<n||a>m)return c(a,n,x)<=c(a,m,x)?n:m;const W=_.findIndex(oe=>a<=oe),g=_[W-1],T=_[W];return a-g<=T-a?g:T}function h(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function d(){if(typeof e.defaultDate!="string"){const a=L(!0);return a.dateHash=wl(a),a}return Ne(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function C(){return dl(z)===!0||ie.value!==null&&(ie.value.values.length===0||f.value==="hour"&&w.value!==!0&&U.value[o.value===!0?"am":"pm"].values.length===0)}function E(){const a=O.value,{top:n,left:m,width:_}=a.getBoundingClientRect(),x=_/2;return{top:n+x,left:m+x,dist:x*.7}}function Y(a){if(C()!==!0){if(a.isFirst===!0){K=E(),D=de(a.evt,K);return}D=de(a.evt,K,D),a.isFinal===!0&&(K=!1,D=null,M())}}function M(){f.value==="hour"?f.value="minute":e.withSeconds&&f.value==="minute"&&(f.value="second")}function de(a,n,m){const _=rl(a),x=Math.abs(_.top-n.top),W=Math.sqrt(Math.pow(Math.abs(_.top-n.top),2)+Math.pow(Math.abs(_.left-n.left),2));let g,T=Math.asin(x/W)*(180/Math.PI);if(_.top<n.top?T=n.left<_.left?90-T:270+T:T=n.left<_.left?T+90:270-T,f.value==="hour"){if(g=T/30,U.value!==null){const oe=w.value!==!0?o.value===!0:U.value.am.values.length!==0&&U.value.pm.values.length!==0?W>=n.dist:U.value.am.values.length!==0;g=t(g+(oe===!0?0:12),U.value[oe===!0?"am":"pm"])}else g=Math.round(g),w.value===!0?W<n.dist?g<12&&(g+=12):g===12&&(g=0):o.value===!0&&g===12?g=0:o.value===!1&&g!==12&&(g+=12);w.value===!0&&(o.value=g<12)}else g=Math.round(T/6)%60,f.value==="minute"&&ae.value!==null?g=t(g,ae.value):f.value==="second"&&te.value!==null&&(g=t(g,te.value));return m!==g&&ll[f.value](g),g}const J={hour(){f.value="hour"},minute(){f.value="minute"},second(){f.value="second"}};function xe(a){a.keyCode===13&&Ue()}function ge(a){a.keyCode===13&&Ke()}function ye(a){C()!==!0&&(V.platform.is.desktop!==!0&&de(a,E()),M())}function X(a){C()!==!0&&de(a,E())}function y(a){if(a.keyCode===13)f.value="hour";else if([37,39].includes(a.keyCode)){const n=a.keyCode===37?-1:1;if(U.value!==null){const m=w.value===!0?U.value.values:U.value[o.value===!0?"am":"pm"].values;if(m.length===0)return;if(l.value.hour===null)ve(m[0]);else{const _=(m.length+m.indexOf(l.value.hour)+n)%m.length;ve(m[_])}}else{const m=w.value===!0?24:12,_=w.value!==!0&&o.value===!1?12:0,x=l.value.hour===null?-n:l.value.hour;ve(_+(24+x+n)%m)}}}function A(a){if(a.keyCode===13)f.value="minute";else if([37,39].includes(a.keyCode)){const n=a.keyCode===37?-1:1;if(ae.value!==null){const m=ae.value.values;if(m.length===0)return;if(l.value.minute===null)Me(m[0]);else{const _=(m.length+m.indexOf(l.value.minute)+n)%m.length;Me(m[_])}}else{const m=l.value.minute===null?-n:l.value.minute;Me((60+m+n)%60)}}}function qe(a){if(a.keyCode===13)f.value="second";else if([37,39].includes(a.keyCode)){const n=a.keyCode===37?-1:1;if(te.value!==null){const m=te.value.values;if(m.length===0)return;if(l.value.seconds===null)Fe(m[0]);else{const _=(m.length+m.indexOf(l.value.second)+n)%m.length;Fe(m[_])}}else{const m=l.value.second===null?-n:l.value.second;Fe((60+m+n)%60)}}}function ve(a){l.value.hour!==a&&(l.value.hour=a,_e())}function Me(a){l.value.minute!==a&&(l.value.minute=a,_e())}function Fe(a){l.value.second!==a&&(l.value.second=a,_e())}const ll={hour:ve,minute:Me,second:Fe};function Ue(){o.value===!1&&(o.value=!0,l.value.hour!==null&&(l.value.hour-=12,_e()))}function Ke(){o.value===!0&&(o.value=!1,l.value.hour!==null&&(l.value.hour+=12,_e()))}function _e(){if(ee.value!==null&&ee.value(l.value.hour)!==!0){l.value=Ne(),f.value="hour";return}if(le.value!==null&&le.value(l.value.minute)!==!0){l.value.minute=null,l.value.second=null,f.value="minute";return}if(e.withSeconds===!0&&ce.value!==null&&ce.value(l.value.second)!==!0){l.value.second=null,f.value="second";return}l.value.hour===null||l.value.minute===null||e.withSeconds===!0&&l.value.second===null||Ie()}function Ie(a){const n=Object.assign({...l.value},a),m=e.calendar==="persian"?me(n.hour)+":"+me(n.minute)+(e.withSeconds===!0?":"+me(n.second):""):Rl(new Date(n.year,n.month===null?null:n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond),B.value,$.value,n.year,n.timezoneOffset);n.changed=m!==e.modelValue,F("update:modelValue",m,n)}function al(){const a=[b("div",{class:"q-time__link "+(f.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:J.hour,onKeyup:y},re.value.hour),b("div",":"),b("div",Se.value===!0?{class:"q-time__link "+(f.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onKeyup:A,onClick:J.minute}:{class:"q-time__link"},re.value.minute)];e.withSeconds===!0&&a.push(b("div",":"),b("div",ue.value===!0?{class:"q-time__link "+(f.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onKeyup:qe,onClick:J.second}:{class:"q-time__link"},re.value.second));const n=[b("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},a)];return w.value===!1&&n.push(b("div",{class:"q-time__header-ampm column items-between no-wrap"},[b("div",{class:"q-time__link "+(o.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:Ue,onKeyup:xe},"AM"),b("div",{class:"q-time__link "+(o.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:Ke,onKeyup:ge},"PM")])),b("div",{class:"q-time__header flex flex-center no-wrap "+s.value},n)}function tl(){const a=l.value[f.value];return b("div",{class:"q-time__content col relative-position"},[b(vl,{name:"q-transition--scale"},()=>b("div",{key:"clock"+f.value,class:"q-time__container-parent absolute-full"},[b("div",{ref:O,class:"q-time__container-child fit overflow-hidden"},[Re(b("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:ye,onMousedown:X},[b("div",{class:"q-time__clock-circle fit"},[b("div",{class:"q-time__clock-pointer"+(l.value[f.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:ke.value}),Ee.value.map(n=>b("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${n.index}`+(n.val===a?" q-time__clock-position--active "+s.value:n.disable===!0?" q-time__clock-position--disable":"")},[b("span",n.label)]))])]),he.value)])])),e.nowBtn===!0?b(Ce,{class:"q-time__now-button absolute",icon:V.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:q.value,onClick:Ae}):null])}return z.proxy.setNow=Ae,()=>{const a=[tl()],n=ul(P.default);return n!==void 0&&a.push(b("div",{class:"q-time__actions"},n)),e.name!==void 0&&e.disable!==!0&&se(a,"push"),b("div",{class:ze.value,tabindex:-1},[al(),b("div",{class:"q-time__main col overflow-auto"},a)])}}});const Kl=["none","strict","leaf","leaf-filtered"];var Hl=Ye({name:"QTree",props:{...Je,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Kl.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:P,emit:F}){const{proxy:z}=Ze(),{$q:V}=z,G=Xe(e,V),q=R({}),s=R(e.ticked||[]),I=R(e.expanded||[]);let L={};ml(()=>{L={}});const be=S(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(G.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),se=S(()=>e.selected!==void 0),K=S(()=>e.icon||V.iconSet.tree.icon),D=S(()=>e.controlColor||e.color),O=S(()=>e.textColor!==void 0?` text-${e.textColor}`:""),B=S(()=>{const i=e.selectedColor||e.color;return i?` text-${i}`:""}),$=S(()=>e.filterMethod!==void 0?e.filterMethod:(i,c)=>{const t=c.toLowerCase();return i[e.labelKey]&&i[e.labelKey].toLowerCase().indexOf(t)>-1}),N=S(()=>{const i={},c=(t,h)=>{const d=t.tickStrategy||(h?h.tickStrategy:e.tickStrategy),C=t[e.nodeKey],E=t[e.childrenKey]&&Array.isArray(t[e.childrenKey])&&t[e.childrenKey].length!==0,Y=t.disabled!==!0&&se.value===!0&&t.selectable!==!1,M=t.disabled!==!0&&t.expandable!==!1,de=d!=="none",J=d==="strict",xe=d==="leaf-filtered",ge=d==="leaf"||d==="leaf-filtered";let ye=t.disabled!==!0&&t.tickable!==!1;ge===!0&&ye===!0&&h&&h.tickable!==!0&&(ye=!1);let X=t.lazy;X===!0&&q.value[C]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(X=q.value[C]);const y={key:C,parent:h,isParent:E,lazy:X,disabled:t.disabled,link:t.disabled!==!0&&(Y===!0||M===!0&&(E===!0||X===!0)),children:[],matchesFilter:e.filter?$.value(t,e.filter):!0,selected:C===e.selected&&Y===!0,selectable:Y,expanded:E===!0?I.value.includes(C):!1,expandable:M,noTick:t.noTick===!0||J!==!0&&X&&X!=="loaded",tickable:ye,tickStrategy:d,hasTicking:de,strictTicking:J,leafFilteredTicking:xe,leafTicking:ge,ticked:J===!0?s.value.includes(C):E===!0?!1:s.value.includes(C)};if(i[C]=y,E===!0&&(y.children=t[e.childrenKey].map(A=>c(A,y)),e.filter&&(y.matchesFilter!==!0?y.matchesFilter=y.children.some(A=>A.matchesFilter):y.noTick!==!0&&y.disabled!==!0&&y.tickable===!0&&xe===!0&&y.children.every(A=>A.matchesFilter!==!0||A.noTick===!0||A.tickable!==!0)===!0&&(y.tickable=!1)),y.matchesFilter===!0&&(y.noTick!==!0&&J!==!0&&y.children.every(A=>A.noTick)===!0&&(y.noTick=!0),ge))){if(y.ticked=!1,y.indeterminate=y.children.some(A=>A.indeterminate===!0),y.tickable=y.tickable===!0&&y.children.some(A=>A.tickable),y.indeterminate!==!0){const A=y.children.reduce((qe,ve)=>ve.ticked===!0?qe+1:qe,0);A===y.children.length?y.ticked=!0:A>0&&(y.indeterminate=!0)}y.indeterminate===!0&&(y.indeterminateNextState=y.children.every(A=>A.tickable!==!0||A.ticked!==!0))}return y};return e.nodes.forEach(t=>c(t,null)),i});fe(()=>e.ticked,i=>{s.value=i}),fe(()=>e.expanded,i=>{I.value=i});function H(i){const c=[].reduce,t=(h,d)=>{if(h||!d)return h;if(Array.isArray(d)===!0)return c.call(Object(d),t,h);if(d[e.nodeKey]===i)return d;if(d[e.childrenKey])return t(null,d[e.childrenKey])};return t(null,e.nodes)}function f(){return s.value.map(i=>H(i))}function l(){return I.value.map(i=>H(i))}function o(i){return i&&N.value[i]?N.value[i].expanded:!1}function ze(){e.expanded!==void 0?F("update:expanded",[]):I.value=[]}function re(){const i=[],c=t=>{t[e.childrenKey]&&t[e.childrenKey].length!==0&&t.expandable!==!1&&t.disabled!==!0&&(i.push(t[e.nodeKey]),t[e.childrenKey].forEach(c))};e.nodes.forEach(c),e.expanded!==void 0?F("update:expanded",i):I.value=i}function w(i,c,t=H(i),h=N.value[i]){if(h.lazy&&h.lazy!=="loaded"){if(h.lazy==="loading")return;q.value[i]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),F("lazyLoad",{node:t,key:i,done:d=>{q.value[i]="loaded",t[e.childrenKey]=Array.isArray(d)===!0?d:[],el(()=>{const C=N.value[i];C&&C.isParent===!0&&ke(i,!0)})},fail:()=>{delete q.value[i],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else h.isParent===!0&&h.expandable===!0&&ke(i,c)}function ke(i,c){let t=I.value;const h=e.expanded!==void 0;if(h===!0&&(t=t.slice()),c){if(e.accordion&&N.value[i]){const d=[];N.value[i].parent?N.value[i].parent.children.forEach(C=>{C.key!==i&&C.expandable===!0&&d.push(C.key)}):e.nodes.forEach(C=>{const E=C[e.nodeKey];E!==i&&d.push(E)}),d.length!==0&&(t=t.filter(C=>d.includes(C)===!1))}t=t.concat([i]).filter((d,C,E)=>E.indexOf(d)===C)}else t=t.filter(d=>d!==i);h===!0?F("update:expanded",t):I.value=t}function Se(i){return i&&N.value[i]?N.value[i].ticked:!1}function ue(i,c){let t=s.value;const h=e.ticked!==void 0;h===!0&&(t=t.slice()),c?t=t.concat(i).filter((d,C,E)=>E.indexOf(d)===C):t=t.filter(d=>i.includes(d)===!1),h===!0&&F("update:ticked",t)}function ee(i,c,t){const h={tree:z,node:i,key:t,color:e.color,dark:G.value};return We(h,"expanded",()=>c.expanded,d=>{d!==c.expanded&&w(t,d)}),We(h,"ticked",()=>c.ticked,d=>{d!==c.ticked&&ue([t],d)}),h}function le(i){return(e.filter?i.filter(c=>N.value[c[e.nodeKey]].matchesFilter):i).map(c=>te(c))}function ce(i){if(i.icon!==void 0)return b(j,{class:"q-tree__icon q-mr-sm",name:i.icon,color:i.iconColor});const c=i.img||i.avatar;if(c)return b("img",{class:`q-tree__${i.img?"img":"avatar"} q-mr-sm`,src:c})}function U(){F("afterShow")}function ae(){F("afterHide")}function te(i){const c=i[e.nodeKey],t=N.value[c],h=i.header&&P[`header-${i.header}`]||P["default-header"],d=t.isParent===!0?le(i[e.childrenKey]):[],C=d.length!==0||t.lazy&&t.lazy!=="loaded";let E=i.body&&P[`body-${i.body}`]||P["default-body"];const Y=h!==void 0||E!==void 0?ee(i,t,c):null;return E!==void 0&&(E=b("div",{class:"q-tree__node-body relative-position"},[b("div",{class:O.value},[E(Y)])])),b("div",{key:c,class:`q-tree__node relative-position q-tree__node--${C===!0?"parent":"child"}`},[b("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:M=>{Ee(i,t,M)},onKeypress(M){fl(M)!==!0&&(M.keyCode===13?Ee(i,t,M,!0):M.keyCode===32&&he(i,t,M,!0))}},[b("div",{class:"q-focus-helper",tabindex:-1,ref:M=>{L[t.key]=M}}),t.lazy==="loading"?b(bl,{class:"q-tree__spinner",color:D.value}):C===!0?b(j,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:K.value,onClick(M){he(i,t,M)}}):null,t.hasTicking===!0&&t.noTick!==!0?b(hl,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:D.value,dark:G.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:He,"onUpdate:modelValue":M=>{Ae(t,M)}}):null,b("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?B.value:O.value)},[h?h(Y):[ce(i),b("div",i[e.labelKey])]])]),C===!0?e.noTransition===!0?b("div",{class:"q-tree__node-collapsible"+O.value,key:`${c}__q`},[E,b("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?d:null)]):b(Fl,{duration:e.duration,onShow:U,onHide:ae},()=>Re(b("div",{class:"q-tree__node-collapsible"+O.value,key:`${c}__q`},[E,b("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},d)]),[[gl,t.expanded]])):E])}function ie(i){const c=L[i];c&&c.focus()}function Ee(i,c,t,h){h!==!0&&c.selectable!==!1&&ie(c.key),se.value&&c.selectable?e.noSelectionUnset===!1?F("update:selected",c.key!==e.selected?c.key:null):c.key!==e.selected&&F("update:selected",c.key===void 0?null:c.key):he(i,c,t,h),typeof i.handler=="function"&&i.handler(i)}function he(i,c,t,h){t!==void 0&&He(t),h!==!0&&c.selectable!==!1&&ie(c.key),w(c.key,!c.expanded,i,c)}function Ae(i,c){if(i.indeterminate===!0&&(c=i.indeterminateNextState),i.strictTicking)ue([i.key],c);else if(i.leafTicking){const t=[],h=d=>{d.isParent?(c!==!0&&d.noTick!==!0&&d.tickable===!0&&t.push(d.key),d.leafTicking===!0&&d.children.forEach(h)):d.noTick!==!0&&d.tickable===!0&&(d.leafFilteredTicking!==!0||d.matchesFilter===!0)&&t.push(d.key)};h(i),ue(t,c)}}return e.defaultExpandAll===!0&&re(),Object.assign(z,{getNodeByKey:H,getTickedNodes:f,getExpandedNodes:l,isExpanded:o,collapseAll:ze,expandAll:re,setExpanded:w,isTicked:Se,setTicked:ue}),()=>{const i=le(e.nodes);return b("div",{class:be.value},i.length===0?e.filter?e.noResultsLabel||V.lang.tree.noResults:e.noNodesLabel||V.lang.tree.noNodes:i)}}}),Wl=[{label:"Seleccionar todos los permisos",value:"Seleccionar todos los permisos",children:[{label:"Gesti\xF3n de Red",value:"Gesti\xF3n de Red",children:[{label:"Router",value:"Router",children:[{label:"Acceso Men\xFA",value:"GestionRed-Router-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Router-Nuevo"},{label:"Editar",value:"GestionRed-Router-Editar"},{label:"Eliminar",value:"GestionRed-Router-Eliminar"}]},{label:"Redes Ipv4",value:"Redes Ipv4",children:[{label:"Acceso Men\xFA",value:"GestionRed-Redes-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Redes-Nuevo"},{label:"Editar",value:"GestionRed-Redes-Editar"},{label:"Eliminar",value:"GestionRed-Redes-Eliminar"},{label:"Escanear Red",value:"GestionRed-Redes-EscanearRed"}]},{label:"Monitoreo",value:"Monitoreo",children:[{label:"Acceso Men\xFA",value:"GestionRed-Monitoreo-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Monitoreo-Nuevo"},{label:"Editar",value:"GestionRed-Monitoreo-Editar"},{label:"Eliminar",value:"GestionRed-Monitoreo-Eliminar"},{label:"Ver antena",value:"GestionRed-Monitoreo-VerAntena"},{label:"Ping Antena",value:"GestionRed-Monitoreo-PingAntena"},{label:"Gr\xE1ficos",value:"GestionRed-Monitoreo-Graficos"}]},{label:"Trafico",value:"Trafico",children:[{label:"Lista tr\xE1fico",value:"GestionRed-Trafico-Lista"},{label:"Lista Ips visitadas",value:"GestionRed-Monitoreo-ListaIPS"}]}]},{label:"Servicios",value:"Servicios",children:[{label:"Internet",value:"Internet",children:[{label:"Acceso Men\xFA",value:"Servicios-Internet-AccesoMenu"},{label:"Nuevo",value:"Servicios-Internet-Nuevo"},{label:"Editar",value:"Servicios-Internet-Editar"},{label:"Eliminar",value:"Servicios-Internet-Eliminar"}]},{label:"Voz",value:"Voz",children:[{label:"Acceso Men\xFA",value:"Servicios-Voz-AccesoMenu"},{label:"Nuevo",value:"Servicios-Voz-Nuevo"},{label:"Editar",value:"Servicios-Voz-Editar"},{label:"Eliminar",value:"Servicios-Voz-Eliminar"}]},{label:"Personalizado",value:"Personalizado",children:[{label:"Acceso Men\xFA",value:"Servicios-Personalizado-AccesoMenu"},{label:"Nuevo",value:"Servicios-Personalizado-Nuevo"},{label:"Editar",value:"Servicios-Personalizado-Editar"},{label:"Eliminar",value:"Servicios-Personalizado-Eliminar"}]}]},{label:"Clientes",value:"Clientes",children:[{label:"Usuarios",value:"Usuarios",children:[{label:"Acceso Men\xFA",value:"Clientes-Usuarios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Usuarios-Nuevo"},{label:"Eliminar",value:"Clientes-Usuarios-Eliminar"},{label:"Ver perfil(Editar)",value:"Clientes-Usuarios-VerPerfil"},{label:"Editar datos",value:"Clientes-Usuarios-EnviarDatos"},{label:"Activar/Suspender",value:"Clientes-Usuarios-ActivarSuspender"},{label:"Retirar",value:"Clientes-Usuarios-Retirar"},{label:"Herramientas",value:"Clientes-Usuarios-Herramientas"}]},{label:"Contratos",value:"Contratos",children:[{label:"Acceso Men\xFA",value:"Clientes-Contratos-AccesoMenu"},{label:"Nuevo",value:"Clientes-Contratos-Nuevo"},{label:"Eliminar",value:"Clientes-Contratos-Eliminar"},{label:"Editar",value:"Clientes-Contratos-Editar"}]},{label:"Servicios",value:"Servicios ",children:[{label:"Nuevo",value:"Clientes-Servicios-Nuevo"},{label:"Editar",value:"Clientes-Servicios-Editar"},{label:"Eliminar",value:"Clientes-Servicios-Eliminar"}]},{label:"Facturaci\xF3n",value:"Facturaci\xF3n",children:[{label:"Nueva factura",value:"Clientes-Fact-NuevaFactura"},{label:"Eliminar factura",value:"Clientes-Fact-EliminarFactura"},{label:"Editar factura",value:"Clientes-Fact-EditarFactura"},{label:"Anular factura",value:"Clientes-Fact-AnularFactura"},{label:"Configuraci\xF3n",value:"Clientes-Fact-Configuracion"},{label:"Pagar factura",value:"Clientes-Fact-PagarFactura"},{label:"Editar pago factura",value:"Clientes-Fact-EditPagoFact"},{label:"Eliminar pago factura",value:"Clientes-Fact-DeletePagoFact"},{label:"Agregar saldo",value:"Clientes-Facturacion-AgregarSaldo"},{label:"Eliminar saldo",value:"Clientes-Facturacion-EliminarSaldo"}]},{label:"Soporte",value:"Soporte",children:[{label:"Nuevo",value:"Clientes-Soporte-Nuevo"},{label:"Editar",value:"Clientes-Soporte-Editar"},{label:"Eliminar",value:"Clientes-Soporte-Eliminar"},{label:"Cerrar",value:"Clientes-Soporte-Cerrar"}]},{label:"Email & SMS",value:"Email & SMS",children:[{label:"Nuevo correo",value:"Clientes-EmailSMS-NuevoEmail"},{label:"Reenviar correo",value:"Clientes-EmailSMS-ReenviarEmail"},{label:"Nuevo sms",value:"Clientes-EmailSMS-NuevoSMS"},{label:"Reenviar sms",value:"Clientes-EmailSMS-ReenviarSMS"}]},{label:"Documentos",value:"Documentos",children:[{label:"Nuevo Contrato",value:"Clientes-Documents-NuevoContrato"},{label:"Eliminar Contrato",value:"Clientes-Documents-DeleteContrato"},{label:"Editar Contrato",value:"Clientes-Documentos-EditContrato"},{label:"Nuevo documento",value:"Clientes-Documentos-NuevoDocument"},{label:"Eliminar documento",value:"Clientes-Documentos-DeleteDocument"},{label:"Editar documento",value:"Clientes-Documentos-EditarDocument"},{label:"Nueva nota",value:"Clientes-Documentos-NuevaNota"},{label:"Eliminar nota",value:"Clientes-Documentos-EliminarNota"}]},{label:"Mapa clientes",value:"Mapa clientes",children:[{label:"Mapa cliente",value:"Clientes-MapaCliente"}]},{label:"Anuncios",value:"Anuncios",children:[{label:"Acceso men\xFA",value:"Clientes-Anuncios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Anuncios-Nuevo"},{label:"Eliminar",value:"Clientes-Anuncios-Eliminar"}]},{label:"Instalaciones",value:"Instalaciones",children:[{label:"Acceso men\xFA",value:"Clientes-Instalaciones-AccesoMenu"},{label:"Nuevo registro",value:"Clientes-Instalaciones-NuevoRegistro"},{label:"Eliminar registro",value:"Clientes-Instalaciones-DeleteRegistro"},{label:"Editar registro",value:"Clientes-Instalaciones-EditarRegistro"},{label:"Aceptar instalaci\xF3n",value:"Clientes-Instalaciones-AceptarInstalacion"},{label:"Eliminar instalaci\xF3n",value:"Clientes-Instalaciones-EliminarInstalacion"},{label:"Agregar materiales",value:"Clientes-Instalaciones-AddMaterial"},{label:"Dar alta instalaci\xF3n",value:"Clientes-Instalaciones-DarAltaInstalacion"},{label:"Editar instalaci\xF3n",value:"Clientes-Instalaciones-EditarInstalacion"}]},{label:"Correo",value:"Correo",children:[{label:"Acceso men\xFA",value:"Clientes-Correo-AccesoMenu"},{label:"Nuevo",value:"Clientes-Correo-Nuevo"},{label:"Reenviar",value:"Clientes-Correo-Reenviar"}]}]},{label:"Fichas Hotspot",value:"Fichas Hotspot",children:[{label:"Fichas",value:"Fichas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Fichas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Fichas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Fichas-Eliminar"},{label:"Imprimir",value:"FichasHotspot-Fichas-Imprimir"}]},{label:"Router/Perfiles",value:"Router/Perfiles",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Router-AccesoMenu"},{label:"Nuevo router",value:"FichasHotspot-Router-NuevoRouter"},{label:"Eliminar router",value:"FichasHotspot-Router-EliminarRouter"},{label:"Editar router",value:"FichasHotspot-Router-EditarRouter"},{label:"Nuevo perfil",value:"FichasHotspot-Router-NuevoPerfil"},{label:"Eliminar perfil",value:"FichasHotspot-Router-EliminarPerfil"},{label:"Editar perfil",value:"FichasHotspot-Router-EditarPerfil"}]},{label:"Plantillas",value:"Plantillas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Plantillas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Plantillas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Plantillas-Eliminar"},{label:"Editar",value:"FichasHotspot-Plantillas-Editar"}]}]},{label:"Tareas",value:"Tareas",children:[{label:"Lista tareas",value:"Lista tareas",children:[{label:"Nuevo",value:"Tareas-Nuevo"},{label:"Eliminar",value:"Tareas-Eliminar"},{label:"Editar",value:"Tareas-Editar"}]}]},{label:"Finanzas",value:"Finanzas",children:[{label:"Facturas",value:"Facturas",children:[{label:"Acceso Men\xFA",value:"Finanzas-Facturas-AccesoMenu"},{label:"Pagar",value:"Finanzas-Facturas-Pagar"},{label:"Editar",value:"Finanzas-Facturas-Editar"},{label:"Eliminar",value:"Finanzas-Facturas-Eliminar"},{label:"Anular",value:"Finanzas-Facturas-Anular"},{label:"Herramientas",value:"Finanzas-Facturas-Herramientas"}]},{label:"Registar pago",value:"Registar pago",children:[{label:"Acceso Men\xFA",value:"Finanzas-RegistarPago-AccesoMenu"},{label:"Pagos masivos",value:"Finanzas-RegistarPago-PagosMasivos"},{label:"Pagar",value:"Finanzas-RegistarPago-Pagar"},{label:"Promesa de pago",value:"Finanzas-RegistarPago-PromesaPago"},{label:"Permitir saldo",value:"Finanzas-RegistarPago-PermitirSaldo"},{label:"Cambiar dia de pago",value:"Finanzas-RegistarPago-CambiarDiaPago"},{label:"Eliminar pago",value:"Finanzas-RegistarPago-Eliminarpago"},{label:"Editar pago",value:"Finanzas-RegistarPago-EditarPago"}]},{label:"Transacciones",value:"Transacciones",children:[{label:"Acceso Men\xFA",value:"Finanzas-Transacciones-AccesoMenu"},{label:"Editar",value:"Finanzas-Transacciones-Editar"},{label:"Eliminar",value:"Finanzas-Transacciones-Eliminar"},{label:"Resumen PDF/Totales",value:"Finanzas-Transacciones-ResumenPDF"},{label:"Estadisticas",value:"Finanzas-Transacciones-Estadisticas"}]},{label:"Ingresos & Egresos",value:"Ingresos & Egresos",children:[{label:"Nuevo",value:"Finanzas-IngresosEgresos-Nuevo"},{label:"Eliminar",value:"Finanzas-IngresosEgresos-Eliminar"},{label:"Editar",value:"Finanzas-IngresosEgresos-Editar"}]},{label:"Reporte pago",value:"Reporte pago",children:[{label:"Marcar revisado",value:"Finanzas-ReportePago-MarcarRevisado"},{label:"Pagar factura",value:"Finanzas-ReportePago-PagarFactura"}]}]},{label:"Almac\xE9n",value:"Almac\xE9n",children:[{label:"Categor\xEDas",value:"Categor\xEDas",children:[{label:"Acceso Men\xFA",value:"Almacen-Categor\xEDas-AccesoMenu"},{label:"Nuevo",value:"Almacen-Categor\xEDas-Nuevo"},{label:"Editar",value:"Almacen-Categor\xEDas-Editar"},{label:"Eliminar",value:"Almacen-Categor\xEDas-Eliminar"}]},{label:"Productos",value:"Productos",children:[{label:"Acceso Men\xFA",value:"Almacen-Productos-AccesoMenu"},{label:"Nuevo",value:"Almacen-Productos-Nuevo"},{label:"Editar",value:"Almacen-Productos-Editar"},{label:"Eliminar",value:"Almacen-Productos-Eliminar"}]}]},{label:"Ticket_soporte",value:"Ticket_soporte",children:[{label:"Ticket",value:"Ticket",children:[{label:"Acceso Men\xFA",value:"TicketSoporte-Ticket-AccesoMenu"},{label:"Nuevo",value:"TicketSoporte-Ticket-Nuevo"},{label:"Editar",value:"TicketSoporte-Ticket-Editar"},{label:"Eliminar",value:"TicketSoporte-Ticket-Eliminar"},{label:"Cerrar",value:"TicketSoporte-Ticket-Cerrar"},{label:"Ver todos los tickets(Solo para t\xE9cnicos)",value:"TicketSoporte-Ticket-VerAllTickets"}]}]},{label:"SMS ",value:"SMS ",children:[{label:"SMS  ",value:"SMS  ",children:[{label:"Acceso Men\xFA",value:"SMS-SMS-AccesoMenu"},{label:"Nuevo",value:"SMS-SMS-Nuevo"},{label:"Reenviar",value:"SMS-SMS-Reenviar"}]}]},{label:"Configuraci\xF3n",value:"Configuraci\xF3n",children:[{label:"Ajustes",value:"Ajustes",children:[{label:"Acceso Men\xFA",value:"Configuraci\xF3n-Ajustes-AccesoMenu"},{label:"General",value:"Configuraci\xF3n-Ajustes-General"},{label:"Gesti\xF3n personal",value:"Configuraci\xF3n-Ajustes-Gesti\xF3nPersonal"},{label:"Servidor de correo",value:"Configuraci\xF3n-Ajustes-ServidorCorreo"},{label:"Facturaci\xF3n",value:"Configuraci\xF3n-Ajustes-Facturaci\xF3n"},{label:"Factura Electr\xF3nica",value:"Configuraci\xF3n-Ajustes-FacturaElectronica"},{label:"Pasarelas de pagos",value:"Configuraci\xF3n-Ajustes-PasarelasPago"},{label:"Editor plantillas",value:"Configuraci\xF3n-Ajustes-EditorPlantillas"},{label:"Portal cliente",value:"Configuraci\xF3n-Ajustes-PortalClientes"},{label:"Tickets",value:"Configuraci\xF3n-Ajustes-Tickets"},{label:"Importar clientes",value:"Configuraci\xF3n-Ajustes-ImportarClientes"},{label:"Ubicaciones",value:"Configuraci\xF3n-Ajustes-Ubicaciones"}]},{label:"Ajustes",value:"Ajustes",children:[{label:"SMS",value:"Configuraci\xF3n-Ajustes-SMS"},{label:"Cloud",value:"Configuraci\xF3n-Ajustes-Cloud"},{label:"Google",value:"Configuraci\xF3n-Ajustes-Google"},{label:"Bases de datos",value:"Configuraci\xF3n-Ajustes-BasesDatos"},{label:"Cambios masivos",value:"Configuraci\xF3n-Ajustes-CambiosMasivos"},{label:"Plantilla configuraci\xF3n",value:"Configuraci\xF3n-Ajustes-PlantillaConfig"},{label:"Crontab",value:"Configuraci\xF3n-Ajustes-Crontab"},{label:"Logs",value:"Configuraci\xF3n-Ajustes-Logs"},{label:"Sistema",value:"Configuraci\xF3n-Ajustes-Sistema"},{label:"Servidor",value:"Configuraci\xF3n-Ajustes-Servidor"},{label:"Licencia",value:"Configuraci\xF3n-Ajustes-Licencia"},{label:"Migrar",value:"Configuraci\xF3n-Ajustes-Migrar"},{label:"Actualizar sistema",value:"Configuraci\xF3n-Ajustes-ActualizarSistema"}]}]},{label:"Widget Inicio",value:"Widget Inicio",children:[{label:"Widgets",value:"Widgets",children:[{label:"Clientes online",value:"WidgetInicio-Widget-ClientesOnline"},{label:"Transacciones",value:"WidgetInicio-Widget-Transacciones"},{label:"Facturas",value:"WidgetInicio-Widget-Facturas"},{label:"Ticket soporte",value:"WidgetInicio-Widget-TicketSoporte"},{label:"Tr\xE1fico",value:"WidgetInicio-Widget-Tr\xE1fico"},{label:"Resumen sistema",value:"WidgetInicio-Widget-ResumenSistema"},{label:"Pagos registrados",value:"WidgetInicio-Widget-PagosRegistrados"},{label:"\xDAltimos conectados",value:"WidgetInicio-Widget-\xDAltimosConectados"},{label:"Servidor",value:"WidgetInicio-Widget-Servidor"},{label:"Resumen Facturaci\xF3n",value:"WidgetInicio-Widget-ResumenFacturacion"},{label:"Emisores",value:"WidgetInicio-Widget-Emisores"}]}]},{label:"Widget Notificaciones",value:"Widget Notificaciones",children:[{label:"Widgets",children:[{label:"Telegram",value:"WidgetNot-Widget-Telegram"},{label:"Registrar pago",value:"WidgetNot-Widget-RegistrarPago"},{label:"Notificaciones Generales",value:"WidgetNot-Widget-NotificacionesGenerales"},{label:"Notificaciones Soporte",value:"WidgetNot-Widget-NotificacionesSoporte"}]}]}]}];const we=R(!1),p=R({usuario:"",email:"",cedula:"",celular:"",fullName:"",roles:[""],permisos:[],horarios_dias:[],horarios_time:["",""],receiveSupportEmail:!1,company:"",sucursales:[],password:"",confirmPassword:"",isActive:!0}),Gl=async()=>{const{data:e}=await Te.get("/companies");return e},Ol=()=>{const{mostrarNotify:e}=jl(),P=yl(),F=()=>{p.value.email="",p.value.password="",p.value.cedula="",p.value.celular="",p.value.fullName="",p.value.usuario="",p.value.company="",p.value.roles=[""],p.value.permisos=[],p.value.horarios_dias=[],p.value.horarios_time=[],p.value.receiveSupportEmail=!1},z=async q=>{if(p.value.password!==p.value.confirmPassword)return e("warning","Las contrase\xF1as no coinciden, por favor verificar");if(p.value.company.length===0)return e("warning","Debes elegir una empresa");if(p.value.roles[0]===""&&p.value.company!=="Nuevo")return e("warning","Debes elegir un rol");if(p.value.roles[0]!=="Administrador"&&p.value.roles[0]!=="Super-Administrador"&&p.value.sucursales.length===0)return e("warning","Debes elegir alguna sucursal");if((p.value.roles[0]=="Administrador"||p.value.roles[0]=="Super-Administrador")&&(p.value.sucursales=[]),p.value.permisos.length===0)return e("warning","Debes elegir al menos un permiso");try{we.value=!0,q?await Te.patch("/auth/edit/"+p.value.id,p.value):await Te.post("/auth/register",p.value),e("positive",`Usuario ${q?"editado":"creado"} exitosamente.`),we.value=!1,P.push({name:"Ver Usuarios"})}catch(s){we.value=!1,e("warning",s.response.data.message)}},V=()=>{p.value.celular=p.value.celular.replace(/\D/g,"")},G=()=>{p.value.fullName=p.value.fullName.toUpperCase()};return{getCompanies:Gl,formUser:p,loading:we,limpiarFormulario:F,expanded:R(["Seleccionar todos los permisos"]),allowOnlyNumber:V,transformToUpperCase:G,onSubmit:z,validateNumCelular:[q=>q.length>=10||"Debes completar 10 digitos"],showPass:R(!0),showConfirmPass:R(!0)}},$l={class:"row q-pt-sm"},Ql={class:"col-xs-12 col-md-8"},Ll={class:"row"},Bl=r("div",{class:"col-11 flex justify-start items-center"},[r("label",{class:"text-h6 text-weight-medium"},"Datos:")],-1),Yl=r("div",{class:"col-4 flex justify-end items-center"},[r("label",null,"Nombre:")],-1),Jl={class:"col-6 q-ml-md"},Xl=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",null,"Usuario:")],-1),Zl={class:"col-6 q-ml-md q-my-sm"},ea=r("div",{class:"col-4 flex justify-end items-center"},[r("label",null,"Email:")],-1),la={class:"col-6 q-ml-md"},aa=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",null,"T\xE9lefono Movil:")],-1),ta={class:"col-6 q-ml-md q-my-sm"},ia=r("label",{class:"text-h6 text-weight-medium"},"Configuraci\xF3n:",-1),oa=[ia],na=r("div",{class:"col-4 flex justify-end items-center"},[r("label",{for:""},"Empresa:")],-1),sa={class:"col-6 q-ml-md"},ra={key:0,class:"col-4 flex justify-end items-center q-mt-sm"},ua=r("label",null,"Rol:",-1),ca=[ua],da={key:1,class:"col-6 q-ml-md q-mt-sm"},va={key:2,class:"col-4 flex justify-end items-center q-mt-sm"},ma=r("label",null,"Sucursal:",-1),fa=[ma],ba={key:3,class:"col-6 q-ml-md q-mt-sm"},ha=r("div",{class:"col-4 flex justify-end items-center q-mt-sm"},[r("label",{for:""},"Estado:")],-1),ga={class:"col-6 q-ml-md q-mt-sm"},ya=r("div",{class:"col-4 flex justify-end items-center"},[r("label",{for:""},"Recibir correo soporte:")],-1),_a={class:"col-6 q-ml-md"},pa=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},null,-1),Ca=r("div",{class:"col-6 q-ml-md q-my-sm"},null,-1),ka=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",{for:""},"Horario Acceso:")],-1),Sa={class:"col-6 q-ml-md q-my-sm flex"},Ea={style:{display:"flex","flex-direction":"column"}},Aa=r("label",{class:"q-ml-md"}," Lunes ",-1),xa={style:{display:"flex","flex-direction":"column"}},qa=r("label",{class:"q-ml-md"}," Martes ",-1),Ma={style:{display:"flex","flex-direction":"column"}},Fa=r("label",{class:"q-ml-md"}," Miercoles ",-1),Pa={style:{display:"flex","flex-direction":"column"}},Va=r("label",{class:"q-ml-md"},"Jueves",-1),Na={style:{display:"flex","flex-direction":"column"}},wa=r("label",{class:"q-ml-md"}," Viernes ",-1),Ra={style:{display:"flex","flex-direction":"column"}},Ta=r("label",{class:"q-ml-md"}," Sabado ",-1),za=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",{class:"q-mb-md"},"Horario:")],-1),Ia={class:"col-6 q-ml-md q-my-sm"},ja={class:"row"},Da={class:"col-xs-12 col-sm-5"},Ua={class:"row items-center justify-end"},Ka={class:"col-xs-12 col-sm-5 offset-sm-1"},Ha={class:"row items-center justify-end"},Wa=r("div",{class:"col-4 flex justify-end items-center"},[r("label",{for:""},"Token API:")],-1),Ga={class:"col-6 q-ml-md"},Oa=r("div",{class:"col-4 flex justify-end items-center"},[r("label",{for:""},"Activar clave API:")],-1),$a={class:"col-6 q-ml-md"},Qa={class:"col-11 flex justify-start items-center"},La=r("div",{class:"col-4 flex justify-end items-center"},[r("label",null,"Contrase\xF1a:")],-1),Ba={class:"col-6 q-ml-md"},Ya=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",{for:""},"Repite Contrase\xF1a:")],-1),Ja={class:"col-6 q-ml-md q-my-sm"},Xa={class:"col-xs-11 col-md-4"},Za={class:"row"},et=r("label",{class:"text-h6 text-weight-medium"},"Permisos:",-1),lt=[et],ft=_l({__name:"FormUser",props:{edit:{type:Boolean}},setup(e){const P=e,F=R([]),z=R([]),V=R(!1);let G=!1;const{getCompanies:q,formUser:s,expanded:I,validateNumCelular:L,allowOnlyNumber:be,transformToUpperCase:se,showConfirmPass:K,showPass:D,loading:O,onSubmit:B}=Ol();let{actualizarLista:$}=zl();fe($,(f,l)=>{f&&N()}),pl(async()=>{N()});const N=async()=>{V.value=!1,F.value=[],(await q()).forEach(l=>{F.value.push({label:l.nombre_comercial,value:l.id})}),F.value,$.value=!1};fe(()=>s.value.company,f=>{s.value.company!==""&&H(f)});const H=async f=>{z.value=[],(!P.edit||G)&&(s.value.sucursales=[]),G=!0;const{data:l}=await Te.get(`/sucursal/find/${f}/company`);l.forEach(o=>{z.value.push({label:o.nombre,value:o.id})})};return(f,l)=>(ne(),pe(kl,null,[v(Tl,{onSubmit:l[28]||(l[28]=o=>u(B)(P.edit))},{default:k(()=>[v(Sl,{class:"my-card"},{default:k(()=>[v(El,{class:"q-pt-none"},{default:k(()=>[r("div",$l,[r("div",Ql,[r("div",Ll,[Bl,Yl,r("div",Jl,[v(Q,{modelValue:u(s).fullName,"onUpdate:modelValue":l[0]||(l[0]=o=>u(s).fullName=o),modelModifiers:{trim:!0},onKeyup:u(se),dense:"",outlined:"",required:""},null,8,["modelValue","onKeyup"])]),Xl,r("div",Zl,[v(Q,{modelValue:u(s).usuario,"onUpdate:modelValue":l[1]||(l[1]=o=>u(s).usuario=o),modelModifiers:{trim:!0},dense:"",outlined:"",required:""},{append:k(()=>[v(j,{name:"person",size:"1.3rem"})]),_:1},8,["modelValue"])]),ea,r("div",la,[v(Q,{modelValue:u(s).email,"onUpdate:modelValue":l[2]||(l[2]=o=>u(s).email=o),modelModifiers:{trim:!0},type:"email",dense:"",outlined:"",required:""},{append:k(()=>[v(j,{name:"mail",size:"1.2rem"})]),_:1},8,["modelValue"])]),aa,r("div",ta,[v(Q,{modelValue:u(s).celular,"onUpdate:modelValue":l[3]||(l[3]=o=>u(s).celular=o),counter:"",maxlength:"10",rules:u(L),onKeyup:u(be),"lazy-rules":"",dense:"",outlined:"",required:""},{append:k(()=>[v(j,{name:"call",size:"1.2rem"})]),_:1},8,["modelValue","rules","onKeyup"])]),r("div",{class:je(["col-11 flex justify-start items-center",[f.$q.screen.xs?"q-my-md":""]])},oa,2),na,r("div",sa,[v(Ve,{color:"orange","transition-show":"scale","transition-hide":"scale",outlined:"",modelValue:u(s).company,"onUpdate:modelValue":l[5]||(l[5]=o=>u(s).company=o),dense:"",options:F.value,"emit-value":"","map-options":"","use-input":"","input-debounce":"0"},{append:k(()=>[v(Ce,{round:"",dense:"",flat:"",icon:"add_circle",onClick:l[4]||(l[4]=Al(o=>V.value=!0,["stop","prevent"]))})]),"no-option":k(()=>[v(Oe,null,{default:k(()=>[v($e,{class:"text-grey"},{default:k(()=>[De(" No hay resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),u(s).company.length!==0?(ne(),pe("div",ra,ca)):Pe("",!0),u(s).company.length!==0?(ne(),pe("div",da,[v(Ve,{modelValue:u(s).roles[0],"onUpdate:modelValue":l[6]||(l[6]=o=>u(s).roles[0]=o),outlined:"",dense:"",required:"","transition-show":"scale","transition-hide":"scale",options:["Super-Administrador","Administrador","Pagos","Soporte Tecnico","Vendedor"]},null,8,["modelValue"])])):Pe("",!0),u(s).roles[0]!==""&&u(s).company.length!==0&&u(s).roles[0]!=="Administrador"&&u(s).roles[0]!=="Super-Administrador"?(ne(),pe("div",va,fa)):Pe("",!0),u(s).roles[0]!==""&&u(s).company.length!==0&&u(s).roles[0]!=="Administrador"&&u(s).roles[0]!=="Super-Administrador"?(ne(),pe("div",ba,[v(Ve,{modelValue:u(s).sucursales,"onUpdate:modelValue":l[7]||(l[7]=o=>u(s).sucursales=o),outlined:"",dense:"",required:"","emit-value":"","map-options":"","transition-show":"scale","transition-hide":"scale",options:z.value,multiple:"","stack-label":""},{"no-option":k(()=>[v(Oe,null,{default:k(()=>[v($e,{class:"text-grey"},{default:k(()=>[De(" No se encontro resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])):Pe("",!0),ha,r("div",ga,[v(Ve,{modelValue:u(s).isActive,"onUpdate:modelValue":l[8]||(l[8]=o=>u(s).isActive=o),outlined:"",dense:"","emit-value":"","map-options":"",options:[{label:"Activo",value:!0},{label:"Inactivo",value:!1}]},{append:k(()=>[u(s).isActive?(ne(),Ge(j,{key:0,size:"1.2rem",name:"fa-solid fa-user-check"})):(ne(),Ge(j,{key:1,name:"fa-solid fa-user-xmark",size:"1.2rem"}))]),_:1},8,["modelValue"])]),ya,r("div",_a,[v(Z,{color:"green",size:"lg",modelValue:u(s).receiveSupportEmail,"onUpdate:modelValue":l[9]||(l[9]=o=>u(s).receiveSupportEmail=o)},null,8,["modelValue"])]),pa,Ca,ka,r("div",Sa,[r("div",Ea,[v(Z,{class:"q-ml-sm",size:"lg",val:"Lunes",modelValue:u(s).horarios_dias,"onUpdate:modelValue":l[10]||(l[10]=o=>u(s).horarios_dias=o)},null,8,["modelValue"]),Aa]),r("div",xa,[v(Z,{class:"q-ml-sm",size:"lg",val:"Martes",modelValue:u(s).horarios_dias,"onUpdate:modelValue":l[11]||(l[11]=o=>u(s).horarios_dias=o)},null,8,["modelValue"]),qa]),r("div",Ma,[v(Z,{class:"q-ml-sm",size:"lg",val:"Miercoles",modelValue:u(s).horarios_dias,"onUpdate:modelValue":l[12]||(l[12]=o=>u(s).horarios_dias=o)},null,8,["modelValue"]),Fa]),r("div",Pa,[v(Z,{class:"q-ml-sm",size:"lg",val:"Jueves",modelValue:u(s).horarios_dias,"onUpdate:modelValue":l[13]||(l[13]=o=>u(s).horarios_dias=o)},null,8,["modelValue"]),Va]),r("div",Na,[v(Z,{class:"q-ml-sm",size:"lg",val:"Viernes",modelValue:u(s).horarios_dias,"onUpdate:modelValue":l[14]||(l[14]=o=>u(s).horarios_dias=o)},null,8,["modelValue"]),wa]),r("div",Ra,[v(Z,{class:"q-ml-sm",size:"lg",val:"Sabado",modelValue:u(s).horarios_dias,"onUpdate:modelValue":l[15]||(l[15]=o=>u(s).horarios_dias=o)},null,8,["modelValue"]),Ta])]),za,r("div",Ia,[r("div",ja,[r("div",Da,[v(Q,{outlined:"",modelValue:u(s).horarios_time[0],"onUpdate:modelValue":l[17]||(l[17]=o=>u(s).horarios_time[0]=o),mask:"time",rules:["time"],dense:""},{append:k(()=>[v(j,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[v(Qe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[v(Be,{modelValue:u(s).horarios_time[0],"onUpdate:modelValue":l[16]||(l[16]=o=>u(s).horarios_time[0]=o)},{default:k(()=>[r("div",Ua,[Re(v(Ce,{label:"Close",color:"primary",flat:""},null,512),[[Le]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",Ka,[v(Q,{outlined:"",modelValue:u(s).horarios_time[1],"onUpdate:modelValue":l[19]||(l[19]=o=>u(s).horarios_time[1]=o),mask:"time",rules:["time"],dense:""},{append:k(()=>[v(j,{name:"access_time",class:"cursor-pointer"},{default:k(()=>[v(Qe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[v(Be,{modelValue:u(s).horarios_time[1],"onUpdate:modelValue":l[18]||(l[18]=o=>u(s).horarios_time[1]=o)},{default:k(()=>[r("div",Ha,[Re(v(Ce,{label:"Close",color:"primary",flat:""},null,512),[[Le]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),Wa,r("div",Ga,[v(Q,{modelValue:u(s).confirmPassword,"onUpdate:modelValue":l[20]||(l[20]=o=>u(s).confirmPassword=o),dense:"",outlined:""},null,8,["modelValue"])]),Oa,r("div",$a,[v(Z,{color:"green",size:"lg",modelValue:u(s).confirmPassword,"onUpdate:modelValue":l[21]||(l[21]=o=>u(s).confirmPassword=o)},null,8,["modelValue"])]),r("div",Qa,[r("label",{class:je(["text-h6 text-weight-medium",[f.$q.screen.xs?"q-my-md":""]])}," Nueva Contrase\xF1a: ",2)]),La,r("div",Ba,[v(Q,{type:u(D)?"password":"text",outlined:"",dense:"",modelValue:u(s).password,"onUpdate:modelValue":l[23]||(l[23]=o=>u(s).password=o),modelModifiers:{trim:!0},required:!P.edit},{append:k(()=>[v(j,{name:u(D)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:l[22]||(l[22]=o=>D.value=!u(D))},null,8,["name"])]),prepend:k(()=>[v(j,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])]),Ya,r("div",Ja,[v(Q,{type:u(K)?"password":"text",outlined:"",dense:"",modelValue:u(s).confirmPassword,"onUpdate:modelValue":l[25]||(l[25]=o=>u(s).confirmPassword=o),modelModifiers:{trim:!0},required:!P.edit},{append:k(()=>[v(j,{name:u(K)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:l[24]||(l[24]=o=>K.value=!u(K))},null,8,["name"])]),prepend:k(()=>[v(j,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","required"])])])]),r("div",Xa,[r("div",Za,[r("div",{class:je(["col-11 flex justify-start items-center",[f.$q.screen.xs?"q-my-md":""]])},lt,2),v(Hl,{class:"col-11 col-sm-11","default-expand-all":!1,nodes:u(Wl),"label-key":"label","node-key":"value","control-color":"deep-orange-14","tick-strategy":"leaf",expanded:u(I),"onUpdate:expanded":l[26]||(l[26]=o=>xl(I)?I.value=o:null),ticked:u(s).permisos,"onUpdate:ticked":l[27]||(l[27]=o=>u(s).permisos=o)},null,8,["nodes","expanded","ticked"])])])])]),_:1}),v(ql,{class:"justify-end q-pb-md"},{default:k(()=>[v(Ce,{type:"submit",icon:"save",loading:u(O),outline:"",rounded:"",class:"q-mr-lg",color:"primary"},{default:k(()=>[De(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),v(Cl,{modelValue:V.value,"onUpdate:modelValue":l[29]||(l[29]=o=>V.value=o)},{default:k(()=>[v(Il)]),_:1},8,["modelValue"])],64))}});export{ft as _,Ol as u};

import{Q as _t,a as Ve}from"./QBreadcrumbs.9cf5b320.js";import{r as P,k as pt,t as Te,n as N,x as We,B as gt,bE as Ge,N as J,a6 as ne,p as O,am as Ue,al as bt,bf as ht,i as ie,M as yt,z as Re,bb as qt,aH as wt,m as be,au as Ie,V as ze,v as pe,a0 as $t,K as Ct,L as xt,s as He,H as Pt,I as Vt,Z as Tt,o as C,a7 as A,g as a,e as o,ac as y,f as e,Q as H,ab as p,a9 as V,h as W,a8 as $,a5 as It,aQ as Ke,af as Ee,bp as kt,c as te,ad as ae,aP as he,bF as At,bG as St,ah as Ae,ag as Rt,aI as Et,aS as Dt,aT as Mt}from"./index.56865ea9.js";import{u as ye}from"./useCliente.e518a96f.js";import{a as Ft,b as Qt}from"./axios.260c29fd.js";import"./use-quasar.fe1b283b.js";import{Q as Nt}from"./QResizeObserver.f542f30f.js";import{r as Bt,Q as Se}from"./QSelect.d548565d.js";import{u as Lt,a as jt,b as Ot,c as Ut,_ as zt}from"./FactAndNot.71b76963.js";import{Q as qe}from"./QForm.68ef74c3.js";import{Q as Ze,a as j}from"./QTable.b8561b9c.js";import{Q as ce}from"./QBadge.2548bc93.js";import{Q as Ye,a as ke}from"./QTooltip.1c4eedd1.js";import{a as re,Q as Y,c as K}from"./QItemLabel.11af56b0.js";import{Q as Kt}from"./QList.cc87e7d3.js";import{C as Yt}from"./ClosePopup.6ede23af.js";import{d as ge}from"./date.0242e4cc.js";import{M as Wt}from"./index.2065a85c.js";import"./useHelpers.16467bd1.js";import"./QChip.e08c3411.js";import"./format.2bc25e5f.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";const Gt=P([]),Ht=P(),Zt=P(!1),Xt=P([]),we=()=>({api:Ft,servicios:Gt,showModalPago:Zt,factura:Ht,pagos:Xt});let Jt=0;const ea=["click","keydown"],ta={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Jt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function aa(t,b,v,c){const r=pt(Ge,Te);if(r===Te)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Te;const{proxy:I}=Re(),w=P(null),M=P(null),f=P(null),d=N(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),n=N(()=>r.currentModel.value===t.name),T=N(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(n.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(c!==void 0?c.linkClass.value:"")),F=N(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),D=N(()=>t.disable===!0||r.hasFocus.value===!0||n.value===!1&&r.hasActiveTab.value===!0?-1:t.tabindex||0);function L(i,S){if(S!==!0&&w.value!==null&&w.value.focus(),t.disable===!0){c!==void 0&&c.hasRouterLink.value===!0&&Ue(i);return}if(c===void 0){r.updateModel({name:t.name}),v("click",i);return}if(c.hasRouterLink.value===!0){const Q=(k={})=>{let U;const z=k.to===void 0||qt(k.to,t.to)===!0?r.avoidRouteWatcher=wt():null;return c.navigateToRouterLink(i,{...k,returnRouterError:!0}).catch(ee=>{U=ee}).then(ee=>{if(z===r.avoidRouteWatcher&&(r.avoidRouteWatcher=!1,U===void 0&&(ee===void 0||ee.message.startsWith("Avoided redundant navigation")===!0)&&r.updateModel({name:t.name})),k.returnRouterError===!0)return U!==void 0?Promise.reject(U):ee})};v("click",i,Q),i.defaultPrevented!==!0&&Q();return}v("click",i)}function _(i){bt(i,[13,32])?L(i,!0):ht(i)!==!0&&i.keyCode>=35&&i.keyCode<=40&&i.altKey!==!0&&i.metaKey!==!0&&r.onKbdNavigate(i.keyCode,I.$el)===!0&&Ue(i),v("keydown",i)}function h(){const i=r.tabProps.value.narrowIndicator,S=[],Q=O("div",{ref:f,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});t.icon!==void 0&&S.push(O(ie,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&S.push(O("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&S.push(t.alertIcon!==void 0?O(ie,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):O("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),i===!0&&S.push(Q);const k=[O("div",{class:"q-focus-helper",tabindex:-1,ref:w}),O("div",{class:F.value},yt(b.default,S))];return i===!1&&k.push(Q),k}const l={name:N(()=>t.name),rootRef:M,tabIndicatorRef:f,routeData:c};We(()=>{r.unregisterTab(l)}),gt(()=>{r.registerTab(l)});function u(i,S){const Q={ref:M,class:T.value,tabindex:D.value,role:"tab","aria-selected":n.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:L,onKeydown:_,...S};return J(O(i,Q,h()),[[ne,d.value]])}return{renderTab:u,$tabs:r}}var ue=be({name:"QTab",props:ta,emits:ea,setup(t,{slots:b,emit:v}){const{renderTab:c}=aa(t,b,v);return()=>c("div")}});function oa(t,b,v){const c=v===!0?["left","right"]:["top","bottom"];return`absolute-${b===!0?c[0]:c[1]}${t?` text-${t}`:""}`}const la=["left","center","right","justify"];var Xe=be({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>la.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:b,emit:v}){const{proxy:c}=Re(),{$q:r}=c,{registerTick:I}=Ie(),{registerTick:w}=Ie(),{registerTick:M}=Ie(),{registerTimeout:f,removeTimeout:d}=ze(),{registerTimeout:n,removeTimeout:T}=ze(),F=P(null),D=P(null),L=P(t.modelValue),_=P(!1),h=P(!0),l=P(!1),u=P(!1),i=[],S=P(0),Q=P(!1);let k=null,U=null,z;const ee=N(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:oa(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),et=N(()=>{const s=S.value,m=L.value;for(let g=0;g<s;g++)if(i[g].name.value===m)return!0;return!1}),tt=N(()=>`q-tabs__content--align-${_.value===!0?"left":u.value===!0?"justify":t.align}`),at=N(()=>`q-tabs row no-wrap items-center q-tabs--${_.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${t.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${t.mobileArrows===!0?"":"out"}-arrows`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),ot=N(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+tt.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")),me=N(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ve=N(()=>t.vertical!==!0&&r.lang.rtl===!0),$e=N(()=>Bt===!1&&ve.value===!0);pe(ve,se),pe(()=>t.modelValue,s=>{Ce({name:s,setCurrent:!0,skipEmit:!0})}),pe(()=>t.outsideArrows,fe);function Ce({name:s,setCurrent:m,skipEmit:g}){L.value!==s&&(g!==!0&&t["onUpdate:modelValue"]!==void 0&&v("update:modelValue",s),(m===!0||t["onUpdate:modelValue"]===void 0)&&(lt(L.value,s),L.value=s))}function fe(){I(()=>{De({width:F.value.offsetWidth,height:F.value.offsetHeight})})}function De(s){if(me.value===void 0||D.value===null)return;const m=s[me.value.container],g=Math.min(D.value[me.value.scroll],Array.prototype.reduce.call(D.value.children,(E,x)=>E+(x[me.value.content]||0),0)),R=m>0&&g>m;_.value=R,R===!0&&w(se),u.value=m<parseInt(t.breakpoint,10)}function lt(s,m){const g=s!=null&&s!==""?i.find(E=>E.name.value===s):null,R=m!=null&&m!==""?i.find(E=>E.name.value===m):null;if(g&&R){const E=g.tabIndicatorRef.value,x=R.tabIndicatorRef.value;k!==null&&(clearTimeout(k),k=null),E.style.transition="none",E.style.transform="none",x.style.transition="none",x.style.transform="none";const q=E.getBoundingClientRect(),B=x.getBoundingClientRect();x.style.transform=t.vertical===!0?`translate3d(0,${q.top-B.top}px,0) scale3d(1,${B.height?q.height/B.height:1},1)`:`translate3d(${q.left-B.left}px,0,0) scale3d(${B.width?q.width/B.width:1},1,1)`,M(()=>{k=setTimeout(()=>{k=null,x.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",x.style.transform="none"},70)})}R&&_.value===!0&&le(R.rootRef.value)}function le(s){const{left:m,width:g,top:R,height:E}=D.value.getBoundingClientRect(),x=s.getBoundingClientRect();let q=t.vertical===!0?x.top-R:x.left-m;if(q<0){D.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(q),se();return}q+=t.vertical===!0?x.height-E:x.width-g,q>0&&(D.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(q),se())}function se(){const s=D.value;if(s===null)return;const m=s.getBoundingClientRect(),g=t.vertical===!0?s.scrollTop:Math.abs(s.scrollLeft);ve.value===!0?(h.value=Math.ceil(g+m.width)<s.scrollWidth-1,l.value=g>0):(h.value=g>0,l.value=t.vertical===!0?Math.ceil(g+m.height)<s.scrollHeight:Math.ceil(g+m.width)<s.scrollWidth)}function Me(s){U!==null&&clearInterval(U),U=setInterval(()=>{rt(s)===!0&&Z()},5)}function Fe(){Me($e.value===!0?Number.MAX_SAFE_INTEGER:0)}function Qe(){Me($e.value===!0?0:Number.MAX_SAFE_INTEGER)}function Z(){U!==null&&(clearInterval(U),U=null)}function st(s,m){const g=Array.prototype.filter.call(D.value.children,B=>B===m||B.matches&&B.matches(".q-tab.q-focusable")===!0),R=g.length;if(R===0)return;if(s===36)return le(g[0]),g[0].focus(),!0;if(s===35)return le(g[R-1]),g[R-1].focus(),!0;const E=s===(t.vertical===!0?38:37),x=s===(t.vertical===!0?40:39),q=E===!0?-1:x===!0?1:void 0;if(q!==void 0){const B=ve.value===!0?-1:1,G=g.indexOf(m)+q*B;return G>=0&&G<R&&(le(g[G]),g[G].focus({preventScroll:!0})),!0}}const nt=N(()=>$e.value===!0?{get:s=>Math.abs(s.scrollLeft),set:(s,m)=>{s.scrollLeft=-m}}:t.vertical===!0?{get:s=>s.scrollTop,set:(s,m)=>{s.scrollTop=m}}:{get:s=>s.scrollLeft,set:(s,m)=>{s.scrollLeft=m}});function rt(s){const m=D.value,{get:g,set:R}=nt.value;let E=!1,x=g(m);const q=s<x?-1:1;return x+=q*5,x<0?(E=!0,x=0):(q===-1&&x<=s||q===1&&x>=s)&&(E=!0,x=s),R(m,x),se(),E}function Ne(s,m){for(const g in s)if(s[g]!==m[g])return!1;return!0}function it(){let s=null,m={matchedLen:0,queryDiff:9999,hrefLen:0};const g=i.filter(q=>q.routeData!==void 0&&q.routeData.hasRouterLink.value===!0),{hash:R,query:E}=c.$route,x=Object.keys(E).length;for(const q of g){const B=q.routeData.exact.value===!0;if(q.routeData[B===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:G,query:xe,matched:vt,href:ft}=q.routeData.resolvedLink.value,Pe=Object.keys(xe).length;if(B===!0){if(G!==R||Pe!==x||Ne(E,xe)===!1)continue;s=q.name.value;break}if(G!==""&&G!==R||Pe!==0&&Ne(xe,E)===!1)continue;const X={matchedLen:vt.length,queryDiff:x-Pe,hrefLen:ft.length-G.length};if(X.matchedLen>m.matchedLen){s=q.name.value,m=X;continue}else if(X.matchedLen!==m.matchedLen)continue;if(X.queryDiff<m.queryDiff)s=q.name.value,m=X;else if(X.queryDiff!==m.queryDiff)continue;X.hrefLen>m.hrefLen&&(s=q.name.value,m=X)}s===null&&i.some(q=>q.routeData===void 0&&q.name.value===L.value)===!0||Ce({name:s,setCurrent:!0})}function ct(s){if(d(),Q.value!==!0&&F.value!==null&&s.target&&typeof s.target.closest=="function"){const m=s.target.closest(".q-tab");m&&F.value.contains(m)===!0&&(Q.value=!0,_.value===!0&&le(m))}}function ut(){f(()=>{Q.value=!1},30)}function _e(){Le.avoidRouteWatcher===!1?n(it):T()}function Be(){if(z===void 0){const s=pe(()=>c.$route.fullPath,_e);z=()=>{s(),z=void 0}}}function dt(s){i.push(s),S.value++,fe(),s.routeData===void 0||c.$route===void 0?n(()=>{if(_.value===!0){const m=L.value,g=m!=null&&m!==""?i.find(R=>R.name.value===m):null;g&&le(g.rootRef.value)}}):(Be(),s.routeData.hasRouterLink.value===!0&&_e())}function mt(s){i.splice(i.indexOf(s),1),S.value--,fe(),z!==void 0&&s.routeData!==void 0&&(i.every(m=>m.routeData===void 0)===!0&&z(),_e())}const Le={currentModel:L,tabProps:ee,hasFocus:Q,hasActiveTab:et,registerTab:dt,unregisterTab:mt,verifyRouteModel:_e,updateModel:Ce,onKbdNavigate:st,avoidRouteWatcher:!1};$t(Ge,Le);function je(){k!==null&&clearTimeout(k),Z(),z!==void 0&&z()}let Oe;return We(je),Ct(()=>{Oe=z!==void 0,je()}),xt(()=>{Oe===!0&&Be(),fe()}),()=>O("div",{ref:F,class:at.value,role:"tablist",onFocusin:ct,onFocusout:ut},[O(Nt,{onResize:De}),O("div",{ref:D,class:ot.value,onScroll:se},He(b.default)),O(ie,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(h.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||r.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:Fe,onTouchstartPassive:Fe,onMouseupPassive:Z,onMouseleavePassive:Z,onTouchendPassive:Z}),O(ie,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(l.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||r.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:Qe,onTouchstartPassive:Qe,onMouseupPassive:Z,onMouseleavePassive:Z,onTouchendPassive:Z})])}}),de=be({name:"QTabPanel",props:Lt,setup(t,{slots:b}){return()=>O("div",{class:"q-tab-panel",role:"tabpanel"},He(b.default))}}),Je=be({name:"QTabPanels",props:{...jt,...Pt},emits:Ot,setup(t,{slots:b}){const v=Re(),c=Vt(t,v.proxy.$q),{updatePanelsList:r,getPanelContent:I,panelDirectives:w}=Ut(),M=N(()=>"q-tab-panels q-panel-parent"+(c.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(b),Tt("div",{class:M.value},I(),"pan",t.swipeable,()=>w.value))}});const sa={class:"my-card"},na={class:"q-pt-none"},ra={class:"row q-pt-sm"},ia={class:"col-xs-12 col-md-8"},ca={class:"row"},ua=o("div",{class:"col-11 flex justify-start items-center"},[o("label",{class:"text-h6 text-weight-medium"}," >> Datos del Cliente:")],-1),da={class:"col-xs-12 col-md-6 col-sm-6"},ma={class:"col-xs-12 col-md-6 col-sm-6"},va={class:"col-xs-12 col-md-6 col-sm-6"},fa={class:"col-xs-12 col-md-6 col-sm-6"},_a={class:"col-xs-12 col-md-6 col-sm-6"},pa={class:"col-xs-12 col-md-6 col-sm-6"},ga={class:"col-xs-11 col-md-4"},ba={class:"row"},ha=o("label",{class:"text-h6 text-weight-medium"}," >> Resumen Notificaciones:",-1),ya=[ha],qa=o("label",null,null,-1),wa={class:"row justify-center q-mt-md"},$a={__name:"ResumenPage",setup(t){const{api:b,mostrarNotify:v,formCliente:c,validaciones:r,validarDatosPersonales:I}=ye(),w=P(!1),M=async()=>{if(!I())try{w.value=!0;const{planInternet:d,created_at:n,updated_at:T,...F}=c.value,{data:D}=await b.put(`/customers/actualizarDatosPersonales/${c.value.id}`,F);c.value={...D.cliente[0]},v("positive",D.msg),w.value=!1}catch(d){w.value=!1,v("warning",d.response.data.message)}};return(f,d)=>(C(),A(qe,{onSubmit:M},{default:a(()=>[o("div",sa,[o("div",na,[o("div",ra,[o("div",ia,[o("div",ca,[ua,o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(f.$q.screen.width<1022||"q-pr-md")}," Cliente: ",2)],2),o("div",da,[e(H,{modelValue:p(c).nombres,"onUpdate:modelValue":[d[0]||(d[0]=n=>p(c).nombres=n),d[1]||(d[1]=n=>(p(c).nombres=p(c).nombres.toUpperCase(),p(r).nombres.isValid=!0))],modelModifiers:{trim:!0},error:!p(r).nombres.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:a(()=>[o("label",{class:y(f.$q.dark.isActive?"text-red-4":"text-negative")},V(p(r).nombres.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(f.$q.screen.width<1022||"q-pr-md")}," Email: ",2)],2),o("div",ma,[e(H,{modelValue:p(c).email,"onUpdate:modelValue":d[2]||(d[2]=n=>p(c).email=n),modelModifiers:{trim:!0},error:!p(r).email.isValid,"input-class":"resaltarTextoInput",onKeyup:d[3]||(d[3]=n=>p(r).email.isValid=!0),dense:"",outlined:""},{error:a(()=>[o("label",{class:y(f.$q.dark.isActive?"text-red-4":"text-negative")},V(p(r).email.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(f.$q.screen.width<1022||"q-pr-md")}," Celular: ",2)],2),o("div",va,[e(H,{type:f.$q.platform.is.mobile?"number":"text",modelValue:p(c).celular,"onUpdate:modelValue":d[4]||(d[4]=n=>p(c).celular=n),modelModifiers:{trim:!0},counter:"",maxlength:"10","input-class":"resaltarTextoInput",error:!p(r).celular.isValid,onKeyup:d[5]||(d[5]=n=>(p(r).celular.isValid=!0,p(c).celular=p(c).celular.replace(/\D/g,""))),dense:"",outlined:""},{error:a(()=>[o("label",{class:y(f.$q.dark.isActive?"text-red-4":"text-negative")},V(p(r).celular.message),3)]),_:1},8,["type","modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(f.$q.screen.width<1022||"q-pr-md")}," Direcci\xF3n: ",2)],2),o("div",fa,[e(H,{modelValue:p(c).direccion,"onUpdate:modelValue":d[6]||(d[6]=n=>p(c).direccion=n),error:!p(r).direccion.isValid,"input-class":"resaltarTextoInput",onKeyup:d[7]||(d[7]=n=>p(r).direccion.isValid=!0),dense:"",outlined:""},{error:a(()=>[o("label",{class:y(f.$q.dark.isActive?"text-red-4":"text-negative")},V(p(r).direccion.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(f.$q.screen.width<1022||"q-pr-md")}," Tipo de Documento: ",2)],2),o("div",_a,[e(Se,{dense:"",modelValue:p(c).tipo_documento,"onUpdate:modelValue":[d[8]||(d[8]=n=>p(c).tipo_documento=n),d[9]||(d[9]=n=>p(r).tipo_documento.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!p(r).tipo_documento.isValid,"emit-value":"","map-options":"",options:[{label:"RUC",value:"04"},{label:"Cedula",value:"05"},{label:"Pasaporte",value:"06"}]},{error:a(()=>[o("label",{class:y(f.$q.dark.isActive?"text-red-4":"text-negative")},V(p(r).tipo_documento.message),3)]),_:1},8,["modelValue","error"])]),o("div",{class:y(["col-xs-12 col-md-4 flex items-center",[f.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end"]])},[o("label",{class:y(f.$q.screen.width<1022||"q-pr-md")}," N. Identificaci\xF3n: ",2)],2),o("div",pa,[e(H,{type:f.$q.platform.is.mobile?"number":"text",modelValue:p(c).numero_documento,"onUpdate:modelValue":d[10]||(d[10]=n=>p(c).numero_documento=n),readonly:p(c).tipo_documento==="","input-class":"resaltarTextoInput",counter:"",maxlength:p(c).tipo_documento==="04"?13:10,error:!p(r).numero_documento.isValid,onKeyup:d[11]||(d[11]=n=>(p(r).numero_documento.isValid=!0,p(c).numero_documento=p(c).numero_documento.replace(/\D/g,""))),dense:"",outlined:""},{error:a(()=>[o("label",{class:y(f.$q.dark.isActive?"text-red-4":"text-negative")},V(p(r).numero_documento.message),3)]),_:1},8,["type","modelValue","readonly","maxlength","error"])])])]),o("div",ga,[o("div",ba,[o("div",{class:y(["col-11 flex justify-start items-center",[f.$q.screen.xs?"q-my-md":""]])},ya,2),qa])])])]),o("div",wa,[o("div",{class:y(["q-pb-md",[f.$q.screen.width>600||" q-ml-lg"]])},[e(W,{type:"submit",icon:"save",loading:w.value,outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:a(()=>[$(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])],2)])])]),_:1}))}};const Ca={class:"my-card"},xa={class:"q-pt-none"},Pa={class:"row q-pt-sm"},Va={class:"col-12"},Ta={class:"row"},Ia=o("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),ka={class:"text-h6 text-weight-medium"},Aa={class:"col-12 q-mt-md"},Sa={__name:"ServiciosPage",setup(t){const b=[{name:"cont",label:"#",align:"center"},{name:"nombre_plan",align:"center",label:"Plan",field:"nombre_plan"},{name:"precio",label:"Costo",field:"precio",align:"center"},{name:"ipv4",label:"IP",field:"ipv4",align:"center"},{name:"router",label:"Router",field:"router",align:"center"},{name:"fecha_instalacion",label:"Instalado",field:"fecha_instalacion",align:"center"},{name:"direccion",label:"Direcci\xF3n",field:"direccion",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}],{servicios:v}=we(),c=v.value;return(r,I)=>(C(),A(qe,{onSubmit:I[0]||(I[0]=()=>{})},{default:a(()=>[o("div",Ca,[o("div",xa,[o("div",Pa,[o("div",Va,[o("div",Ta,[o("div",{class:y(["col-12 flex items-center",r.$q.screen.xs?"justify-center":"justify-between"])},[Ia,o("label",ka,[e(W,{outline:"",color:"primary",label:"Agregar Servicio",class:y(["q-mr-xs",!r.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),o("div",Aa,[e(Ze,{rows:p(c),columns:b,class:y([r.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{"body-cell-cont":a(w=>[e(j,{props:w},{default:a(()=>[$(V(w.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-estado":a(w=>[e(j,{props:w},{default:a(()=>[w.row.estado=="Activo"?(C(),A(ce,{key:0,outline:"",color:"positive",label:"Activo",class:"q-pa-sm"})):(C(),A(ce,{key:1,outline:"",color:"red",label:"Inactivo",class:"q-pa-sm"}))]),_:2},1032,["props"])]),"body-cell-acciones":a(w=>[e(j,{props:w},{default:a(()=>[$(V(w.rowIndex+1),1)]),_:2},1032,["props"])]),_:1},8,["rows","class"])])])])])])])]),_:1}))}},Ra={__name:"ConfiguracionPage",setup(t){return(b,v)=>(C(),A(zt,{edit:!0}))}};const oe=t=>(At("data-v-7c7d7acd"),t=t(),St(),t),Ea={class:"text-h6 text-center"},Da={class:"row q-pt-lg q-gutter-lg justify-center"},Ma={class:"col-12"},Fa=oe(()=>o("label",null,"Forma de pago:",-1)),Qa={class:"col-12 q-mt-sm"},Na=oe(()=>o("label",null,"N\xBA transacci\xF3n:",-1)),Ba={class:"col-12 q-mt-sm"},La=oe(()=>o("label",null,"Pagar Importe Total:",-1)),ja={class:"col-12 q-mt-sm"},Oa=oe(()=>o("label",null,"Monto a Cancelar:",-1)),Ua={class:"col-12 q-mt-sm"},za=oe(()=>o("label",null,"Monto Pendiente:",-1)),Ka={key:0,class:"col-12 q-mt-sm"},Ya=oe(()=>o("label",null,"Sucursal a Facturar:",-1)),Wa={class:"col-12 q-mt-none"},Ga=oe(()=>o("label",null,"Notas:",-1)),Ha={class:"col-xs-9 col-sm-12 q-mt-lg q-mb-md flex justify-center"},Za={__name:"ModalPago",props:["servicio","nuevoPago"],emits:["actualizarDatos"],setup(t,{emit:b}){const v=t,c=["forma_pago","montoPendiente","montoCancelar"],{api:r,claim:I,mostrarNotify:w,route:M}=ye(),{showModalPago:f}=we(),d=P([]),n=P({forma_pago:"",num_transaccion:"",importe_total:!0,sucursal_id:"",montoCancelar:"",montoPendiente:"",detalle:""}),T=P({forma_pago:{message:"",isValid:!0},montoPendiente:{message:"",isValid:!0},montoCancelar:{message:"",isValid:!0},sucursal_id:{message:"",isValid:!0}});if(v.servicio.pagos.length==0)n.value.montoPendiente=v.servicio.precio,n.value.montoCancelar=v.servicio.precio;else{let l=0;v.servicio.pagos.forEach(i=>{l+=parseFloat(i.valor)});const u=parseFloat(v.servicio.precio)-l;n.value.montoPendiente=u.toString(),n.value.montoCancelar=u.toString()}const F=l=>{let u=0;u=n.value[l];const i=/^\d{0,9}(\.\d{1,2})?$/;setTimeout(function(){let S=0;if(S=n.value[l],!i.test(S.toString())){const Q=parseFloat(u.toString().substring(0,u.toString().length-1));n.value[l]=Q}},0)},D=()=>{let l=!1;return c.forEach(u=>{(n.value[u].length==0||n.value[u]==0)&&(T.value[u].message="Debes completar este campo",T.value[u].isValid=!1,l=!0)}),(I.roles[0]=="Super-Administrador"||I.roles[0]=="Administrador")&&n.value.sucursal_id==""&&v.servicio.tipo_comprobante!="Recibo"&&parseFloat(n.value.montoCancelar)>=parseFloat(n.value.montoPendiente)&&(T.value.sucursal_id.message="Debes seleccionar una sucursal",T.value.sucursal_id.isValid=!1,l=!0),l},L=["Efectivo Oficina/Sucursal","Dep\xF3sito Bancario","Transferencia Bancaria","Facilito","Punto Agil"],_=async()=>{if(D())return;const l=Date.now(),u=ge.formatDate(l,"DD/MM/YYYY");let i;v.nuevoPago&&(i=v.servicio.pagos,i.push({valor:n.value.montoCancelar,fecha_abono:u,detalle:n.value.detalle,n_transaccion:n.value.num_transaccion,forma_pago:n.value.forma_pago}));let S=0;v.servicio.pagos.forEach(k=>{S+=parseFloat(k.valor)});const Q={pagos:i,estadoSRI:S>=parseFloat(n.value.montoPendiente)?"PAGADO":"PENDIENTE"};try{let k={headers:{sucursal_id:n.value.sucursal_id}};const{data:U}=await r.patch(`/pagos/${v.servicio.pago_id}`,Q,k);if(parseFloat(n.value.montoCancelar)>=parseFloat(n.value.montoPendiente)&&v.servicio.tipo_comprobante!="Recibo"){let z={customer_id:M.params.client_id,tipo:"EMISION",subtotal:parseFloat(v.servicio.precio),iva:parseFloat(v.servicio.iva),descuento:0,total:parseFloat(v.servicio.precio),entity:"Pagos",pago_id:v.servicio.pago_id,user_id:I.id,products:[{aplicaIva:v.servicio.iva>0,cantidad:1,pvp:v.servicio.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:v.servicio.pago_id.split("-")[0]}]};await r.post("/CE/facturas/generarFacturaElectronica",z,k)}w("positive",U.msg),f.value=!1,b("actualizarDatos")}catch(k){console.log(k)}},h=async l=>{d.value=[];const{data:u}=await r.get(`/sucursal/find/${l}/company`);u.forEach(i=>{d.value.push({label:i.nombre,value:i.id})}),d.value.length==1&&(n.value.sucursal_id=d.value[0].value)};return(I.roles[0]=="Super-Administrador"||I.roles[0]=="Administrador")&&h(I.company.id),(l,u)=>(C(),A(he,{style:{width:"450px !important","max-width":"fit-content"}},{default:a(()=>[e(Ke,null,{default:a(()=>[o("div",Ea,[$(" Agregar Pago "),J(e(W,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[Yt]])])]),_:1}),e(Ee,{inset:""}),e(Ke,{class:"q-pt-none"},{default:a(()=>[e(qe,{onSubmit:_},{default:a(()=>[o("div",Da,[o("div",Ma,[Fa,e(Se,{color:"orange","transition-show":"scale","transition-hide":"scale","onUpdate:modelValue":[u[0]||(u[0]=i=>T.value.forma_pago.isValid=!0),u[1]||(u[1]=i=>n.value.forma_pago=i)],error:!T.value.forma_pago.isValid,outlined:"",modelValue:n.value.forma_pago,dense:"",options:L},{error:a(()=>[o("label",{class:y(l.$q.dark.isActive?"text-red-4":"text-negative")},V(T.value.forma_pago.message),3)]),_:1},8,["error","modelValue"])]),o("div",Qa,[Na,e(H,{modelValue:n.value.num_transaccion,"onUpdate:modelValue":u[2]||(u[2]=i=>n.value.num_transaccion=i),dense:"",outlined:""},null,8,["modelValue"])]),o("div",Ba,[La,e(kt,{color:"green","onUpdate:modelValue":[u[3]||(u[3]=i=>n.value.montoCancelar=n.value.montoPendiente),u[4]||(u[4]=i=>n.value.importe_total=i)],size:"lg",modelValue:n.value.importe_total},null,8,["modelValue"])]),o("div",ja,[Oa,e(H,{modelValue:n.value.montoCancelar,"onUpdate:modelValue":[u[5]||(u[5]=i=>n.value.montoCancelar=i),u[6]||(u[6]=i=>(F("montoCancelar"),T.value.montoCancelar.isValid=!0))],modelModifiers:{trim:!0},readonly:n.value.importe_total,"input-style":"padding-right: 27px;",type:"number",step:"0.01",error:!T.value.montoCancelar.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:a(()=>[o("label",{class:y(l.$q.dark.isActive?"text-red-4":"text-negative")},V(T.value.montoCancelar.message),3)]),prepend:a(()=>[e(ie,{name:"attach_money"})]),_:1},8,["modelValue","readonly","error"])]),o("div",Ua,[za,e(H,{modelValue:n.value.montoPendiente,"onUpdate:modelValue":[u[7]||(u[7]=i=>n.value.montoPendiente=i),u[8]||(u[8]=i=>(F("montoPendiente"),T.value.montoPendiente.isValid=!0))],modelModifiers:{trim:!0},disable:"",type:"number",step:"0.01",error:!T.value.montoPendiente.isValid,"input-style":"padding-right: 27px;","input-class":"resaltarTextoInput",dense:"",outlined:""},{error:a(()=>[o("label",{class:y(l.$q.dark.isActive?"text-red-4":"text-negative")},V(T.value.montoCancelar.message),3)]),prepend:a(()=>[e(ie,{name:"attach_money"})]),_:1},8,["modelValue","error"])]),v.servicio.tipo_comprobante!="Recibo"&&parseFloat(n.value.montoCancelar)>=parseFloat(n.value.montoPendiente)?(C(),te("div",Ka,[Ya,d.value.length>1?(C(),A(Se,{key:0,modelValue:n.value.sucursal_id,"onUpdate:modelValue":[u[9]||(u[9]=i=>n.value.sucursal_id=i),u[10]||(u[10]=i=>T.value.sucursal_id.isValid=!0)],error:!T.value.sucursal_id.isValid,outlined:"",options:d.value,"emit-value":"","map-options":"",dense:""},{error:a(()=>[o("label",{class:y(l.$q.dark.isActive?"text-red-4":"text-negative")},V(T.value.sucursal_id.message),3)]),"no-option":a(()=>[e(re,null,{default:a(()=>[e(Y,{class:"text-grey"},{default:a(()=>[$(" No se encontro sucursal ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","options"])):ae("",!0)])):ae("",!0),o("div",Wa,[Ga,e(H,{modelValue:n.value.detalle,"onUpdate:modelValue":u[11]||(u[11]=i=>n.value.detalle=i),modelModifiers:{trim:!0},outlined:"",rows:"2",type:"textarea"},null,8,["modelValue"])]),o("div",Ha,[e(W,{label:"guardar",class:"q-px-xl",type:"submit",color:"green-9"})])])]),_:1})]),_:1})]),_:1}))}};var Xa=It(Za,[["__scopeId","data-v-7c7d7acd"]]);const Ja={class:"my-card"},eo={class:"q-pt-none"},to={class:"row q-pt-sm"},ao={class:"col-12"},oo={class:"row"},lo=o("label",{class:"text-h6 text-weight-medium"}," >> Servicios de Internet:",-1),so={class:"text-h6 text-weight-medium"},no={class:"col-12 q-mt-md"},ro=o("br",null,null,-1),io=o("br",null,null,-1),co=o("br",null,null,-1),uo=o("br",null,null,-1),mo={class:"row q-col-gutter-sm"},vo=o("div",{class:"full-width row flex-center text-lime-10 q-gutter-sm"},[o("span",{class:"text-subtitle1"}," No se encontr\xF3 ningun registros ")],-1),fo={__name:"IndexFacturas",setup(t){const b=P([{name:"x",align:"center",label:" ",field:"x"},{name:"n_comprobantes",align:"center",label:"N. Comprobante",field:"n_comprobantes"},{name:"emitido",label:"Emitido",field:"emitido",align:"center"},{name:"vencimiento",label:"Vencimiento",field:"vencimiento",align:"center"},{name:"precio",label:"Total",field:"precio",align:"center"},{name:"iva",label:"Impuesto",field:"iva",align:"center"},{name:"pagado",label:"Pagado",field:"pagado",align:"center"},{name:"estado",label:"Estado",field:"estado",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",align:"center"}]),v=P(!0),c=P({}),{api:r,servicios:I,pagos:w,showModalPago:M}=we(),{claim:f,route:d}=ye();let n;const T=()=>{const _=new Wt("http://205.235.6.108:3000/socket.io/socket.io.js",{extraHeaders:{autentication:f.id}});n==null||n.removeAllListeners(),n=_.socket("/"),n.on("updateStateInvoice",()=>{F()})},F=async()=>{try{w.value=[];const{data:_}=await r.get("/pagos/find/"+I.value[0].servicio_id);_.length>0&&_[0].servicio.factura_id.tipo_comprobante=="Recibo"&&(b.value[1].label="Tipo Comprobante"),_.forEach(h=>{const l=ge.addToDate(h.created_at,{days:h.servicio.factura_id.dia_pago-1});let u;h.servicio.factura_id.tipo_impuesto=="Impuestos incluido"?u=`${Math.floor(parseFloat(h.servicio.precio)*.12*100)/100}`:u=0;let i=0;h.pagos.forEach(S=>{i+=parseFloat(S.valor)}),w.value.push({ambiente:h.sucursal_id?h.sucursal_id.ambiente:"",clave_acceso:h.clave_acceso,company_name:h.servicio.router_id.company_id.nombre_comercial,num_comprobante:h.num_comprobante,sucursal_id:h.sucursal_id!==null?h.sucursal_id.id:null,pago_id:h.id,emitido:ge.formatDate(h.created_at,"DD/MM/YYYY"),vencimiento:ge.formatDate(l,"DD/MM/YYYY"),precio:`${h.servicio.precio}`,tipo_comprobante:h.servicio.factura_id.tipo_comprobante,iva:u,pagos:h.pagos.reverse(),pagado:i,estado:h.estadoSRI,cancelado:i>=parseFloat(h.servicio.precio),expand:!1})})}catch(_){console.log(_)}},D=async _=>{let h={headers:{sucursal_id:_.sucursal_id}},l={ambiente:_.ambiente,clave_acceso:_.clave_acceso,company_name:_.company_name,sucursal_id:_.sucursal_id,customer_id:d.params.client_id,num_comprobante:_.num_comprobante,tipo:"EMISION",subtotal:parseFloat(_.precio),iva:parseFloat(_.iva),descuento:0,total:parseFloat(_.precio),entity:"Pagos",pago_id:_.pago_id,user_id:f.id,products:[{aplicaIva:_.iva>0,cantidad:1,pvp:_.precio,descuento:0,nombre:"SERVICIO DE INTERNET",codigoBarra:_.pago_id.split("-")[0]}]};_.estado.trim()=="ERROR ENVIO RECEPCION"&&await r.post("/CE/facturas/recepcionComprobantesOffline",l,h),_.estado.trim()=="RECIBIDA"&&await r.post("/CE/facturas/autorizacionComprobantesOffline",l,h)},L=async()=>{await Qt.post("http://localhost:3001/api/impresion")};return F(),T(),(_,h)=>(C(),te(Ae,null,[e(qe,{onSubmit:h[0]||(h[0]=()=>{})},{default:a(()=>[o("div",Ja,[o("div",eo,[o("div",to,[o("div",ao,[o("div",oo,[o("div",{class:y(["col-12 flex items-center",_.$q.screen.xs?"justify-center":"justify-between"])},[lo,o("label",so,[e(W,{outline:"",color:"primary",label:"Agregar Servicio",class:y(["q-mr-xs",!_.$q.screen.xs||"q-mt-sm"])},null,8,["class"])])],2),o("div",no,[e(Ze,{rows:p(w),columns:b.value,class:y([_.$q.dark.isActive?"":"my-sticky-header-table3"]),"hide-pagination":!0,"rows-per-page-options":[50],"row-key":"name"},{body:a(l=>[e(Ye,{props:l},{default:a(()=>[l.row.estado.trim()!="NO PAGADO"?(C(),A(j,{key:0,"auto-width":""},{default:a(()=>[e(W,{size:"sm",color:"accent",round:"",dense:"",onClick:u=>l.row.expand=!l.row.expand,icon:l.row.expand?"remove":"add"},null,8,["onClick","icon"])]),_:2},1024)):(C(),A(j,{key:1,"auto-width":""})),e(j,{key:"n_comprobantes",props:l},{default:a(()=>[$(V(l.row.tipo_comprobante=="Recibo"?"Recibo":l.row.num_comprobante==""||l.row.num_comprobante==null?"- - - - - -":l.row.num_comprobante),1)]),_:2},1032,["props"]),e(j,{key:"emitido",props:l},{default:a(()=>[$(V(l.row.emitido),1)]),_:2},1032,["props"]),e(j,{key:"vencimiento",props:l},{default:a(()=>[$(V(l.row.vencimiento),1)]),_:2},1032,["props"]),e(j,{key:"precio",props:l},{default:a(()=>[$(" $"+V(l.row.precio),1)]),_:2},1032,["props"]),e(j,{key:"iva",props:l},{default:a(()=>[$(" $"+V(l.row.iva),1)]),_:2},1032,["props"]),e(j,{key:"pagado",props:l},{default:a(()=>[$(" $"+V(l.row.pagado),1)]),_:2},1032,["props"]),e(j,{key:"estado",props:l},{default:a(()=>[l.row.estado=="AUTORIZADO"?(C(),A(ce,{key:0,outline:"",class:"q-py-xs q-px-md",color:"secondary"},{default:a(()=>[$(" PAGADO "),ro,$(" Y "),io,$(" AUTORIZADO ")]),_:1})):l.row.estado=="NO PAGADO"||l.row.estado=="PENDIENTE"?(C(),A(ce,{key:1,outline:"",class:"q-py-xs q-px-md",color:_.$q.dark.isActive?"blue-grey-3":"blue-grey-7",label:l.row.estado},null,8,["color","label"])):(C(),A(ce,{key:2,outline:"",class:"q-py-xs q-px-md",color:_.$q.dark.isActive?"warning":"orange-10"},{default:a(()=>[$(" PAGADO "),co,$(" - "),uo,$(" "+V(l.row.estado),1)]),_:2},1032,["color"]))]),_:2},1032,["props"]),e(j,{key:"acciones",props:l},{default:a(()=>[l.row.cancelado?ae("",!0):(C(),A(W,{key:0,round:"",color:"blue-grey",onClick:u=>(M.value=!0,c.value=l.row),icon:"done",size:"10px",class:"q-mr-sm"},{default:a(()=>[e(ke,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:a(()=>[$(" Agregar Pago ")]),_:1})]),_:2},1032,["onClick"])),l.row.estado.trim()=="ERROR ENVIO RECEPCION"||l.row.estado.trim()=="ERROR ENVIO RECEPCION - ANULACION"||l.row.estado.trim()=="RECIBIDA"?(C(),A(W,{key:1,round:"",color:"blue-grey",icon:"fa-solid fa-retweet",onClick:u=>D(l.row),size:"10px",class:"q-mr-sm"},{default:a(()=>[e(ke,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:a(()=>[$(" Emitir Factura Electr\xF3nica ")]),_:1})]),_:2},1032,["onClick"])):ae("",!0),l.row.estado.trim()=="AUTORIZADO"?(C(),A(W,{key:2,round:"",color:"blue-grey",icon:"print",onClick:u=>D(l.row),size:"10px",class:"q-mr-sm"},{default:a(()=>[e(ke,{class:"bg-indigo",anchor:"top middle",self:"center middle"},{default:a(()=>[$(" Imprimir comprobante ")]),_:1})]),_:2},1032,["onClick"])):ae("",!0)]),_:2},1032,["props"])]),_:2},1032,["props"]),J(e(Ye,{props:l},{default:a(()=>[e(j,{colspan:"100%"},{default:a(()=>[o("div",mo,[(C(!0),te(Ae,null,Rt(l.row.pagos,(u,i)=>(C(),te("div",{key:i,class:"col-4"},[e(Kt,{bordered:"",padding:"",dense:""},{default:a(()=>[e(K,{header:"",class:"text-center"},{default:a(()=>[$(" Fecha Abonado: "+V(u.fecha_abono),1)]),_:2},1024),J((C(),A(re,{tag:"label"},{default:a(()=>[e(Y,null,{default:a(()=>[e(K,null,{default:a(()=>[$("Forma de Pago:")]),_:1})]),_:1}),e(Y,{side:"",top:"",class:"justify-center"},{default:a(()=>[e(K,null,{default:a(()=>[$(V(u.forma_pago),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),J((C(),A(re,{tag:"label",class:""},{default:a(()=>[e(Y,null,{default:a(()=>[e(K,null,{default:a(()=>[$("Valor Abonado:")]),_:1})]),_:1}),e(Y,{side:"",top:"",class:"justify-center"},{default:a(()=>[e(K,null,{default:a(()=>[$("$"+V(u.valor),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),J((C(),A(re,{tag:"label"},{default:a(()=>[e(Y,null,{default:a(()=>[e(K,null,{default:a(()=>[$("N\xBA transacci\xF3n:")]),_:1})]),_:1}),e(Y,{side:"",top:"",class:"justify-center"},{default:a(()=>[e(K,null,{default:a(()=>[$(V(u.n_transaccion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),J((C(),A(re,{tag:"label"},{default:a(()=>[e(Y,null,{default:a(()=>[e(K,null,{default:a(()=>[$("Detalle:")]),_:1})]),_:1}),e(Y,{side:"",top:"",class:"justify-center"},{default:a(()=>[e(K,null,{default:a(()=>[$(V(u.detalle==""?"Sin detalles":u.detalle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ne]]),J((C(),A(re,{tag:"label"},{default:a(()=>[e(Y,null,{default:a(()=>[e(K,{class:"text-center"},{default:a(()=>[e(W,{square:"",onClick:L,color:_.$q.dark.isActive?"blue-grey-2":"blue-grey-7",class:"q-px-md",outline:"",rounded:"",label:"imprimir",dense:"","icon-right":"print"},null,8,["color"])]),_:1})]),_:1})]),_:1})),[[ne]])]),_:2},1024)]))),128))])]),_:2},1024)]),_:2},1032,["props"]),[[Et,l.row.expand]])]),"no-data":a(({icon:l})=>[vo]),_:1},8,["rows","columns","class"])])])])])])])]),_:1}),e(Mt,{modelValue:p(M),"onUpdate:modelValue":h[1]||(h[1]=l=>Dt(M)?M.value=l:null)},{default:a(()=>[e(Xa,{servicio:c.value,nuevoPago:v.value,onActualizarDatos:F},null,8,["servicio","nuevoPago"])]),_:1},8,["modelValue"])],64))}},_o={class:"q-gutter-y-md"},po={__name:"FacturacionPagos",setup(t){const b=P("facturas");return(v,c)=>(C(),te("div",_o,[e(he,null,{default:a(()=>[e(Xe,{modelValue:b.value,"onUpdate:modelValue":c[0]||(c[0]=r=>b.value=r),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:a(()=>[e(ue,{name:"facturas",label:"Facturas"}),e(ue,{name:"configuracion",label:"Configuraci\xF3n"})]),_:1},8,["modelValue"]),e(Ee),e(Je,{modelValue:b.value,"onUpdate:modelValue":c[1]||(c[1]=r=>b.value=r),animated:""},{default:a(()=>[e(de,{name:"facturas"},{default:a(()=>[e(fo)]),_:1}),e(de,{name:"configuracion"},{default:a(()=>[e(Ra)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};const go={class:"q-gutter-y-md"},bo={__name:"IndexPage",setup(t){const b=P("resumen");return(v,c)=>(C(),te("div",go,[e(he,null,{default:a(()=>[e(Xe,{modelValue:b.value,"onUpdate:modelValue":c[0]||(c[0]=r=>b.value=r),draggable:"false",dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:a(()=>[e(ue,{name:"resumen",label:"Resumen"}),e(ue,{name:"servicios",label:"Servicios"}),e(ue,{name:"facturacion/pagos",label:"Facturaci\xF3n/Pagos"})]),_:1},8,["modelValue"]),e(Ee),e(Je,{modelValue:b.value,"onUpdate:modelValue":c[1]||(c[1]=r=>b.value=r),animated:""},{default:a(()=>[e(de,{name:"resumen"},{default:a(()=>[e($a)]),_:1}),e(de,{name:"servicios"},{default:a(()=>[b.value=="servicios"?(C(),A(Sa,{key:0})):ae("",!0)]),_:1}),e(de,{name:"facturacion/pagos"},{default:a(()=>[b.value=="facturacion/pagos"?(C(),A(po,{key:0})):ae("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}},ho={class:"q-ma-lg q-pt-md"},yo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},qo={class:"text-h6 text-center",style:{position:"relative",top:"-8px",left:"17px"}},wo={class:"row q-col-gutter-md",style:{"justify-content":"center"}},$o={class:"col-xs-11 col-md-11 q-pt-xs"},Ko={__name:"EditCliente",setup(t){const{api:b,route:v,formCliente:c,formFacturacion:r}=ye(),{servicios:I}=we(),w=P("");return(async()=>{I.value=[];const{data:f}=await b.get("/customers/find/"+v.params.client_id);f[0].planInternet.forEach(d=>{r.value={...d.factura_id},I.value.push({servicio_id:d.id,precio:d.precio,direccion:`${d.direccion==""?"- - - - -":d.direccion}`,fecha_instalacion:d.fecha_instalacion,ipv4:d.ipv4,nombre_plan:d.perfil_internet.nombre_plan,router:d.router_id.nombre,estado:`${d.isActive?"Activo":"Inactivo"}`})}),w.value=f[0].nombres,c.value={...f[0]}})(),(f,d)=>(C(),te(Ae,null,[o("div",ho,[o("div",yo,[o("div",{class:y(["col-xs-12 q-pl-none",[f.$q.screen.width<1022?"q-pt-sm col-md-6":"col-md-6"]])},[e(_t,{class:y(["row q-mr-xs",[f.$q.screen.width<1022?"justify-center q-pt-sm":"justify-start "]])},{default:a(()=>[e(Ve,{label:"Inicio",icon:"home",to:"/"}),e(Ve,{label:"Clientes",icon:"fa-solid fa-list",to:"/clientes"}),e(Ve,{label:"Nuevo",icon:"add_circle"})]),_:1},8,["class"])],2),o("div",{class:y(["col-xs-12",[f.$q.screen.width<1022?"text-center q-pt-sm col-md-6 q-pl-none":"text-right col-md-5"]])},[o("label",qo,V(w.value),1)],2)])]),o("div",wo,[o("div",$o,[e(he,{flat:"",class:"shadow_custom q-pt-none"},{default:a(()=>[e(bo,{edit:!0})]),_:1})])])],64))}};export{Ko as default};

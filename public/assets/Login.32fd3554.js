import{d as g,r as n,o as f,c as v,e as l,w as _,f as a,g as m,Q as p,h as b,i as u}from"./index.d6c4bdc6.js";import{a as y}from"./axios.465f24f1.js";import{u as w}from"./use-quasar.293c2d69.js";import{u as x}from"./useHelpers.0a8a684c.js";var h="/assets/logo.2e824ef4.png";const V={class:"area-login"},k=l("h1",{class:"title"},"Iniciar Sesion",-1),I={class:"login"},S=l("div",{class:"element-form"},[l("img",{src:h,style:{width:"80%","margin-left":"29px","margin-top":"48px","margin-bottom":"24px"}})],-1),q=["onSubmit"],M=g({__name:"Login",setup(C){const r=n(!0),i=n(!1),s=n({email:"juan@gmail.com",password:"testing"}),{mostrarNotify:d}=x(),c=async()=>{try{i.value=!0;const{data:{token:t,permisos:e}}=await y.post("/auth/login",s.value),o=w();o.setToken(t),o.setPermisos(e),location.href="/"}catch(t){t.response.data.message=="Credentials not valid(password)"&&d("warning","La contrase\xF1a esta incorrecta"),t.response.data.message=="Credentials not valid(email)"&&d("warning","El email esta incorrecto"),i.value=!1}};return(t,e)=>(f(),v("section",V,[k,l("div",I,[S,l("form",{onSubmit:_(c,["prevent"]),class:"element-form q-mt-md"},[a(p,{"label-color":"blue-grey-3",class:"q-mb-lg","bg-color":"blue-grey-10",filled:"",label:"Ingresa tu email",modelValue:s.value.email,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.email=o),modelModifiers:{trim:!0},required:""},{prepend:m(()=>[a(u,{name:"person",color:"blue-grey-3"})]),_:1},8,["modelValue"]),a(p,{type:r.value?"password":"text","label-color":"blue-grey-3",filled:"","bg-color":"blue-grey-10",label:"Ingresa tu contrase\xF1a",modelValue:s.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.password=o),modelModifiers:{trim:!0},required:""},{append:m(()=>[a(u,{name:r.value?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:e[1]||(e[1]=o=>r.value=!r.value)},null,8,["name"])]),prepend:m(()=>[a(u,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue"]),a(b,{label:"Ingresar",class:"q-px-xl",loading:i.value,type:"submit",color:"deep-purple-6"},null,8,["loading"])],40,q)])]))}});export{M as default};

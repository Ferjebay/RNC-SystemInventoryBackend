import{r as Q,C as M,o as g,a9 as _,g as r,f as i,aV as $,e as t,aa as x,O as E,h as q,ah as B,c as z,af as y,aU as h,d as R,v as F,ad as e,aY as D,aj as S,ae as n,Q as p,ab as u,bs as I,i as v,w,aW as W}from"./index.ad0f1a33.js";import{Q as N}from"./QBadge.295e8592.js";import{Q as A}from"./QFile.dbddff1f.js";import{Q as L}from"./QSelect.70d53dd2.js";import{Q as j}from"./QForm.29524382.js";import{u as T}from"./useEmpresa.da0a1886.js";import{C as K}from"./ClosePopup.2559bc98.js";import{M as P}from"./index.2065a85c.js";const O={class:"text-h6 text-center"},G=t("div",{id:"qrcode-container",style:{"text-align":"center"}},[t("img",{src:"/imgs/loader.gif",alt:"loading",id:"qrcode",style:{width:"250px"}})],-1),H={class:"card"},Y={class:"body"},J={key:0,class:"q-mt-md"},X=t("h5",{id:"iduser",class:"text-h6"},null,-1),Z={__name:"ModalWhatsapp",setup(k){let f;const c=Q("desconectado");return M(()=>{const o=document.getElementById("qrcode"),b=document.getElementById("iduser");f=new P("http://205.235.6.108:8000/socket.io/socket.io.js").socket("/"),f.on("qr",m=>{console.log(o),o.setAttribute("src",m)}),f.on("qrstatus",m=>{m.includes("check")&&(c.value="conectado"),m.includes("loader")&&(c.value="cargando"),o.setAttribute("src",m)}),f.on("user",m=>{b.innerHTML=m})}),(o,b)=>(g(),_(h,{style:{width:"643px !important","max-width":"fit-content"}},{default:r(()=>[i($,null,{default:r(()=>[t("div",O,[x(" WhatsApp API QR "),E(i(q,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[K]])])]),_:1}),i(B,{inset:""}),i($,{class:"q-pt-none"},{default:r(()=>[i(j,{style:{"margin-top":"25px"}},{default:r(()=>[G,t("div",H,[t("div",Y,[t("p",null,[c.value!="conectado"?(g(),z("li",J," Escanea el siguiente c\xF3digo QR con tu aplicaci\xF3n de WhatsApp ")):y("",!0),X])])])]),_:1})]),_:1})]),_:1}))}};const ee={class:"row q-pt-sm q-gutter-lg justify-center"},le=t("label",null,"R.U.C",-1),oe=t("label",null,"Raz\xF3n Social",-1),te={class:"col-xs-11 col-md-5"},ae=t("label",null,"Nombre Comercial:",-1),se={class:"col-xs-11 col-md-5"},re=t("label",null,"Direcci\xF3n:",-1),ie={class:"col-xs-11 col-md-5"},de=t("label",null,"Email:",-1),ne=t("label",null,"Obligado Contabilidad:",-1),me={class:"col-xs-11 col-md-5"},ue=t("label",null,"Celular:",-1),ce=t("label",null,"Clave Certificado:",-1),pe=t("label",null,"Cargar Certificado:",-1),ve=t("label",null,"Logo de la empresa:",-1),fe=t("div",null," La imagen debe tener las siguientes caracter\xEDsticas: ",-1),ge=t("div",null,' Tama\xF1o m\xE1ximo 100 KB, extensi\xF3n .jpg o .png y ser menor a 200px por 200px." ',-1),be=t("label",null,"Valor del IVA:",-1),we=R({__name:"FormEmpresa",props:{edit:{type:Boolean}},setup(k){const f=k,c=Q(!1),{formEmpresa:o,loading:b,validaciones:s,onRejected:m,onSubmit:U,isPwd:V,isValid:C}=T();return F(()=>o.value.clave_certificado,(d,l)=>{C.value&&d!==l&&(C.value=!1)},{deep:!0}),(d,l)=>(g(),z(S,null,[i(j,{onSubmit:l[28]||(l[28]=a=>e(U)(f.edit))},{default:r(()=>[i(h,{class:"my-card"},{default:r(()=>[i($,{class:"q-pt-lg"},{default:r(()=>[t("div",ee,[t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-md"]])},[le,i(p,{type:d.$q.platform.is.mobile?"number":"text",modelValue:e(o).ruc,"onUpdate:modelValue":[l[0]||(l[0]=a=>e(o).ruc=a),l[1]||(l[1]=a=>e(s).ruc.isValid=!0)],counter:"",maxlength:"13",onKeyup:l[2]||(l[2]=a=>e(o).ruc=e(o).ruc.replace(/\D/g,"")),"lazy-rules":"",error:!e(s).ruc.isValid,dense:"",filled:""},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).ruc.message),3)]),_:1},8,["type","modelValue","error"])],2),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-xs"]])},[oe,i(p,{modelValue:e(o).razon_social,"onUpdate:modelValue":[l[3]||(l[3]=a=>e(o).razon_social=a),l[4]||(l[4]=a=>e(s).razon_social.isValid=!0)],modelModifiers:{trim:!0},"input-style":"text-transform: uppercase;",error:!e(s).razon_social.isValid,dense:"",filled:""},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).razon_social.message),3)]),_:1},8,["modelValue","error"])],2),t("div",te,[ae,i(p,{modelValue:e(o).nombre_comercial,"onUpdate:modelValue":[l[5]||(l[5]=a=>e(o).nombre_comercial=a),l[6]||(l[6]=a=>e(s).nombre_comercial.isValid=!0)],modelModifiers:{trim:!0},"input-style":"text-transform: uppercase;",error:!e(s).nombre_comercial.isValid,dense:"",filled:""},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).nombre_comercial.message),3)]),_:1},8,["modelValue","error"])]),t("div",se,[re,i(p,{modelValue:e(o).direccion_matriz,"onUpdate:modelValue":[l[7]||(l[7]=a=>e(o).direccion_matriz=a),l[8]||(l[8]=a=>e(s).direccion_matriz.isValid=!0)],modelModifiers:{trim:!0},error:!e(s).direccion_matriz.isValid,dense:"",filled:""},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).direccion_matriz.message),3)]),_:1},8,["modelValue","error"])]),t("div",ie,[de,i(p,{modelValue:e(o).email,"onUpdate:modelValue":[l[9]||(l[9]=a=>e(o).email=a),l[10]||(l[10]=a=>e(s).email.isValid=!0)],modelModifiers:{trim:!0},type:"text",error:!e(s).email.isValid,dense:"",filled:""},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).email.message),3)]),_:1},8,["modelValue","error"])]),t("div",{class:n(["col-xs-11 col-md-5",d.$q.screen.width<600||"obligadoContb"])},[ne,i(I,{color:"green",size:"lg",modelValue:e(o).obligado_contabilidad,"onUpdate:modelValue":l[11]||(l[11]=a=>e(o).obligado_contabilidad=a)},null,8,["modelValue"])],2),t("div",me,[ue,i(p,{type:d.$q.platform.is.mobile?"number":"text",modelValue:e(o).telefono,"onUpdate:modelValue":[l[13]||(l[13]=a=>e(o).telefono=a),l[14]||(l[14]=a=>e(s).telefono.isValid=!0)],counter:"",maxlength:"10",error:!e(s).telefono.isValid,"input-style":"width: 81%",onKeyup:l[15]||(l[15]=a=>e(o).telefono=e(o).telefono.replace(/\D/g,"")),"lazy-rules":"",dense:"",filled:""},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).telefono.message),3)]),append:r(()=>[i(N,{filled:"",color:"teal-8",onClick:l[12]||(l[12]=a=>c.value=!0),style:{height:"100%",width:"19%",position:"absolute",right:"0px","justify-content":"center","font-size":"14px",cursor:"pointer"}},{default:r(()=>[i(v,{name:"fa-brands fa-whatsapp",size:"sm"})]),_:1})]),_:1},8,["type","modelValue","error"])]),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-xs"]])},[ce,i(p,{type:e(V)?"password":"text",filled:"",modelValue:e(o).clave_certificado,"onUpdate:modelValue":[l[17]||(l[17]=a=>e(o).clave_certificado=a),l[18]||(l[18]=a=>e(s).clave_certificado.isValid=!0)],modelModifiers:{trim:!0},dense:"",error:!e(s).clave_certificado.isValid},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).clave_certificado.message),3)]),append:r(()=>[i(v,{name:e(V)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:l[16]||(l[16]=a=>V.value=!e(V))},null,8,["name"])]),prepend:r(()=>[i(v,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","error"])],2),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-sm"]])},[pe,i(A,{dense:"",filled:"","bottom-slots":"",accept:".p12",onRejected:e(m),modelValue:e(o).archivo_certificado,"onUpdate:modelValue":[l[20]||(l[20]=a=>e(o).archivo_certificado=a),l[21]||(l[21]=a=>e(s).archivo_certificado.isValid=!0)],error:!e(s).archivo_certificado.isValid,label:e(o).archivo_certificado_old==null?"Cargar Certificado":e(o).archivo_certificado_old},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).archivo_certificado.message),3)]),prepend:r(()=>[i(v,{name:"attach_file"})]),append:r(()=>[typeof e(o).archivo_certificado=="object"&&e(o).archivo_certificado!==null?(g(),_(v,{key:0,name:"close",onClick:l[19]||(l[19]=w(a=>e(o).archivo_certificado=null,["stop","prevent"])),class:"cursor-pointer"})):y("",!0)]),_:1},8,["onRejected","modelValue","error","label"])],2),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-sm"]])},[ve,i(A,{dense:"",filled:"","bottom-slots":"",accept:".jpg, image/*",onRejected:e(m),"onUpdate:modelValue":[l[23]||(l[23]=a=>e(s).logo.isValid=!0),l[24]||(l[24]=a=>e(o).logo=a)],modelValue:e(o).logo,error:!e(s).logo.isValid,label:e(o).logo_old==null?"Cargar Logo":e(o).logo_old},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).logo.message),3)]),prepend:r(()=>[i(v,{name:"fa-solid fa-image"})]),hint:r(()=>[fe,ge]),append:r(()=>[typeof e(o).logo=="object"&&e(o).logo!==null?(g(),_(v,{key:0,name:"close",onClick:l[22]||(l[22]=w(a=>e(o).logo=null,["stop","prevent"])),class:"cursor-pointer"})):y("",!0)]),_:1},8,["onRejected","modelValue","error","label"])],2),t("div",{class:n(["col-xs-11 col-md-3",[d.$q.screen.width>600||"q-mt-sm"]])},[be,i(L,{filled:"",dense:"",modelValue:e(o).iva,"onUpdate:modelValue":[l[25]||(l[25]=a=>e(o).iva=a),l[26]||(l[26]=a=>e(s).iva.isValid=!0)],error:!e(s).iva.isValid,"emit-value":"","map-options":"",options:[{label:"12%",value:"2"},{label:"14%",value:"3"},{label:"15%",value:"4"}]},{error:r(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(s).iva.message),3)]),_:1},8,["modelValue","error"])],2)])]),_:1}),i(W,{class:n(["q-pb-md",[d.$q.screen.width<600?"justify-center q-ml-xl q-pt-none q-mb-md":"justify-between"]])},{default:r(()=>[d.$q.screen.width>600?(g(),_(q,{key:0,type:"submit",icon:"arrow_back",onClick:l[27]||(l[27]=a=>d.$router.push("/empresas")),outline:"",rounded:"",class:"q-ml-md",color:d.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:r(()=>[x(" \xA0 Regresar ")]),_:1},8,["color"])):y("",!0),i(q,{type:"submit",icon:"save",loading:e(b),outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:r(()=>[x(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])]),_:1},8,["class"])]),_:1})]),_:1}),i(D,{modelValue:c.value,"onUpdate:modelValue":l[29]||(l[29]=a=>c.value=a)},{default:r(()=>[i(Z)]),_:1},8,["modelValue"])],64))}});export{we as _};

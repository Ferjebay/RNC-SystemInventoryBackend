import{r as h,C as U,o as g,a9 as V,g as s,f as i,aS as x,e as t,aa as $,O as E,h as q,ah as R,c as Q,af as y,aR as z,d as B,v as F,ad as e,aV as D,aj as S,ae as n,Q as p,ab as u,bq as I,i as f,w,aT as N}from"./index.77dc7136.js";import{Q as T}from"./QBadge.664dbf8a.js";import{Q as A}from"./QFile.ac9568b0.js";import{Q as j}from"./QForm.7129c50b.js";import{u as W}from"./useEmpresa.d1bb5738.js";import{C as L}from"./ClosePopup.48df6d9e.js";import{M as K}from"./index.2065a85c.js";const P={class:"text-h6 text-center"},O=t("div",{id:"qrcode-container",style:{"text-align":"center"}},[t("img",{src:"/imgs/loader.gif",alt:"loading",id:"qrcode",style:{width:"250px"}})],-1),G={class:"card"},H={class:"body"},J={key:0,class:"q-mt-md"},X=t("h5",{id:"iduser",class:"text-h6"},null,-1),Y={__name:"ModalWhatsapp",setup(k){let v;const c=h("desconectado");return U(()=>{const l=document.getElementById("qrcode"),b=document.getElementById("iduser");v=new K("http://205.235.6.108:8000/socket.io/socket.io.js").socket("/"),v.on("qr",m=>{console.log(l),l.setAttribute("src",m)}),v.on("qrstatus",m=>{m.includes("check")&&(c.value="conectado"),m.includes("loader")&&(c.value="cargando"),l.setAttribute("src",m)}),v.on("user",m=>{b.innerHTML=m})}),(l,b)=>(g(),V(z,{style:{width:"643px !important","max-width":"fit-content"}},{default:s(()=>[i(x,null,{default:s(()=>[t("div",P,[$(" WhatsApp API QR "),E(i(q,{round:"",flat:"",dense:"",icon:"close",class:"float-right",color:"grey-8"},null,512),[[L]])])]),_:1}),i(R,{inset:""}),i(x,{class:"q-pt-none"},{default:s(()=>[i(j,{style:{"margin-top":"25px"}},{default:s(()=>[O,t("div",G,[t("div",H,[t("p",null,[c.value!="conectado"?(g(),Q("li",J," Escanea el siguiente c\xF3digo QR con tu aplicaci\xF3n de WhatsApp ")):y("",!0),X])])])]),_:1})]),_:1})]),_:1}))}};const Z={class:"row q-pt-sm q-gutter-lg justify-center"},ee=t("label",null,"R.U.C",-1),oe=t("label",null,"Raz\xF3n Social",-1),le={class:"col-xs-11 col-md-5"},te=t("label",null,"Nombre Comercial:",-1),ae={class:"col-xs-11 col-md-5"},se=t("label",null,"Direcci\xF3n:",-1),re={class:"col-xs-11 col-md-5"},ie=t("label",null,"Email:",-1),de=t("label",null,"Obligado Contabilidad:",-1),ne={class:"col-xs-11 col-md-5"},me=t("label",null,"Celular:",-1),ue=t("label",null,"Clave Certificado:",-1),ce=t("label",null,"Cargar Certificado:",-1),pe=t("label",null,"Logo de la empresa:",-1),fe=t("div",null," La imagen debe tener las siguientes caracter\xEDsticas: ",-1),ve=t("div",null,' Tama\xF1o m\xE1ximo 100 KB, extensi\xF3n .jpg o .png y ser menor a 200px por 200px." ',-1),qe=B({__name:"FormEmpresa",props:{edit:{type:Boolean}},setup(k){const v=k,c=h(!1),{formEmpresa:l,loading:b,validaciones:r,onRejected:m,onSubmit:M,isPwd:_,isValid:C}=W();return F(()=>l.value.clave_certificado,(d,o)=>{C.value&&d!==o&&(C.value=!1)},{deep:!0}),(d,o)=>(g(),Q(S,null,[i(j,{onSubmit:o[26]||(o[26]=a=>e(M)(v.edit))},{default:s(()=>[i(z,{class:"my-card"},{default:s(()=>[i(x,{class:"q-pt-lg"},{default:s(()=>[t("div",Z,[t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-md"]])},[ee,i(p,{type:d.$q.platform.is.mobile?"number":"text",modelValue:e(l).ruc,"onUpdate:modelValue":[o[0]||(o[0]=a=>e(l).ruc=a),o[1]||(o[1]=a=>e(r).ruc.isValid=!0)],counter:"",maxlength:"13",onKeyup:o[2]||(o[2]=a=>e(l).ruc=e(l).ruc.replace(/\D/g,"")),"lazy-rules":"",error:!e(r).ruc.isValid,dense:"",filled:""},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).ruc.message),3)]),_:1},8,["type","modelValue","error"])],2),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-xs"]])},[oe,i(p,{modelValue:e(l).razon_social,"onUpdate:modelValue":[o[3]||(o[3]=a=>e(l).razon_social=a),o[4]||(o[4]=a=>e(r).razon_social.isValid=!0)],modelModifiers:{trim:!0},"input-style":"text-transform: uppercase;",error:!e(r).razon_social.isValid,dense:"",filled:""},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).razon_social.message),3)]),_:1},8,["modelValue","error"])],2),t("div",le,[te,i(p,{modelValue:e(l).nombre_comercial,"onUpdate:modelValue":[o[5]||(o[5]=a=>e(l).nombre_comercial=a),o[6]||(o[6]=a=>e(r).nombre_comercial.isValid=!0)],modelModifiers:{trim:!0},"input-style":"text-transform: uppercase;",error:!e(r).nombre_comercial.isValid,dense:"",filled:""},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).nombre_comercial.message),3)]),_:1},8,["modelValue","error"])]),t("div",ae,[se,i(p,{modelValue:e(l).direccion_matriz,"onUpdate:modelValue":[o[7]||(o[7]=a=>e(l).direccion_matriz=a),o[8]||(o[8]=a=>e(r).direccion_matriz.isValid=!0)],modelModifiers:{trim:!0},error:!e(r).direccion_matriz.isValid,dense:"",filled:""},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).direccion_matriz.message),3)]),_:1},8,["modelValue","error"])]),t("div",re,[ie,i(p,{modelValue:e(l).email,"onUpdate:modelValue":[o[9]||(o[9]=a=>e(l).email=a),o[10]||(o[10]=a=>e(r).email.isValid=!0)],modelModifiers:{trim:!0},type:"text",error:!e(r).email.isValid,dense:"",filled:""},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).email.message),3)]),_:1},8,["modelValue","error"])]),t("div",{class:n(["col-xs-11 col-md-5",d.$q.screen.width<600||"obligadoContb"])},[de,i(I,{color:"green",size:"lg",modelValue:e(l).obligado_contabilidad,"onUpdate:modelValue":o[11]||(o[11]=a=>e(l).obligado_contabilidad=a)},null,8,["modelValue"])],2),t("div",ne,[me,i(p,{type:d.$q.platform.is.mobile?"number":"text",modelValue:e(l).telefono,"onUpdate:modelValue":[o[13]||(o[13]=a=>e(l).telefono=a),o[14]||(o[14]=a=>e(r).telefono.isValid=!0)],counter:"",maxlength:"10",error:!e(r).telefono.isValid,"input-style":"width: 81%",onKeyup:o[15]||(o[15]=a=>e(l).telefono=e(l).telefono.replace(/\D/g,"")),"lazy-rules":"",dense:"",filled:""},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).telefono.message),3)]),append:s(()=>[i(T,{filled:"",color:"teal-8",onClick:o[12]||(o[12]=a=>c.value=!0),style:{height:"100%",width:"19%",position:"absolute",right:"0px","justify-content":"center","font-size":"14px",cursor:"pointer"}},{default:s(()=>[i(f,{name:"fa-brands fa-whatsapp",size:"sm"})]),_:1})]),_:1},8,["type","modelValue","error"])]),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-xs"]])},[ue,i(p,{type:e(_)?"password":"text",filled:"",modelValue:e(l).clave_certificado,"onUpdate:modelValue":[o[17]||(o[17]=a=>e(l).clave_certificado=a),o[18]||(o[18]=a=>e(r).clave_certificado.isValid=!0)],modelModifiers:{trim:!0},dense:"",error:!e(r).clave_certificado.isValid},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).clave_certificado.message),3)]),append:s(()=>[i(f,{name:e(_)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:o[16]||(o[16]=a=>_.value=!e(_))},null,8,["name"])]),prepend:s(()=>[i(f,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue","error"])],2),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-sm"]])},[ce,i(A,{dense:"",filled:"","bottom-slots":"",accept:".p12",onRejected:e(m),modelValue:e(l).archivo_certificado,"onUpdate:modelValue":[o[20]||(o[20]=a=>e(l).archivo_certificado=a),o[21]||(o[21]=a=>e(r).archivo_certificado.isValid=!0)],error:!e(r).archivo_certificado.isValid,label:e(l).archivo_certificado_old==null?"Cargar Certificado":e(l).archivo_certificado_old},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).archivo_certificado.message),3)]),prepend:s(()=>[i(f,{name:"attach_file"})]),append:s(()=>[typeof e(l).archivo_certificado=="object"&&e(l).archivo_certificado!==null?(g(),V(f,{key:0,name:"close",onClick:o[19]||(o[19]=w(a=>e(l).archivo_certificado=null,["stop","prevent"])),class:"cursor-pointer"})):y("",!0)]),_:1},8,["onRejected","modelValue","error","label"])],2),t("div",{class:n(["col-xs-11 col-md-5",[d.$q.screen.width>600||"q-mt-sm"]])},[pe,i(A,{dense:"",filled:"","bottom-slots":"",accept:".jpg, image/*",onRejected:e(m),"onUpdate:modelValue":[o[23]||(o[23]=a=>e(r).logo.isValid=!0),o[24]||(o[24]=a=>e(l).logo=a)],modelValue:e(l).logo,error:!e(r).logo.isValid,label:e(l).logo_old==null?"Cargar Logo":e(l).logo_old},{error:s(()=>[t("label",{class:n(d.$q.dark.isActive?"text-red-4":"text-negative")},u(e(r).logo.message),3)]),prepend:s(()=>[i(f,{name:"fa-solid fa-image"})]),hint:s(()=>[fe,ve]),append:s(()=>[typeof e(l).logo=="object"&&e(l).logo!==null?(g(),V(f,{key:0,name:"close",onClick:o[22]||(o[22]=w(a=>e(l).logo=null,["stop","prevent"])),class:"cursor-pointer"})):y("",!0)]),_:1},8,["onRejected","modelValue","error","label"])],2)])]),_:1}),i(N,{class:n(["q-pb-md",[d.$q.screen.width<600?"justify-center q-ml-xl q-pt-none q-mb-md":"justify-between"]])},{default:s(()=>[d.$q.screen.width>600?(g(),V(q,{key:0,type:"submit",icon:"arrow_back",onClick:o[25]||(o[25]=a=>d.$router.push("/empresas")),outline:"",rounded:"",class:"q-ml-md",color:d.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:s(()=>[$(" \xA0 Regresar ")]),_:1},8,["color"])):y("",!0),i(q,{type:"submit",icon:"save",loading:e(b),outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:s(()=>[$(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])]),_:1},8,["class"])]),_:1})]),_:1}),i(D,{modelValue:c.value,"onUpdate:modelValue":o[27]||(o[27]=a=>c.value=a)},{default:s(()=>[i(Y)]),_:1},8,["modelValue"])],64))}});export{qe as _};

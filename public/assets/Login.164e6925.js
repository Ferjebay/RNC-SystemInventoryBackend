import{d as g,r as i,u as f,o as v,c as _,e as t,w as b,f as o,g as u,Q as p,h as y,i as m}from"./index.21549384.js";import{a as w}from"./axios.e671ec7d.js";import{u as x}from"./use-quasar.e7308f52.js";import{u as h}from"./useHelpers.c63006c9.js";var V="/assets/logo.2e824ef4.png";const S={class:"area-login"},k=t("h1",{class:"title"},"Iniciar Sesion",-1),I={class:"login"},q=t("div",{class:"element-form"},[t("img",{src:V,style:{width:"80%","margin-left":"29px","margin-top":"48px","margin-bottom":"24px"}})],-1),C=["onSubmit"],N=g({__name:"Login",setup(U){const l=i(!0),n=i(!1),a=i({email:"juan@gmail.com",password:"testing"}),{mostrarNotify:d}=h();f();const c=async()=>{try{n.value=!0;const{data:{token:s}}=await w.post("/auth/login",a.value);x().setToken(s),location.href="/"}catch(s){s.response.data.message=="Credentials not valid(password)"&&d("warning","La contrase\xF1a esta incorrecta"),s.response.data.message=="Credentials not valid(email)"&&d("warning","El email esta incorrecto"),n.value=!1}};return(s,e)=>(v(),_("section",S,[k,t("div",I,[q,t("form",{onSubmit:b(c,["prevent"]),class:"element-form q-mt-md"},[o(p,{"label-color":"blue-grey-3",class:"q-mb-lg","bg-color":"blue-grey-10",filled:"",label:"Ingresa tu email",modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.email=r),modelModifiers:{trim:!0},required:""},{prepend:u(()=>[o(m,{name:"person",color:"blue-grey-3"})]),_:1},8,["modelValue"]),o(p,{type:l.value?"password":"text","label-color":"blue-grey-3",filled:"","bg-color":"blue-grey-10",label:"Ingresa tu contrase\xF1a",modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.password=r),modelModifiers:{trim:!0},required:""},{append:u(()=>[o(m,{name:l.value?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:e[1]||(e[1]=r=>l.value=!l.value)},null,8,["name"])]),prepend:u(()=>[o(m,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","modelValue"]),o(y,{label:"Ingresar",class:"q-px-xl",loading:n.value,type:"submit",color:"deep-purple-6"},null,8,["loading"])],40,C)])]))}});export{N as default};

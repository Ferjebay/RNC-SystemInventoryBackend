import{m as Ze,H as el,b8 as ul,I as ll,bt as cl,r as D,n as q,v as ye,ay as dl,s as vl,p as h,z as al,bu as ml,bh as fl,aC as bl,N as De,h as Ae,Y as il,bc as gl,bf as hl,bq as pl,i as L,b2 as yl,am as Ge,aI as Cl,b3 as We,u as _l,d as kl,B as xl,o as J,a7 as Re,g as y,ab as t,f,aQ as Sl,e as r,Q as ie,ac as j,a9 as Q,a8 as Te,c as Se,ad as he,bp as ce,aS as Al,aR as El,S as Qe,aP as ql}from"./index.5d1f09cd.js";import{a as Oe,Q as Be}from"./QItemLabel.762c223e.js";import{Q as ze}from"./QSelect.c4dd2bd4.js";import{T as Vl}from"./TouchPan.bf28f7d9.js";import{u as wl,a as Ml,b as Pl,g as Fl,Q as Ye}from"./QPopupProxy.d2978973.js";import{_ as Ie,f as Nl}from"./date.f629cf57.js";import{p as pe}from"./format.2bc25e5f.js";import{Q as Rl}from"./QSlideTransition.e2a27f81.js";import{Q as Tl}from"./QForm.ffdb1aff.js";import{C as Je}from"./ClosePopup.488eb010.js";import{u as zl}from"./useHelpers.087d2c36.js";import{a as $e}from"./axios.8d86dbdf.js";function Il(e,z){if(e.hour!==null){if(e.minute===null)return"minute";if(z===!0&&e.second===null)return"second"}return"hour"}function jl(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Xe=Ze({name:"QTime",props:{...el,...ul,...wl,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Ml,setup(e,{slots:z,emit:F}){const H=al(),{$q:I}=H.proxy,$=ll(e,I),{tabindex:s,headerClass:U,getLocale:b,getCurrentDate:R}=Pl(e,I),X=cl(e),de=ml(X);let Z,O;const B=D(null),A=q(()=>p()),o=q(()=>b()),n=q(()=>d()),Y=Ie(e.modelValue,A.value,o.value,e.calendar,n.value),_=D(Il(Y)),v=D(Y),N=D(Y.hour===null||Y.hour<12),Ue=q(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+($.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ve=q(()=>{const l=v.value;return{hour:l.hour===null?"--":T.value===!0?pe(l.hour):String(N.value===!0?l.hour===0?12:l.hour:l.hour>12?l.hour-12:l.hour),minute:l.minute===null?"--":pe(l.minute),second:l.second===null?"--":pe(l.second)}}),T=q(()=>e.format24h!==null?e.format24h:I.lang.date.format24h),Ee=q(()=>{const l=_.value==="hour",u=l===!0?12:60,m=v.value[_.value];let M=`rotate(${Math.round(m*(360/u))-180}deg) translateX(-50%)`;return l===!0&&T.value===!0&&v.value.hour>=12&&(M+=" scale(.7)"),{transform:M}}),qe=q(()=>v.value.hour!==null),me=q(()=>qe.value===!0&&v.value.minute!==null),te=q(()=>e.hourOptions!==void 0?l=>e.hourOptions.includes(l):e.options!==void 0?l=>e.options(l,null,null):null),se=q(()=>e.minuteOptions!==void 0?l=>e.minuteOptions.includes(l):e.options!==void 0?l=>e.options(v.value.hour,l,null):null),fe=q(()=>e.secondOptions!==void 0?l=>e.secondOptions.includes(l):e.options!==void 0?l=>e.options(v.value.hour,v.value.minute,l):null),G=q(()=>{if(te.value===null)return null;const l=i(0,11,te.value),u=i(12,11,te.value);return{am:l,pm:u,values:l.values.concat(u.values)}}),oe=q(()=>se.value!==null?i(0,59,se.value):null),ne=q(()=>fe.value!==null?i(0,59,fe.value):null),re=q(()=>{switch(_.value){case"hour":return G.value;case"minute":return oe.value;case"second":return ne.value}}),Ve=q(()=>{let l,u,m=0,x=1;const M=re.value!==null?re.value.values:void 0;_.value==="hour"?T.value===!0?(l=0,u=23):(l=0,u=11,N.value===!1&&(m=12)):(l=0,u=55,x=5);const W=[];for(let C=l,K=l;C<=u;C+=x,K++){const ue=C+m,nl=M!==void 0&&M.includes(ue)===!1,rl=_.value==="hour"&&C===0?T.value===!0?"00":"12":C;W.push({val:ue,index:K,disable:nl,label:rl})}return W}),Ce=q(()=>[[Vl,ee,void 0,{stop:!0,prevent:!0,mouse:!0}]]);ye(()=>e.modelValue,l=>{const u=Ie(l,A.value,o.value,e.calendar,n.value);(u.dateHash!==v.value.dateHash||u.timeHash!==v.value.timeHash)&&(v.value=u,u.hour===null?_.value="hour":N.value=u.hour<12)}),ye([A,o],()=>{il(()=>{Ke()})});function we(){const l={...R(),...jl()};Ke(l),Object.assign(v.value,l),_.value="hour"}function i(l,u,m){const x=Array.apply(null,{length:u+1}).map((M,W)=>{const C=W+l;return{index:C,val:m(C)===!0}}).filter(M=>M.val===!0).map(M=>M.index);return{min:x[0],max:x[x.length-1],values:x,threshold:u+1}}function c(l,u,m){const x=Math.abs(l-u);return Math.min(x,m-x)}function a(l,{min:u,max:m,values:x,threshold:M}){if(l===u)return u;if(l<u||l>m)return c(l,u,M)<=c(l,m,M)?u:m;const W=x.findIndex(ue=>l<=ue),C=x[W-1],K=x[W];return l-C<=K-l?C:K}function p(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function d(){if(typeof e.defaultDate!="string"){const l=R(!0);return l.dateHash=Fl(l),l}return Ie(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function S(){return fl(H)===!0||re.value!==null&&(re.value.values.length===0||_.value==="hour"&&T.value!==!0&&G.value[N.value===!0?"am":"pm"].values.length===0)}function V(){const l=B.value,{top:u,left:m,width:x}=l.getBoundingClientRect(),M=x/2;return{top:u+M,left:m+M,dist:M*.7}}function ee(l){if(S()!==!0){if(l.isFirst===!0){Z=V(),O=be(l.evt,Z);return}O=be(l.evt,Z,O),l.isFinal===!0&&(Z=!1,O=null,P())}}function P(){_.value==="hour"?_.value="minute":e.withSeconds&&_.value==="minute"&&(_.value="second")}function be(l,u,m){const x=dl(l),M=Math.abs(x.top-u.top),W=Math.sqrt(Math.pow(Math.abs(x.top-u.top),2)+Math.pow(Math.abs(x.left-u.left),2));let C,K=Math.asin(M/W)*(180/Math.PI);if(x.top<u.top?K=u.left<x.left?90-K:270+K:K=u.left<x.left?K+90:270-K,_.value==="hour"){if(C=K/30,G.value!==null){const ue=T.value!==!0?N.value===!0:G.value.am.values.length!==0&&G.value.pm.values.length!==0?W>=u.dist:G.value.am.values.length!==0;C=a(C+(ue===!0?0:12),G.value[ue===!0?"am":"pm"])}else C=Math.round(C),T.value===!0?W<u.dist?C<12&&(C+=12):C===12&&(C=0):N.value===!0&&C===12?C=0:N.value===!1&&C!==12&&(C+=12);T.value===!0&&(N.value=C<12)}else C=Math.round(K/6)%60,_.value==="minute"&&oe.value!==null?C=a(C,oe.value):_.value==="second"&&ne.value!==null&&(C=a(C,ne.value));return m!==C&&tl[_.value](C),C}const le={hour(){_.value="hour"},minute(){_.value="minute"},second(){_.value="second"}};function Me(l){l.keyCode===13&&He()}function _e(l){l.keyCode===13&&Le()}function ke(l){S()!==!0&&(I.platform.is.desktop!==!0&&be(l,V()),P())}function ae(l){S()!==!0&&be(l,V())}function k(l){if(l.keyCode===13)_.value="hour";else if([37,39].includes(l.keyCode)){const u=l.keyCode===37?-1:1;if(G.value!==null){const m=T.value===!0?G.value.values:G.value[N.value===!0?"am":"pm"].values;if(m.length===0)return;if(v.value.hour===null)ge(m[0]);else{const x=(m.length+m.indexOf(v.value.hour)+u)%m.length;ge(m[x])}}else{const m=T.value===!0?24:12,x=T.value!==!0&&N.value===!1?12:0,M=v.value.hour===null?-u:v.value.hour;ge(x+(24+M+u)%m)}}}function w(l){if(l.keyCode===13)_.value="minute";else if([37,39].includes(l.keyCode)){const u=l.keyCode===37?-1:1;if(oe.value!==null){const m=oe.value.values;if(m.length===0)return;if(v.value.minute===null)Fe(m[0]);else{const x=(m.length+m.indexOf(v.value.minute)+u)%m.length;Fe(m[x])}}else{const m=v.value.minute===null?-u:v.value.minute;Fe((60+m+u)%60)}}}function Pe(l){if(l.keyCode===13)_.value="second";else if([37,39].includes(l.keyCode)){const u=l.keyCode===37?-1:1;if(ne.value!==null){const m=ne.value.values;if(m.length===0)return;if(v.value.seconds===null)Ne(m[0]);else{const x=(m.length+m.indexOf(v.value.second)+u)%m.length;Ne(m[x])}}else{const m=v.value.second===null?-u:v.value.second;Ne((60+m+u)%60)}}}function ge(l){v.value.hour!==l&&(v.value.hour=l,xe())}function Fe(l){v.value.minute!==l&&(v.value.minute=l,xe())}function Ne(l){v.value.second!==l&&(v.value.second=l,xe())}const tl={hour:ge,minute:Fe,second:Ne};function He(){N.value===!1&&(N.value=!0,v.value.hour!==null&&(v.value.hour-=12,xe()))}function Le(){N.value===!0&&(N.value=!1,v.value.hour!==null&&(v.value.hour+=12,xe()))}function xe(){if(te.value!==null&&te.value(v.value.hour)!==!0){v.value=Ie(),_.value="hour";return}if(se.value!==null&&se.value(v.value.minute)!==!0){v.value.minute=null,v.value.second=null,_.value="minute";return}if(e.withSeconds===!0&&fe.value!==null&&fe.value(v.value.second)!==!0){v.value.second=null,_.value="second";return}v.value.hour===null||v.value.minute===null||e.withSeconds===!0&&v.value.second===null||Ke()}function Ke(l){const u=Object.assign({...v.value},l),m=e.calendar==="persian"?pe(u.hour)+":"+pe(u.minute)+(e.withSeconds===!0?":"+pe(u.second):""):Nl(new Date(u.year,u.month===null?null:u.month-1,u.day,u.hour,u.minute,u.second,u.millisecond),A.value,o.value,u.year,u.timezoneOffset);u.changed=m!==e.modelValue,F("update:modelValue",m,u)}function sl(){const l=[h("div",{class:"q-time__link "+(_.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:le.hour,onKeyup:k},ve.value.hour),h("div",":"),h("div",qe.value===!0?{class:"q-time__link "+(_.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:w,onClick:le.minute}:{class:"q-time__link"},ve.value.minute)];e.withSeconds===!0&&l.push(h("div",":"),h("div",me.value===!0?{class:"q-time__link "+(_.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onKeyup:Pe,onClick:le.second}:{class:"q-time__link"},ve.value.second));const u=[h("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},l)];return T.value===!1&&u.push(h("div",{class:"q-time__header-ampm column items-between no-wrap"},[h("div",{class:"q-time__link "+(N.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:He,onKeyup:Me},"AM"),h("div",{class:"q-time__link "+(N.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:s.value,onClick:Le,onKeyup:_e},"PM")])),h("div",{class:"q-time__header flex flex-center no-wrap "+U.value},u)}function ol(){const l=v.value[_.value];return h("div",{class:"q-time__content col relative-position"},[h(bl,{name:"q-transition--scale"},()=>h("div",{key:"clock"+_.value,class:"q-time__container-parent absolute-full"},[h("div",{ref:B,class:"q-time__container-child fit overflow-hidden"},[De(h("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:ke,onMousedown:ae},[h("div",{class:"q-time__clock-circle fit"},[h("div",{class:"q-time__clock-pointer"+(v.value[_.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Ee.value}),Ve.value.map(u=>h("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${u.index}`+(u.val===l?" q-time__clock-position--active "+U.value:u.disable===!0?" q-time__clock-position--disable":"")},[h("span",u.label)]))])]),Ce.value)])])),e.nowBtn===!0?h(Ae,{class:"q-time__now-button absolute",icon:I.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:s.value,onClick:we}):null])}return H.proxy.setNow=we,()=>{const l=[ol()],u=vl(z.default);return u!==void 0&&l.push(h("div",{class:"q-time__actions"},u)),e.name!==void 0&&e.disable!==!0&&de(l,"push"),h("div",{class:Ue.value,tabindex:-1},[sl(),h("div",{class:"q-time__main col overflow-auto"},l)])}}});const Dl=["none","strict","leaf","leaf-filtered"];var $l=Ze({name:"QTree",props:{...el,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Dl.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:z,emit:F}){const{proxy:H}=al(),{$q:I}=H,$=ll(e,I),s=D({}),U=D(e.ticked||[]),b=D(e.expanded||[]);let R={};gl(()=>{R={}});const X=q(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+($.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),de=q(()=>e.selected!==void 0),Z=q(()=>e.icon||I.iconSet.tree.icon),O=q(()=>e.controlColor||e.color),B=q(()=>e.textColor!==void 0?` text-${e.textColor}`:""),A=q(()=>{const i=e.selectedColor||e.color;return i?` text-${i}`:""}),o=q(()=>e.filterMethod!==void 0?e.filterMethod:(i,c)=>{const a=c.toLowerCase();return i[e.labelKey]&&i[e.labelKey].toLowerCase().indexOf(a)>-1}),n=q(()=>{const i={},c=(a,p)=>{const d=a.tickStrategy||(p?p.tickStrategy:e.tickStrategy),S=a[e.nodeKey],V=a[e.childrenKey]&&Array.isArray(a[e.childrenKey])&&a[e.childrenKey].length!==0,ee=a.disabled!==!0&&de.value===!0&&a.selectable!==!1,P=a.disabled!==!0&&a.expandable!==!1,be=d!=="none",le=d==="strict",Me=d==="leaf-filtered",_e=d==="leaf"||d==="leaf-filtered";let ke=a.disabled!==!0&&a.tickable!==!1;_e===!0&&ke===!0&&p&&p.tickable!==!0&&(ke=!1);let ae=a.lazy;ae===!0&&s.value[S]!==void 0&&Array.isArray(a[e.childrenKey])===!0&&(ae=s.value[S]);const k={key:S,parent:p,isParent:V,lazy:ae,disabled:a.disabled,link:a.disabled!==!0&&(ee===!0||P===!0&&(V===!0||ae===!0)),children:[],matchesFilter:e.filter?o.value(a,e.filter):!0,selected:S===e.selected&&ee===!0,selectable:ee,expanded:V===!0?b.value.includes(S):!1,expandable:P,noTick:a.noTick===!0||le!==!0&&ae&&ae!=="loaded",tickable:ke,tickStrategy:d,hasTicking:be,strictTicking:le,leafFilteredTicking:Me,leafTicking:_e,ticked:le===!0?U.value.includes(S):V===!0?!1:U.value.includes(S)};if(i[S]=k,V===!0&&(k.children=a[e.childrenKey].map(w=>c(w,k)),e.filter&&(k.matchesFilter!==!0?k.matchesFilter=k.children.some(w=>w.matchesFilter):k.noTick!==!0&&k.disabled!==!0&&k.tickable===!0&&Me===!0&&k.children.every(w=>w.matchesFilter!==!0||w.noTick===!0||w.tickable!==!0)===!0&&(k.tickable=!1)),k.matchesFilter===!0&&(k.noTick!==!0&&le!==!0&&k.children.every(w=>w.noTick)===!0&&(k.noTick=!0),_e))){if(k.ticked=!1,k.indeterminate=k.children.some(w=>w.indeterminate===!0),k.tickable=k.tickable===!0&&k.children.some(w=>w.tickable),k.indeterminate!==!0){const w=k.children.reduce((Pe,ge)=>ge.ticked===!0?Pe+1:Pe,0);w===k.children.length?k.ticked=!0:w>0&&(k.indeterminate=!0)}k.indeterminate===!0&&(k.indeterminateNextState=k.children.every(w=>w.tickable!==!0||w.ticked!==!0))}return k};return e.nodes.forEach(a=>c(a,null)),i});ye(()=>e.ticked,i=>{U.value=i}),ye(()=>e.expanded,i=>{b.value=i});function Y(i){const c=[].reduce,a=(p,d)=>{if(p||!d)return p;if(Array.isArray(d)===!0)return c.call(Object(d),a,p);if(d[e.nodeKey]===i)return d;if(d[e.childrenKey])return a(null,d[e.childrenKey])};return a(null,e.nodes)}function _(){return U.value.map(i=>Y(i))}function v(){return b.value.map(i=>Y(i))}function N(i){return i&&n.value[i]?n.value[i].expanded:!1}function Ue(){e.expanded!==void 0?F("update:expanded",[]):b.value=[]}function ve(){const i=[],c=a=>{a[e.childrenKey]&&a[e.childrenKey].length!==0&&a.expandable!==!1&&a.disabled!==!0&&(i.push(a[e.nodeKey]),a[e.childrenKey].forEach(c))};e.nodes.forEach(c),e.expanded!==void 0?F("update:expanded",i):b.value=i}function T(i,c,a=Y(i),p=n.value[i]){if(p.lazy&&p.lazy!=="loaded"){if(p.lazy==="loading")return;s.value[i]="loading",Array.isArray(a[e.childrenKey])!==!0&&(a[e.childrenKey]=[]),F("lazyLoad",{node:a,key:i,done:d=>{s.value[i]="loaded",a[e.childrenKey]=Array.isArray(d)===!0?d:[],il(()=>{const S=n.value[i];S&&S.isParent===!0&&Ee(i,!0)})},fail:()=>{delete s.value[i],a[e.childrenKey].length===0&&delete a[e.childrenKey]}})}else p.isParent===!0&&p.expandable===!0&&Ee(i,c)}function Ee(i,c){let a=b.value;const p=e.expanded!==void 0;if(p===!0&&(a=a.slice()),c){if(e.accordion&&n.value[i]){const d=[];n.value[i].parent?n.value[i].parent.children.forEach(S=>{S.key!==i&&S.expandable===!0&&d.push(S.key)}):e.nodes.forEach(S=>{const V=S[e.nodeKey];V!==i&&d.push(V)}),d.length!==0&&(a=a.filter(S=>d.includes(S)===!1))}a=a.concat([i]).filter((d,S,V)=>V.indexOf(d)===S)}else a=a.filter(d=>d!==i);p===!0?F("update:expanded",a):b.value=a}function qe(i){return i&&n.value[i]?n.value[i].ticked:!1}function me(i,c){let a=U.value;const p=e.ticked!==void 0;p===!0&&(a=a.slice()),c?a=a.concat(i).filter((d,S,V)=>V.indexOf(d)===S):a=a.filter(d=>i.includes(d)===!1),p===!0&&F("update:ticked",a)}function te(i,c,a){const p={tree:H,node:i,key:a,color:e.color,dark:$.value};return We(p,"expanded",()=>c.expanded,d=>{d!==c.expanded&&T(a,d)}),We(p,"ticked",()=>c.ticked,d=>{d!==c.ticked&&me([a],d)}),p}function se(i){return(e.filter?i.filter(c=>n.value[c[e.nodeKey]].matchesFilter):i).map(c=>ne(c))}function fe(i){if(i.icon!==void 0)return h(L,{class:"q-tree__icon q-mr-sm",name:i.icon,color:i.iconColor});const c=i.img||i.avatar;if(c)return h("img",{class:`q-tree__${i.img?"img":"avatar"} q-mr-sm`,src:c})}function G(){F("afterShow")}function oe(){F("afterHide")}function ne(i){const c=i[e.nodeKey],a=n.value[c],p=i.header&&z[`header-${i.header}`]||z["default-header"],d=a.isParent===!0?se(i[e.childrenKey]):[],S=d.length!==0||a.lazy&&a.lazy!=="loaded";let V=i.body&&z[`body-${i.body}`]||z["default-body"];const ee=p!==void 0||V!==void 0?te(i,a,c):null;return V!==void 0&&(V=h("div",{class:"q-tree__node-body relative-position"},[h("div",{class:B.value},[V(ee)])])),h("div",{key:c,class:`q-tree__node relative-position q-tree__node--${S===!0?"parent":"child"}`},[h("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(a.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(a.selected===!0?" q-tree__node--selected":"")+(a.disabled===!0?" q-tree__node--disabled":""),tabindex:a.link===!0?0:-1,onClick:P=>{Ve(i,a,P)},onKeypress(P){hl(P)!==!0&&(P.keyCode===13?Ve(i,a,P,!0):P.keyCode===32&&Ce(i,a,P,!0))}},[h("div",{class:"q-focus-helper",tabindex:-1,ref:P=>{R[a.key]=P}}),a.lazy==="loading"?h(pl,{class:"q-tree__spinner",color:O.value}):S===!0?h(L,{class:"q-tree__arrow"+(a.expanded===!0?" q-tree__arrow--rotate":""),name:Z.value,onClick(P){Ce(i,a,P)}}):null,a.hasTicking===!0&&a.noTick!==!0?h(yl,{class:"q-tree__tickbox",modelValue:a.indeterminate===!0?null:a.ticked,color:O.value,dark:$.value,dense:!0,keepColor:!0,disable:a.tickable!==!0,onKeydown:Ge,"onUpdate:modelValue":P=>{we(a,P)}}):null,h("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(a.selected===!0?A.value:B.value)},[p?p(ee):[fe(i),h("div",i[e.labelKey])]])]),S===!0?e.noTransition===!0?h("div",{class:"q-tree__node-collapsible"+B.value,key:`${c}__q`},[V,h("div",{class:"q-tree__children"+(a.disabled===!0?" q-tree__node--disabled":"")},a.expanded?d:null)]):h(Rl,{duration:e.duration,onShow:G,onHide:oe},()=>De(h("div",{class:"q-tree__node-collapsible"+B.value,key:`${c}__q`},[V,h("div",{class:"q-tree__children"+(a.disabled===!0?" q-tree__node--disabled":"")},d)]),[[Cl,a.expanded]])):V])}function re(i){const c=R[i];c&&c.focus()}function Ve(i,c,a,p){p!==!0&&c.selectable!==!1&&re(c.key),de.value&&c.selectable?e.noSelectionUnset===!1?F("update:selected",c.key!==e.selected?c.key:null):c.key!==e.selected&&F("update:selected",c.key===void 0?null:c.key):Ce(i,c,a,p),typeof i.handler=="function"&&i.handler(i)}function Ce(i,c,a,p){a!==void 0&&Ge(a),p!==!0&&c.selectable!==!1&&re(c.key),T(c.key,!c.expanded,i,c)}function we(i,c){if(i.indeterminate===!0&&(c=i.indeterminateNextState),i.strictTicking)me([i.key],c);else if(i.leafTicking){const a=[],p=d=>{d.isParent?(c!==!0&&d.noTick!==!0&&d.tickable===!0&&a.push(d.key),d.leafTicking===!0&&d.children.forEach(p)):d.noTick!==!0&&d.tickable===!0&&(d.leafFilteredTicking!==!0||d.matchesFilter===!0)&&a.push(d.key)};p(i),me(a,c)}}return e.defaultExpandAll===!0&&ve(),Object.assign(H,{getNodeByKey:Y,getTickedNodes:_,getExpandedNodes:v,isExpanded:N,collapseAll:Ue,expandAll:ve,setExpanded:T,isTicked:qe,setTicked:me}),()=>{const i=se(e.nodes);return h("div",{class:X.value},i.length===0?e.filter?e.noResultsLabel||I.lang.tree.noResults:e.noNodesLabel||I.lang.tree.noNodes:i)}}}),Ul=[{label:"Seleccionar todos los permisos",value:"Seleccionar todos los permisos",children:[{label:"Gesti\xF3n de Red",value:"Gesti\xF3n de Red",children:[{label:"Router",value:"Router",children:[{label:"Acceso Men\xFA",value:"GestionRed-Router-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Router-Nuevo"},{label:"Editar",value:"GestionRed-Router-Editar"},{label:"Eliminar",value:"GestionRed-Router-Eliminar"}]},{label:"Redes Ipv4",value:"Redes Ipv4",children:[{label:"Acceso Men\xFA",value:"GestionRed-Redes-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Redes-Nuevo"},{label:"Editar",value:"GestionRed-Redes-Editar"},{label:"Eliminar",value:"GestionRed-Redes-Eliminar"},{label:"Escanear Red",value:"GestionRed-Redes-EscanearRed"}]},{label:"Monitoreo",value:"Monitoreo",children:[{label:"Acceso Men\xFA",value:"GestionRed-Monitoreo-AccesoMenu"},{label:"Nuevo",value:"GestionRed-Monitoreo-Nuevo"},{label:"Editar",value:"GestionRed-Monitoreo-Editar"},{label:"Eliminar",value:"GestionRed-Monitoreo-Eliminar"},{label:"Ver antena",value:"GestionRed-Monitoreo-VerAntena"},{label:"Ping Antena",value:"GestionRed-Monitoreo-PingAntena"},{label:"Gr\xE1ficos",value:"GestionRed-Monitoreo-Graficos"}]},{label:"Trafico",value:"Trafico",children:[{label:"Lista tr\xE1fico",value:"GestionRed-Trafico-Lista"},{label:"Lista Ips visitadas",value:"GestionRed-Monitoreo-ListaIPS"}]}]},{label:"Servicios",value:"Servicios",children:[{label:"Internet",value:"Internet",children:[{label:"Acceso Men\xFA",value:"Servicios-Internet-AccesoMenu"},{label:"Nuevo",value:"Servicios-Internet-Nuevo"},{label:"Editar",value:"Servicios-Internet-Editar"},{label:"Eliminar",value:"Servicios-Internet-Eliminar"}]},{label:"Voz",value:"Voz",children:[{label:"Acceso Men\xFA",value:"Servicios-Voz-AccesoMenu"},{label:"Nuevo",value:"Servicios-Voz-Nuevo"},{label:"Editar",value:"Servicios-Voz-Editar"},{label:"Eliminar",value:"Servicios-Voz-Eliminar"}]},{label:"Personalizado",value:"Personalizado",children:[{label:"Acceso Men\xFA",value:"Servicios-Personalizado-AccesoMenu"},{label:"Nuevo",value:"Servicios-Personalizado-Nuevo"},{label:"Editar",value:"Servicios-Personalizado-Editar"},{label:"Eliminar",value:"Servicios-Personalizado-Eliminar"}]}]},{label:"Clientes",value:"Clientes",children:[{label:"Usuarios",value:"Usuarios",children:[{label:"Acceso Men\xFA",value:"Clientes-Usuarios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Usuarios-Nuevo"},{label:"Eliminar",value:"Clientes-Usuarios-Eliminar"},{label:"Ver perfil(Editar)",value:"Clientes-Usuarios-VerPerfil"},{label:"Editar datos",value:"Clientes-Usuarios-EnviarDatos"},{label:"Activar/Suspender",value:"Clientes-Usuarios-ActivarSuspender"},{label:"Retirar",value:"Clientes-Usuarios-Retirar"},{label:"Herramientas",value:"Clientes-Usuarios-Herramientas"}]},{label:"Contratos",value:"Contratos",children:[{label:"Acceso Men\xFA",value:"Clientes-Contratos-AccesoMenu"},{label:"Nuevo",value:"Clientes-Contratos-Nuevo"},{label:"Eliminar",value:"Clientes-Contratos-Eliminar"},{label:"Editar",value:"Clientes-Contratos-Editar"}]},{label:"Servicios",value:"Servicios ",children:[{label:"Nuevo",value:"Clientes-Servicios-Nuevo"},{label:"Editar",value:"Clientes-Servicios-Editar"},{label:"Eliminar",value:"Clientes-Servicios-Eliminar"}]},{label:"Facturaci\xF3n",value:"Facturaci\xF3n",children:[{label:"Nueva factura",value:"Clientes-Fact-NuevaFactura"},{label:"Eliminar factura",value:"Clientes-Fact-EliminarFactura"},{label:"Editar factura",value:"Clientes-Fact-EditarFactura"},{label:"Anular factura",value:"Clientes-Fact-AnularFactura"},{label:"Configuraci\xF3n",value:"Clientes-Fact-Configuracion"},{label:"Pagar factura",value:"Clientes-Fact-PagarFactura"},{label:"Editar pago factura",value:"Clientes-Fact-EditPagoFact"},{label:"Eliminar pago factura",value:"Clientes-Fact-DeletePagoFact"},{label:"Agregar saldo",value:"Clientes-Facturacion-AgregarSaldo"},{label:"Eliminar saldo",value:"Clientes-Facturacion-EliminarSaldo"}]},{label:"Soporte",value:"Soporte",children:[{label:"Nuevo",value:"Clientes-Soporte-Nuevo"},{label:"Editar",value:"Clientes-Soporte-Editar"},{label:"Eliminar",value:"Clientes-Soporte-Eliminar"},{label:"Cerrar",value:"Clientes-Soporte-Cerrar"}]},{label:"Email & SMS",value:"Email & SMS",children:[{label:"Nuevo correo",value:"Clientes-EmailSMS-NuevoEmail"},{label:"Reenviar correo",value:"Clientes-EmailSMS-ReenviarEmail"},{label:"Nuevo sms",value:"Clientes-EmailSMS-NuevoSMS"},{label:"Reenviar sms",value:"Clientes-EmailSMS-ReenviarSMS"}]},{label:"Documentos",value:"Documentos",children:[{label:"Nuevo Contrato",value:"Clientes-Documents-NuevoContrato"},{label:"Eliminar Contrato",value:"Clientes-Documents-DeleteContrato"},{label:"Editar Contrato",value:"Clientes-Documentos-EditContrato"},{label:"Nuevo documento",value:"Clientes-Documentos-NuevoDocument"},{label:"Eliminar documento",value:"Clientes-Documentos-DeleteDocument"},{label:"Editar documento",value:"Clientes-Documentos-EditarDocument"},{label:"Nueva nota",value:"Clientes-Documentos-NuevaNota"},{label:"Eliminar nota",value:"Clientes-Documentos-EliminarNota"}]},{label:"Mapa clientes",value:"Mapa clientes",children:[{label:"Mapa cliente",value:"Clientes-MapaCliente"}]},{label:"Anuncios",value:"Anuncios",children:[{label:"Acceso men\xFA",value:"Clientes-Anuncios-AccesoMenu"},{label:"Nuevo",value:"Clientes-Anuncios-Nuevo"},{label:"Eliminar",value:"Clientes-Anuncios-Eliminar"}]},{label:"Instalaciones",value:"Instalaciones",children:[{label:"Acceso men\xFA",value:"Clientes-Instalaciones-AccesoMenu"},{label:"Nuevo registro",value:"Clientes-Instalaciones-NuevoRegistro"},{label:"Eliminar registro",value:"Clientes-Instalaciones-DeleteRegistro"},{label:"Editar registro",value:"Clientes-Instalaciones-EditarRegistro"},{label:"Aceptar instalaci\xF3n",value:"Clientes-Instalaciones-AceptarInstalacion"},{label:"Eliminar instalaci\xF3n",value:"Clientes-Instalaciones-EliminarInstalacion"},{label:"Agregar materiales",value:"Clientes-Instalaciones-AddMaterial"},{label:"Dar alta instalaci\xF3n",value:"Clientes-Instalaciones-DarAltaInstalacion"},{label:"Editar instalaci\xF3n",value:"Clientes-Instalaciones-EditarInstalacion"}]},{label:"Correo",value:"Correo",children:[{label:"Acceso men\xFA",value:"Clientes-Correo-AccesoMenu"},{label:"Nuevo",value:"Clientes-Correo-Nuevo"},{label:"Reenviar",value:"Clientes-Correo-Reenviar"}]}]},{label:"Fichas Hotspot",value:"Fichas Hotspot",children:[{label:"Fichas",value:"Fichas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Fichas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Fichas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Fichas-Eliminar"},{label:"Imprimir",value:"FichasHotspot-Fichas-Imprimir"}]},{label:"Router/Perfiles",value:"Router/Perfiles",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Router-AccesoMenu"},{label:"Nuevo router",value:"FichasHotspot-Router-NuevoRouter"},{label:"Eliminar router",value:"FichasHotspot-Router-EliminarRouter"},{label:"Editar router",value:"FichasHotspot-Router-EditarRouter"},{label:"Nuevo perfil",value:"FichasHotspot-Router-NuevoPerfil"},{label:"Eliminar perfil",value:"FichasHotspot-Router-EliminarPerfil"},{label:"Editar perfil",value:"FichasHotspot-Router-EditarPerfil"}]},{label:"Plantillas",value:"Plantillas",children:[{label:"Acceso Men\xFA",value:"FichasHotspot-Plantillas-AccesoMenu"},{label:"Nuevo",value:"FichasHotspot-Plantillas-Nuevo"},{label:"Eliminar",value:"FichasHotspot-Plantillas-Eliminar"},{label:"Editar",value:"FichasHotspot-Plantillas-Editar"}]}]},{label:"Tareas",value:"Tareas",children:[{label:"Lista tareas",value:"Lista tareas",children:[{label:"Nuevo",value:"Tareas-Nuevo"},{label:"Eliminar",value:"Tareas-Eliminar"},{label:"Editar",value:"Tareas-Editar"}]}]},{label:"Finanzas",value:"Finanzas",children:[{label:"Facturas",value:"Facturas",children:[{label:"Acceso Men\xFA",value:"Finanzas-Facturas-AccesoMenu"},{label:"Pagar",value:"Finanzas-Facturas-Pagar"},{label:"Editar",value:"Finanzas-Facturas-Editar"},{label:"Eliminar",value:"Finanzas-Facturas-Eliminar"},{label:"Anular",value:"Finanzas-Facturas-Anular"},{label:"Herramientas",value:"Finanzas-Facturas-Herramientas"}]},{label:"Registar pago",value:"Registar pago",children:[{label:"Acceso Men\xFA",value:"Finanzas-RegistarPago-AccesoMenu"},{label:"Pagos masivos",value:"Finanzas-RegistarPago-PagosMasivos"},{label:"Pagar",value:"Finanzas-RegistarPago-Pagar"},{label:"Promesa de pago",value:"Finanzas-RegistarPago-PromesaPago"},{label:"Permitir saldo",value:"Finanzas-RegistarPago-PermitirSaldo"},{label:"Cambiar dia de pago",value:"Finanzas-RegistarPago-CambiarDiaPago"},{label:"Eliminar pago",value:"Finanzas-RegistarPago-Eliminarpago"},{label:"Editar pago",value:"Finanzas-RegistarPago-EditarPago"}]},{label:"Transacciones",value:"Transacciones",children:[{label:"Acceso Men\xFA",value:"Finanzas-Transacciones-AccesoMenu"},{label:"Editar",value:"Finanzas-Transacciones-Editar"},{label:"Eliminar",value:"Finanzas-Transacciones-Eliminar"},{label:"Resumen PDF/Totales",value:"Finanzas-Transacciones-ResumenPDF"},{label:"Estadisticas",value:"Finanzas-Transacciones-Estadisticas"}]},{label:"Ingresos & Egresos",value:"Ingresos & Egresos",children:[{label:"Nuevo",value:"Finanzas-IngresosEgresos-Nuevo"},{label:"Eliminar",value:"Finanzas-IngresosEgresos-Eliminar"},{label:"Editar",value:"Finanzas-IngresosEgresos-Editar"}]},{label:"Reporte pago",value:"Reporte pago",children:[{label:"Marcar revisado",value:"Finanzas-ReportePago-MarcarRevisado"},{label:"Pagar factura",value:"Finanzas-ReportePago-PagarFactura"}]}]},{label:"Almac\xE9n",value:"Almac\xE9n",children:[{label:"Categor\xEDas",value:"Categor\xEDas",children:[{label:"Acceso Men\xFA",value:"Almacen-Categor\xEDas-AccesoMenu"},{label:"Nuevo",value:"Almacen-Categor\xEDas-Nuevo"},{label:"Editar",value:"Almacen-Categor\xEDas-Editar"},{label:"Eliminar",value:"Almacen-Categor\xEDas-Eliminar"}]},{label:"Productos",value:"Productos",children:[{label:"Acceso Men\xFA",value:"Almacen-Productos-AccesoMenu"},{label:"Nuevo",value:"Almacen-Productos-Nuevo"},{label:"Editar",value:"Almacen-Productos-Editar"},{label:"Eliminar",value:"Almacen-Productos-Eliminar"}]}]},{label:"Ticket_soporte",value:"Ticket_soporte",children:[{label:"Ticket",value:"Ticket",children:[{label:"Acceso Men\xFA",value:"TicketSoporte-Ticket-AccesoMenu"},{label:"Nuevo",value:"TicketSoporte-Ticket-Nuevo"},{label:"Editar",value:"TicketSoporte-Ticket-Editar"},{label:"Eliminar",value:"TicketSoporte-Ticket-Eliminar"},{label:"Cerrar",value:"TicketSoporte-Ticket-Cerrar"},{label:"Ver todos los tickets(Solo para t\xE9cnicos)",value:"TicketSoporte-Ticket-VerAllTickets"}]}]},{label:"SMS ",value:"SMS ",children:[{label:"SMS  ",value:"SMS  ",children:[{label:"Acceso Men\xFA",value:"SMS-SMS-AccesoMenu"},{label:"Nuevo",value:"SMS-SMS-Nuevo"},{label:"Reenviar",value:"SMS-SMS-Reenviar"}]}]},{label:"Configuraci\xF3n",value:"Configuraci\xF3n",children:[{label:"Ajustes",value:"Ajustes",children:[{label:"Acceso Men\xFA",value:"Configuraci\xF3n-Ajustes-AccesoMenu"},{label:"General",value:"Configuraci\xF3n-Ajustes-General"},{label:"Gesti\xF3n personal",value:"Configuraci\xF3n-Ajustes-Gesti\xF3nPersonal"},{label:"Servidor de correo",value:"Configuraci\xF3n-Ajustes-ServidorCorreo"},{label:"Facturaci\xF3n",value:"Configuraci\xF3n-Ajustes-Facturaci\xF3n"},{label:"Factura Electr\xF3nica",value:"Configuraci\xF3n-Ajustes-FacturaElectronica"},{label:"Pasarelas de pagos",value:"Configuraci\xF3n-Ajustes-PasarelasPago"},{label:"Editor plantillas",value:"Configuraci\xF3n-Ajustes-EditorPlantillas"},{label:"Portal cliente",value:"Configuraci\xF3n-Ajustes-PortalClientes"},{label:"Tickets",value:"Configuraci\xF3n-Ajustes-Tickets"},{label:"Importar clientes",value:"Configuraci\xF3n-Ajustes-ImportarClientes"},{label:"Ubicaciones",value:"Configuraci\xF3n-Ajustes-Ubicaciones"}]},{label:"Ajustes",value:"Ajustes",children:[{label:"SMS",value:"Configuraci\xF3n-Ajustes-SMS"},{label:"Cloud",value:"Configuraci\xF3n-Ajustes-Cloud"},{label:"Google",value:"Configuraci\xF3n-Ajustes-Google"},{label:"Bases de datos",value:"Configuraci\xF3n-Ajustes-BasesDatos"},{label:"Cambios masivos",value:"Configuraci\xF3n-Ajustes-CambiosMasivos"},{label:"Plantilla configuraci\xF3n",value:"Configuraci\xF3n-Ajustes-PlantillaConfig"},{label:"Crontab",value:"Configuraci\xF3n-Ajustes-Crontab"},{label:"Logs",value:"Configuraci\xF3n-Ajustes-Logs"},{label:"Sistema",value:"Configuraci\xF3n-Ajustes-Sistema"},{label:"Servidor",value:"Configuraci\xF3n-Ajustes-Servidor"},{label:"Licencia",value:"Configuraci\xF3n-Ajustes-Licencia"},{label:"Migrar",value:"Configuraci\xF3n-Ajustes-Migrar"},{label:"Actualizar sistema",value:"Configuraci\xF3n-Ajustes-ActualizarSistema"}]}]},{label:"Widget Inicio",value:"Widget Inicio",children:[{label:"Widgets",value:"Widgets",children:[{label:"Clientes online",value:"WidgetInicio-Widget-ClientesOnline"},{label:"Transacciones",value:"WidgetInicio-Widget-Transacciones"},{label:"Facturas",value:"WidgetInicio-Widget-Facturas"},{label:"Ticket soporte",value:"WidgetInicio-Widget-TicketSoporte"},{label:"Tr\xE1fico",value:"WidgetInicio-Widget-Tr\xE1fico"},{label:"Resumen sistema",value:"WidgetInicio-Widget-ResumenSistema"},{label:"Pagos registrados",value:"WidgetInicio-Widget-PagosRegistrados"},{label:"\xDAltimos conectados",value:"WidgetInicio-Widget-\xDAltimosConectados"},{label:"Servidor",value:"WidgetInicio-Widget-Servidor"},{label:"Resumen Facturaci\xF3n",value:"WidgetInicio-Widget-ResumenFacturacion"},{label:"Emisores",value:"WidgetInicio-Widget-Emisores"}]}]}]}];const je=D(!1),g=D({usuario:"",email:"",cedula:"",celular:"",fullName:"",roles:[""],permisos:[],horarios_dias:[],horarios_time:["",""],receiveSupportEmail:!1,company:"",sucursales:[""],password:"",confirmPassword:"",isActive:!0}),E=D({usuario:{message:"",isValid:!0},email:{message:"",isValid:!0},cedula:{message:"",isValid:!0},celular:{message:"",isValid:!0},fullName:{message:"",isValid:!0},roles:{message:"",isValid:!0},permisos:{message:"",isValid:!0},horarios_dias:{message:"",isValid:!0},horarios_time:{message:"",isValid:!0},company:{message:"",isValid:!0},sucursales:{message:"",isValid:!0},password:{message:"",isValid:!0},confirmPassword:{message:"",isValid:!0}}),Kl=async()=>{const{data:e}=await $e.get("/companies");return e},Hl=()=>{const{mostrarNotify:e}=zl(),z=_l(),F=()=>{g.value.email="",g.value.password="",g.value.cedula="",g.value.celular="",g.value.fullName="",g.value.usuario="",g.value.company="",g.value.roles=[""],g.value.permisos=[],g.value.horarios_dias=[],g.value.horarios_time=[],g.value.receiveSupportEmail=!1},H=$=>{let s=!1;var U=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;return["fullName","usuario","celular","company","confirmPassword","password","email"].forEach(R=>{!$&&(R!="password"||R!="confirmPassword")&&g.value[R].length==0&&(E.value[R].message="Debes completar este campo",E.value[R].isValid=!1,s=!0)}),g.value.company.length!=0&&g.value.roles[0].length==0&&(E.value.roles.message="Debes elegir un Rol",E.value.roles.isValid=!1,s=!0),g.value.company.length!==0&&g.value.roles[0]!=="Super-Administrador"&&g.value.roles[0]!=="Administrador"&&g.value.sucursales[0].length===0&&(E.value.sucursales.message="Debes elegir una sucursal",E.value.sucursales.isValid=!1,s=!0),(g.value.roles[0]=="Super-Administrador"||g.value.roles[0]=="Administrador")&&(g.value.sucursales=[""]),$?g.value.password!=null&&(g.value.password.length>0&&g.value.password.length<8&&(E.value.password.message="La contrase\xF1a debe tener minimo 8 caracter",E.value.password.isValid=!1,s=!0),g.value.confirmPassword.length>0&&g.value.confirmPassword.length<8?(E.value.confirmPassword.message="La contrase\xF1a debe tener minimo 8 caracter",E.value.confirmPassword.isValid=!1,s=!0):g.value.confirmPassword!=g.value.password&&(E.value.confirmPassword.message="Las contrase\xF1as no coinciden, verificar",E.value.confirmPassword.isValid=!1,s=!0)):(E.value.password.isValid&&g.value.password.length<8&&(E.value.password.message="La contrase\xF1a debe tener minimo 8 caracter",E.value.password.isValid=!1,s=!0),E.value.password.isValid&&g.value.confirmPassword.length<8?(E.value.confirmPassword.message="La contrase\xF1a debe tener minimo 8 caracter",E.value.confirmPassword.isValid=!1,s=!0):g.value.password.length!==0&&g.value.confirmPassword!=g.value.password&&(E.value.confirmPassword.message="Las contrase\xF1as no coinciden, verificar",E.value.confirmPassword.isValid=!1,s=!0)),E.value.email.isValid&&!U.test(g.value.email)&&(E.value.email.message="Ingresa un email valido",E.value.email.isValid=!1,s=!0),g.value.permisos.length==0&&(E.value.permisos.message="*Debes elegir al menos un permiso",E.value.permisos.isValid=!1,s=!0),s},I=async $=>{if(!H($))try{je.value=!0,$?await $e.patch("/auth/edit/"+g.value.id,g.value):await $e.post("/auth/register",{...g.value,fullName:g.value.fullName.toUpperCase()}),e("positive",`Usuario ${$?"editado":"creado"} exitosamente.`),je.value=!1,z.push({name:"Ver Usuarios"})}catch(s){console.log(s),je.value=!1,e("warning",s.response.data.message)}};return{getCompanies:Kl,formUser:g,loading:je,limpiarFormulario:F,expanded:D(["Seleccionar todos los permisos"]),onSubmit:I,validaciones:E,showPass:D(!0),showConfirmPass:D(!0)}},Ll={class:"row q-pt-sm"},Gl={class:"col-xs-12 col-md-8"},Wl={class:"row"},Ql=r("div",{class:"col-11 flex justify-start items-center"},[r("label",{class:"text-h6 text-weight-medium"},"Datos:")],-1),Ol=r("div",{class:"col-4 flex justify-end items-center"},[r("label",null,"Nombre:")],-1),Bl={class:"col-xs-7 col-sm-6 q-ml-md"},Yl=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",null,"Usuario:")],-1),Jl={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},Xl=r("div",{class:"col-4 flex justify-end items-center"},[r("label",null,"Email:")],-1),Zl={class:"col-xs-7 col-sm-6 q-ml-md"},ea=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",null,"T\xE9lefono Movil:")],-1),la={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},aa=r("label",{class:"text-h6 text-weight-medium"},"Configuraci\xF3n:",-1),ia=[aa],ta=r("div",{class:"col-4 flex justify-end items-center"},[r("label",{for:""},"Empresa:")],-1),sa={class:"col-xs-7 col-sm-6 q-ml-md"},oa={key:0,class:"col-4 flex justify-end items-center q-mt-sm"},na=r("label",null,"Rol:",-1),ra=[na],ua={key:1,class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},ca={key:2,class:"col-4 flex justify-end items-center q-mt-sm"},da=r("label",null,"Sucursal:",-1),va=[da],ma={key:3,class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},fa=r("div",{class:"col-4 flex justify-end items-center q-mt-sm"},[r("label",{for:""},"Estado:")],-1),ba={class:"col-xs-7 col-sm-6 q-ml-md q-mt-sm"},ga=r("div",{class:"col-4 flex justify-end items-center"},[r("label",{for:""},"Recibir correo soporte:")],-1),ha={class:"col-xs-7 col-sm-6 q-ml-md"},pa=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},null,-1),ya=r("div",{class:"col-6 q-ml-md q-my-sm"},null,-1),Ca=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",{for:""},"Horario Acceso:")],-1),_a={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm flex"},ka={style:{display:"flex","flex-direction":"column"}},xa=r("label",{class:"q-ml-md"}," Lunes ",-1),Sa={style:{display:"flex","flex-direction":"column"}},Aa=r("label",{class:"q-ml-md"}," Martes ",-1),Ea={style:{display:"flex","flex-direction":"column"}},qa=r("label",{class:"q-ml-md"}," Miercoles ",-1),Va={style:{display:"flex","flex-direction":"column"}},wa=r("label",{class:"q-ml-md"},"Jueves",-1),Ma={style:{display:"flex","flex-direction":"column"}},Pa=r("label",{class:"q-ml-md"}," Viernes ",-1),Fa={style:{display:"flex","flex-direction":"column"}},Na=r("label",{class:"q-ml-md"}," Sabado ",-1),Ra=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",{class:"q-mb-md"},"Horario:")],-1),Ta={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},za={class:"row"},Ia={class:"col-xs-12 col-sm-5"},ja={class:"row items-center justify-end"},Da={class:"col-xs-12 col-sm-5 offset-sm-1"},$a={class:"row items-center justify-end"},Ua={class:"col-11 flex justify-start items-center"},Ka=r("div",{class:"col-4 flex justify-end items-center"},[r("label",null,"Contrase\xF1a:")],-1),Ha={class:"col-xs-7 col-sm-6 q-ml-md"},La=r("div",{class:"col-4 flex justify-end items-center q-my-sm"},[r("label",{for:""},"Repite Contrase\xF1a:")],-1),Ga={class:"col-xs-7 col-sm-6 q-ml-md q-my-sm"},Wa={class:"col-xs-11 col-md-4"},Qa={class:"row"},Oa=r("label",{class:"text-h6 text-weight-medium"},"Permisos:",-1),Ba=[Oa],ri=kl({__name:"FormUser",props:{edit:{type:Boolean}},setup(e){const z=e,F=D([]),H=D([]);let I=!1;const{getCompanies:$,formUser:s,expanded:U,validaciones:b,showConfirmPass:R,showPass:X,loading:de,onSubmit:Z}=Hl();xl(async()=>{O()});const O=async()=>{F.value=[],(await $()).forEach(o=>{F.value.push({label:o.nombre_comercial,value:o.id})}),F.value};ye(()=>s.value.permisos,A=>{A.length>0?b.value.permisos.isValid=!0:b.value.permisos.isValid=!1}),ye(()=>s.value.company,A=>{B(s.value.company)});const B=async A=>{H.value=[],(!z.edit||I)&&(s.value.sucursales=[""]),I=!0;const{data:o}=await $e.get(`/sucursal/find/${A}/company`);o.forEach(n=>{H.value.push({label:n.nombre,value:n.id})})};return(A,o)=>(J(),Re(Tl,{onSubmit:o[36]||(o[36]=n=>t(Z)(z.edit))},{default:y(()=>[f(ql,{class:"my-card"},{default:y(()=>[f(Sl,{class:"q-pt-none"},{default:y(()=>[r("div",Ll,[r("div",Gl,[r("div",Wl,[Ql,Ol,r("div",Bl,[f(ie,{modelValue:t(s).fullName,"onUpdate:modelValue":[o[0]||(o[0]=n=>t(s).fullName=n),o[1]||(o[1]=n=>t(b).fullName.isValid=!0)],modelModifiers:{trim:!0},error:!t(b).fullName.isValid,"input-style":"text-transform: uppercase;",dense:"",outlined:""},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).fullName.message),3)]),_:1},8,["modelValue","error"])]),Yl,r("div",Jl,[f(ie,{modelValue:t(s).usuario,"onUpdate:modelValue":[o[2]||(o[2]=n=>t(s).usuario=n),o[3]||(o[3]=n=>t(b).usuario.isValid=!0)],modelModifiers:{trim:!0},error:!t(b).usuario.isValid,dense:"",outlined:""},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).usuario.message),3)]),append:y(()=>[f(L,{name:"person",size:"1.3rem"})]),_:1},8,["modelValue","error"])]),Xl,r("div",Zl,[f(ie,{modelValue:t(s).email,"onUpdate:modelValue":[o[4]||(o[4]=n=>t(s).email=n),o[5]||(o[5]=n=>t(b).email.isValid=!0)],modelModifiers:{trim:!0},error:!t(b).email.isValid,type:"text",dense:"",outlined:""},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).email.message),3)]),append:y(()=>[f(L,{name:"mail",size:"1.2rem"})]),_:1},8,["modelValue","error"])]),ea,r("div",la,[f(ie,{modelValue:t(s).celular,"onUpdate:modelValue":[o[6]||(o[6]=n=>t(s).celular=n),o[8]||(o[8]=n=>t(b).celular.isValid=!0)],counter:"",maxlength:"10",onKeyup:o[7]||(o[7]=n=>t(s).celular=t(s).celular.replace(/\D/g,"")),"lazy-rules":"",error:!t(b).celular.isValid,dense:"",outlined:""},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).celular.message),3)]),append:y(()=>[f(L,{name:"call",size:"1.2rem"})]),_:1},8,["modelValue","error"])]),r("div",{class:j(["col-11 flex justify-start items-center",[A.$q.screen.xs?"q-my-md":""]])},ia,2),ta,r("div",sa,[f(ze,{color:"orange","transition-show":"scale","transition-hide":"scale",outlined:"",modelValue:t(s).company,"onUpdate:modelValue":[o[9]||(o[9]=n=>t(s).company=n),o[10]||(o[10]=n=>t(b).company.isValid=!0)],dense:"",error:!t(b).company.isValid,options:F.value,"emit-value":"","map-options":""},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).company.message),3)]),"no-option":y(()=>[f(Oe,null,{default:y(()=>[f(Be,{class:"text-grey"},{default:y(()=>[Te(" No hay resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","options"])]),t(s).company.length!==0?(J(),Se("div",oa,ra)):he("",!0),t(s).company.length!==0?(J(),Se("div",ua,[f(ze,{modelValue:t(s).roles[0],"onUpdate:modelValue":[o[11]||(o[11]=n=>t(s).roles[0]=n),o[12]||(o[12]=n=>t(b).roles.isValid=!0)],outlined:"",dense:"","transition-show":"scale","transition-hide":"scale",error:!t(b).roles.isValid,options:["Super-Administrador","Administrador","Pagos","Soporte Tecnico","Vendedor"]},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).roles.message),3)]),_:1},8,["modelValue","error"])])):he("",!0),t(s).roles[0]!==""&&t(s).company.length!==0&&t(s).roles[0]!=="Administrador"&&t(s).roles[0]!=="Super-Administrador"?(J(),Se("div",ca,va)):he("",!0),t(s).roles[0]!==""&&t(s).company.length!==0&&t(s).roles[0]!=="Administrador"&&t(s).roles[0]!=="Super-Administrador"?(J(),Se("div",ma,[f(ze,{modelValue:t(s).sucursales[0],"onUpdate:modelValue":[o[13]||(o[13]=n=>t(s).sucursales[0]=n),o[14]||(o[14]=n=>t(b).sucursales.isValid=!0)],outlined:"",dense:"",required:"","emit-value":"","map-options":"","transition-show":"scale","transition-hide":"scale",error:!t(b).sucursales.isValid,options:H.value},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).sucursales.message),3)]),"no-option":y(()=>[f(Oe,null,{default:y(()=>[f(Be,{class:"text-grey"},{default:y(()=>[Te(" No se encontro resultados ")]),_:1})]),_:1})]),_:1},8,["modelValue","error","options"])])):he("",!0),fa,r("div",ba,[f(ze,{modelValue:t(s).isActive,"onUpdate:modelValue":o[15]||(o[15]=n=>t(s).isActive=n),outlined:"",dense:"","emit-value":"","map-options":"",options:[{label:"Activo",value:!0},{label:"Inactivo",value:!1}]},{append:y(()=>[t(s).isActive?(J(),Re(L,{key:0,size:"1.2rem",name:"fa-solid fa-user-check"})):(J(),Re(L,{key:1,name:"fa-solid fa-user-xmark",size:"1.2rem"}))]),_:1},8,["modelValue"])]),ga,r("div",ha,[f(ce,{color:"green",size:"lg",modelValue:t(s).receiveSupportEmail,"onUpdate:modelValue":o[16]||(o[16]=n=>t(s).receiveSupportEmail=n)},null,8,["modelValue"])]),pa,ya,Ca,r("div",_a,[r("div",ka,[f(ce,{class:"q-ml-sm",size:"lg",val:"Lunes",modelValue:t(s).horarios_dias,"onUpdate:modelValue":o[17]||(o[17]=n=>t(s).horarios_dias=n)},null,8,["modelValue"]),xa]),r("div",Sa,[f(ce,{class:"q-ml-sm",size:"lg",val:"Martes",modelValue:t(s).horarios_dias,"onUpdate:modelValue":o[18]||(o[18]=n=>t(s).horarios_dias=n)},null,8,["modelValue"]),Aa]),r("div",Ea,[f(ce,{class:"q-ml-sm",size:"lg",val:"Miercoles",modelValue:t(s).horarios_dias,"onUpdate:modelValue":o[19]||(o[19]=n=>t(s).horarios_dias=n)},null,8,["modelValue"]),qa]),r("div",Va,[f(ce,{class:"q-ml-sm",size:"lg",val:"Jueves",modelValue:t(s).horarios_dias,"onUpdate:modelValue":o[20]||(o[20]=n=>t(s).horarios_dias=n)},null,8,["modelValue"]),wa]),r("div",Ma,[f(ce,{class:"q-ml-sm",size:"lg",val:"Viernes",modelValue:t(s).horarios_dias,"onUpdate:modelValue":o[21]||(o[21]=n=>t(s).horarios_dias=n)},null,8,["modelValue"]),Pa]),r("div",Fa,[f(ce,{class:"q-ml-sm",size:"lg",val:"Sabado",modelValue:t(s).horarios_dias,"onUpdate:modelValue":o[22]||(o[22]=n=>t(s).horarios_dias=n)},null,8,["modelValue"]),Na])]),Ra,r("div",Ta,[r("div",za,[r("div",Ia,[f(ie,{outlined:"",modelValue:t(s).horarios_time[0],"onUpdate:modelValue":o[24]||(o[24]=n=>t(s).horarios_time[0]=n),mask:"time",dense:""},{append:y(()=>[f(L,{name:"access_time",class:"cursor-pointer"},{default:y(()=>[f(Ye,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:y(()=>[f(Xe,{modelValue:t(s).horarios_time[0],"onUpdate:modelValue":o[23]||(o[23]=n=>t(s).horarios_time[0]=n)},{default:y(()=>[r("div",ja,[De(f(Ae,{label:"Close",color:"primary",flat:""},null,512),[[Je]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",Da,[f(ie,{outlined:"",modelValue:t(s).horarios_time[1],"onUpdate:modelValue":o[26]||(o[26]=n=>t(s).horarios_time[1]=n),mask:"time",dense:""},{append:y(()=>[f(L,{name:"access_time",class:"cursor-pointer"},{default:y(()=>[f(Ye,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:y(()=>[f(Xe,{modelValue:t(s).horarios_time[1],"onUpdate:modelValue":o[25]||(o[25]=n=>t(s).horarios_time[1]=n)},{default:y(()=>[r("div",$a,[De(f(Ae,{label:"Close",color:"primary",flat:""},null,512),[[Je]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),r("div",Ua,[r("label",{class:j(["text-h6 text-weight-medium",[A.$q.screen.xs?"q-my-md":""]])}," Nueva Contrase\xF1a: ",2)]),Ka,r("div",Ha,[f(ie,{type:t(X)?"password":"text",outlined:"",dense:"","onUpdate:modelValue":[o[28]||(o[28]=n=>t(b).password.isValid=!0),o[29]||(o[29]=n=>t(s).password=n)],error:!t(b).password.isValid,modelValue:t(s).password,modelModifiers:{trim:!0}},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).password.message),3)]),append:y(()=>[f(L,{name:t(X)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:o[27]||(o[27]=n=>X.value=!t(X))},null,8,["name"])]),prepend:y(()=>[f(L,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","error","modelValue"])]),La,r("div",Ga,[f(ie,{type:t(R)?"password":"text",outlined:"",dense:"","onUpdate:modelValue":[o[31]||(o[31]=n=>t(b).confirmPassword.isValid=!0),o[32]||(o[32]=n=>t(s).confirmPassword=n)],error:!t(b).confirmPassword.isValid,modelValue:t(s).confirmPassword,modelModifiers:{trim:!0}},{error:y(()=>[r("label",{class:j(A.$q.dark.isActive?"text-red-4":"text-negative")},Q(t(b).confirmPassword.message),3)]),append:y(()=>[f(L,{name:t(R)?"visibility_off":"visibility",color:"blue-grey",class:"cursor-pointer",onClick:o[30]||(o[30]=n=>R.value=!t(R))},null,8,["name"])]),prepend:y(()=>[f(L,{name:"key",color:"blue-grey-3"})]),_:1},8,["type","error","modelValue"])])])]),r("div",Wa,[r("div",Qa,[r("div",{class:j(["col-11 flex justify-start items-center",[A.$q.screen.xs?"q-my-md":""]])},Ba,2),f($l,{class:j(["col-xs-11 col-sm-11 col-sm-11",[A.$q.screen.xs?"offset-1":""]]),"default-expand-all":!1,nodes:t(Ul),"label-key":"label","node-key":"value","control-color":"deep-orange-14","tick-strategy":"leaf",expanded:t(U),"onUpdate:expanded":o[33]||(o[33]=n=>Al(U)?U.value=n:null),ticked:t(s).permisos,"onUpdate:ticked":o[34]||(o[34]=n=>t(s).permisos=n)},null,8,["class","nodes","expanded","ticked"]),t(b).permisos.isValid?he("",!0):(J(),Se("div",{key:0,class:j(["col-11 text-center",A.$q.dark.isActive?"text-red-4":"text-negative"])},[r("label",null,Q(t(b).permisos.message),1)],2))])])])]),_:1}),f(El,{class:j(["q-pb-md",[t(Qe).width<600?"justify-center q-ml-xl":"justify-between"]])},{default:y(()=>[t(Qe).width>600?(J(),Re(Ae,{key:0,type:"submit",icon:"arrow_back",onClick:o[35]||(o[35]=n=>A.$router.push("/usuarios")),outline:"",rounded:"",class:"q-mr-lg",color:A.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:y(()=>[Te(" \xA0 Regresar ")]),_:1},8,["color"])):he("",!0),f(Ae,{type:"submit",icon:"save",loading:t(de),outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:y(()=>[Te(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])]),_:1},8,["class"])]),_:1})]),_:1}))}});export{ri as _,Hl as u};

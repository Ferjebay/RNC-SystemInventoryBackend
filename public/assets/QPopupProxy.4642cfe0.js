import{a as x}from"./date.c89e349e.js";import{p as f}from"./format.2bc25e5f.js";import{n as c,m as w,r as p,v as P,b3 as j,p as C,z as D,aT as S}from"./index.63602cd2.js";import{u as B,g as Q,b as k}from"./QItemLabel.b338ce31.js";const M=["gregorian","persian"],E={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>M.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},F=["update:modelValue"];function I(e){return e.year+"/"+f(e.month)+"/"+f(e.day)}function T(e,d){const l=c(()=>e.disable!==!0&&e.readonly!==!0),m=c(()=>l.value===!0?0:-1),s=c(()=>{const a=[];return e.color!==void 0&&a.push(`bg-${e.color}`),e.textColor!==void 0&&a.push(`text-${e.textColor}`),a.join(" ")});function g(){return e.locale!==void 0?{...d.lang.date,...e.locale}:d.lang.date}function r(a){const n=new Date,u=a===!0?null:0;if(e.calendar==="persian"){const o=x(n);return{year:o.jy,month:o.jm,day:o.jd}}return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:u,minute:u,second:u,millisecond:u}}return{editable:l,tabindex:m,headerClass:s,getLocale:g,getCurrentDate:r}}var V=w({name:"QPopupProxy",props:{...B,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:d,emit:l,attrs:m}){const{proxy:s}=D(),{$q:g}=s,r=p(!1),a=p(null),n=c(()=>parseInt(e.breakpoint,10)),{canShow:u}=Q({showing:r});function o(){return g.screen.width<n.value||g.screen.height<n.value?"dialog":"menu"}const i=p(o()),v=c(()=>i.value==="menu"?{maxHeight:"99vh"}:{});P(()=>o(),t=>{r.value!==!0&&(i.value=t)});function y(t){r.value=!0,l("show",t)}function b(t){r.value=!1,i.value=o(),l("hide",t)}return Object.assign(s,{show(t){u(t)===!0&&a.value.show(t)},hide(t){a.value.hide(t)},toggle(t){a.value.toggle(t)}}),j(s,"currentComponent",()=>({type:i.value,ref:a.value})),()=>{const t={ref:a,...v.value,...m,onShow:y,onHide:b};let h;return i.value==="dialog"?h=S:(h=k,Object.assign(t,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),C(h,t,d.default)}}});export{V as Q,F as a,T as b,I as g,E as u};

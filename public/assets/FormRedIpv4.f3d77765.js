import{d as E,r as f,D as I,o as v,a7 as h,g as u,ab as a,e as r,ac as i,f as m,a9 as b,Q as C,i as D,c as U,ag as F,ah as L,h as $,a8 as y,ad as T,R as z}from"./index.0d55ca8e.js";import{Q as x}from"./QSelect.598c9ca3.js";import{Q as M}from"./QBadge.9538e355.js";import{Q as P}from"./QExpansionItem.55bc93d0.js";import{Q as G}from"./QForm.06043634.js";import{C as K}from"./ClosePopup.eed3576d.js";import{u as Y}from"./useRedIpv4.9ced3d13.js";const H={class:"col-xs-12 col-md-6"},J={class:"row"},O={class:"col-xs-12 col-md-7"},W={class:"col-xs-12 col-md-6"},X={class:"row"},Z={class:"col-xs-12 col-md-7"},ee={class:"col-xs-12 col-md-6"},le={class:"row"},se={class:"col-xs-12 col-md-7"},te={class:"col-xs-12 col-md-6"},ae={class:"row"},re={class:"col-xs-12 col-md-7"},pe=E({__name:"FormRedIpv4",props:{edit:{type:Boolean}},setup(w){const g=w,p=f(!0);let c=f("");const{cargarRouter:V,formRed:l,loading:j,listRouter:k,validaciones:d,onSubmit:A}=Y(g.edit),n=f([{label:"CLASE A",active:!0,children:[{label:"8 (255.0.0.0 - 16777214 hosts, 16777216 IP)"},{label:"9 (255.128.0.0 - 8388606 hosts, 8388608 IP)"},{label:"10 (255.192.0.0 - 4194302 hosts, 4194304 IP)"},{label:"11 (255.224.0.0 - 2097150 hosts, 2097152 IP)"},{label:"12 (255.240.0.0 - 1048574 hosts, 1048576 IP)"},{label:"13 (255.248.0.0 - 524286 hosts, 524288 IP)"},{label:"14 (255.252.0.0 - 262142 hosts, 262144 IP)"},{label:"15 (255.254.0.0 - 131070 hosts, 131072 IP)"}]},{label:"CLASE B",active:!0,children:[{label:"16 (255.255.0.0 - 65534 hosts, 65536 IP)"},{label:"17 (255.255.128.0 - 32766 hosts, 32768 IP)"},{label:"18 (255.255.192.0 - 16382 hosts, 16384 IP)"},{label:"19 (255.255.224.0 - 8190 hosts, 8192 IP)"},{label:"20 (255.255.240.0 - 4094 hosts, 4096 IP)"},{label:"21 (255.255.248.0 - 2046 hosts, 2048 IP)"},{label:"22 (255.255.252.0 - 1022 hosts, 1024 IP)"},{label:"23 (255.255.254.0 - 510 hosts, 512 IP)"}]},{label:"CLASE C",active:!0,children:[{label:"24 (255.255.255.0 - 254 hosts, 256 IP)"},{label:"25 (255.255.255.128 - 126 hosts, 128 IP)"},{label:"26 (255.255.255.192 - 62 hosts, 64 IP)"},{label:"27 (255.255.255.224 - 30 hosts, 32 IP)"},{label:"28 (255.255.255.240 - 14 hosts, 16 IP)"},{label:"29 (255.255.255.248 - 6 hosts, 8 IP)"},{label:"30 (255.255.255.252 - 2 hosts, 4 IP)"},{label:"31 (255.255.255.254 - 0 hosts, 2 IP)"},{label:"32 (255.255.255.252 - 0 hosts, 1 IP)"}]}]),R=s=>s.opt.children.some(e=>e.label===l.value.cidr),_=s=>{const e=s.split(".").map(Number);return e[0]===10?"Clase A":e[0]===172&&e[1]>=16&&e[1]<=31?"Clase B":e[0]===192&&e[1]===168?"Clase C":"No es una red privada."},Q=s=>{d.value.red.isValid=!0;const e=s.target.value.replace(/[^0-9.]/g,"");l.value.red=e,B()};I(()=>l.value.cidr,s=>{N(s),d.value.cidr.isValid=!0});const B=()=>{l.value.red.split(".").length==4&&l.value.red.split(".")[3]!=""?(c.value=_(l.value.red),c.value!="No es una red privada."?(p.value=!1,c.value=="Clase A"&&(n.value[0].active=!0,n.value[1].active=!0,n.value[2].active=!0),c.value=="Clase B"&&(n.value[0].active=!1,n.value[1].active=!0,n.value[2].active=!0),c.value=="Clase C"&&(n.value[0].active=!1,n.value[1].active=!1,n.value[2].active=!0)):(p.value=!0,d.value.red.isValid=!1,d.value.red.message=c.value)):p.value=!0},N=s=>{if(l.value.cidr.length>0){const e=s.split("-")[0].split(" ")[1].split("(")[1].split("."),t=parseInt(s.split("-")[0].split(" ")[0]),o=l.value.red.split(".");c.value=="Clase C"&&(o.splice(3,1),l.value.red=`${o.join(".")}.${e[3]}`),c.value=="Clase B"&&(t>=16&&t<=23?(o.splice(2,2),l.value.red=`${o.join(".")}.${e[2]}.0 `):(o.splice(3,1),l.value.red=`${o.join(".")}.${e[3]}`)),c.value=="Clase A"&&(t>=8&&t<=15?(o.splice(1,3),l.value.red=`${o.join(".")}.${e[1]}.0.0 `):t>=16&&t<=23?(o.splice(2,2),l.value.red=`${o.join(".")}.${e[2]}.0 `):(o.splice(3,1),l.value.red=`${o.join(".")}.${e[3]}`))}};return I(()=>l.value.red,s=>{setTimeout(()=>{if(l.value.cidr.length>1&&l.value.red.split(".").length==4&&l.value.red.split(".")[3]!=""){const e=l.value.red.split("."),t=n.value[2].children;let o=[];t.forEach(q=>{let S=parseInt(q.label.split("-")[0].split(" ")[1].split("(")[1].split(".")[3]);o.push(S)}),o.includes(parseInt(e[3]))||(l.value.cidr="")}},2e3)}),V(),(s,e)=>(v(),h(G,{onSubmit:e[8]||(e[8]=t=>a(A)(g.edit)),class:"q-mt-md"},{default:u(()=>[r("div",{class:i(["row q-col-gutter-md q-px-lg",s.$q.screen.width<1022||"q-col-gutter-y-lg q-pt-md"])},[r("div",H,[r("div",J,[r("div",{class:i(["col-xs-12 col-md-4 flex items-center justify-end",[s.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[r("label",{class:i(s.$q.screen.width<1022||"q-pr-md")}," Nombre: ",2)],2),r("div",O,[m(C,{modelValue:a(l).nombre,"onUpdate:modelValue":[e[0]||(e[0]=t=>a(l).nombre=t),e[1]||(e[1]=t=>(a(l).nombre=a(l).nombre.toUpperCase(),a(d).nombre.isValid=!0))],modelModifiers:{trim:!0},placeholder:"nombre de red",error:!a(d).nombre.isValid,"input-class":"resaltarTextoInput",dense:"",outlined:""},{error:u(()=>[r("label",{class:i(s.$q.dark.isActive?"text-red-4":"text-negative")},b(a(d).nombre.message),3)]),_:1},8,["modelValue","error"])])])]),r("div",W,[r("div",X,[r("div",{class:i(["col-xs-12 col-md-4 flex items-center justify-end",[s.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end q-pb-md"]])},[r("label",{class:i(s.$q.screen.width<1022||"q-pr-md")}," Router: ",2)],2),r("div",Z,[m(x,{dense:"",modelValue:a(l).router_id,"onUpdate:modelValue":[e[2]||(e[2]=t=>a(l).router_id=t),e[3]||(e[3]=t=>a(d).router_id.isValid=!0)],modelModifiers:{trim:!0},outlined:"",error:!a(d).router_id.isValid,"emit-value":"","map-options":"",options:a(k)},{error:u(()=>[r("label",{class:i(s.$q.dark.isActive?"text-red-4":"text-negative")},b(a(d).router_id.message),3)]),_:1},8,["modelValue","error","options"])])])]),r("div",ee,[r("div",le,[r("div",{class:i(["col-xs-12 col-md-4 flex items-center justify-end",[s.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"texto-rigth q-pb-md"]])},[r("label",{class:i(s.$q.screen.width<1022||"q-pr-md")}," Red: ",2)],2),r("div",se,[m(C,{modelValue:a(l).red,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).red=t),modelModifiers:{trim:!0},error:!a(d).red.isValid,onKeyup:e[5]||(e[5]=t=>Q(t)),"input-style":"padding-right: 27px;",hint:"Ejm: 192.168.1.0","input-class":"resaltarTextoInput",dense:"",outlined:""},{error:u(()=>[r("label",{class:i(s.$q.dark.isActive?"text-red-4":"text-negative")},b(a(d).red.message),3)]),append:u(()=>[m(M,{outlined:"",color:"blue-grey-6",style:{height:"100%",width:"19%",position:"absolute",right:"0px","justify-content":"center","font-size":"14px",cursor:"pointer"}},{default:u(()=>[m(D,{name:"fa-solid fa-network-wired",size:"xs"})]),_:1})]),_:1},8,["modelValue","error"])])])]),r("div",te,[r("div",ae,[r("div",{class:i(["col-xs-12 col-md-4 flex items-center justify-end",[s.$q.screen.width<1022?"justify-center q-mt-sm q-pb-xs":"justify-end q-pb-md"]])},[r("label",{class:i(s.$q.screen.width<1022||"q-pr-md")}," CIDR: ",2)],2),r("div",re,[m(x,{outlined:"",modelValue:a(l).cidr,"onUpdate:modelValue":e[6]||(e[6]=t=>a(l).cidr=t),options:n.value,dense:"",error:!a(d).cidr.isValid,readonly:p.value,color:"teal",clearable:"","options-selected-class":"text-deep-orange-8"},{option:u(t=>[m(P,{"expand-separator":"",disable:!t.opt.active,group:"somegroup","default-opened":R(t),"header-class":"text-weight-bold","header-style":"text-align: center;",label:t.opt.label},{default:u(()=>[(v(!0),U(L,null,F(t.opt.children,o=>z((v(),h(P,{key:o,"hide-expand-icon":"",clickable:"",class:i(a(l).cidr===o.label&&!s.$q.dark.isActive?"bg-indigo-3":a(l).cidr===o.label&&s.$q.dark.isActive?"bg-deep-purple-13":""),"dense-toggle":"",label:o.label,"header-inset-level":0,onClick:q=>a(l).cidr=o.label},null,8,["class","label","onClick"])),[[K]])),128))]),_:2},1032,["disable","default-opened","label"])]),error:u(()=>[r("label",{class:i(s.$q.dark.isActive?"text-red-4":"text-negative")},b(a(d).cidr.message),3)]),_:1},8,["modelValue","options","error","readonly"])])])]),r("div",{class:i(["col-xs-12 col-md-12 flex q-py-lg",[s.$q.screen.width<600?"justify-center q-pt-none q-mb-md q-ml-md":"justify-between"]])},[s.$q.screen.width>600?(v(),h($,{key:0,icon:"arrow_back",onClick:e[7]||(e[7]=t=>s.$router.push("/servicios/internet")),outline:"",rounded:"",class:"q-ml-md",color:s.$q.dark.isActive?"blue-grey-2":"blue-grey-10"},{default:u(()=>[y(" \xA0 Regresar ")]),_:1},8,["color"])):T("",!0),m($,{type:"submit",icon:"save",loading:a(j),outline:"",rounded:"",class:"q-mr-lg",style:{color:"#696cff"}},{default:u(()=>[y(" \xA0 Guardar Cambios ")]),_:1},8,["loading"])],2)],2)]),_:1}))}});export{pe as _};

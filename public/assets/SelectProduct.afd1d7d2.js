import{d as w,r as y,o as d,a9 as i,g as a,aU as P,f as o,aV as m,e as n,ae as h,ad as k,h as I,i as S,aa as s,ab as r}from"./index.a62a3008.js";import{Q as l}from"./QTd.b3062acc.js";import{Q}from"./QInnerLoading.3c0ff02f.js";import{Q as x}from"./QTable.05c15f57.js";import{u as C}from"./useProduct.f600be3d.js";const A=n("div",{class:"text-h6 text-center"},"Selecciona un producto",-1),B={class:"row q-gutter-sm"},q={class:"col-xs-12 col-sm-12 q-my-sm"},O=w({__name:"SelectProduct",props:{listProductos:{}},emits:["agregarProduct"],setup(_,{emit:f}){const u=_,g=[{name:"add",label:"Agregar"},{name:"codigoBarra",label:"Codigo Barra",align:"left",field:"codigoBarra"},{name:"producto",label:"Producto",align:"left",field:"nombre"},{name:"stock",label:"Stock",align:"center",field:"stock"},{name:"aplicaIva",label:"Aplica IVA",align:"center",field:"aplicaIva"},{name:"pvm",label:"Precio de Compra",align:"center",field:"pvm"},{name:"pvp",label:"P.V.P",align:"center",field:"pvp"},{name:"sucursal",label:"Sucursal",align:"center",field:"sucursal"}],{claim:t,sucursal_selected:v}=C();let c;t.roles[0]=="ADMINISTRADOR"||t.roles[0]=="SUPER-ADMINISTRADOR"?c=v.value:c=t.sucursales[0];const p=y([]);return u.listProductos.tipo,p.value=u.listProductos.data,(b,N)=>(d(),i(P,{style:{width:"1040px","max-width":"80vw"}},{default:a(()=>[o(m,{class:"q-pb-none"},{default:a(()=>[A]),_:1}),o(m,null,{default:a(()=>[n("div",B,[n("div",q,[o(x,{class:h([b.$q.dark.isActive?"":"my-sticky-header-table2"]),rows:p.value,columns:g,"hide-bottom":"","row-key":"name"},{"body-cell-add":a(e=>[o(l,{props:e},{default:a(()=>[k(c)==e.row.sucursal_id.id?(d(),i(I,{key:0,round:"",color:"green-9",class:"q-ml-md",size:"sm",onClick:V=>f("agregarProduct",e.row),icon:"fa-solid fa-plus"},null,8,["onClick"])):(d(),i(S,{key:1,color:"red-9",class:"q-ml-md",size:"sm",name:"fa-solid fa-ban"}))]),_:2},1032,["props"])]),"body-cell-descuento":a(e=>[o(l,{props:e},{default:a(()=>[s(r(e.row.descuento)+"% ",1)]),_:2},1032,["props"])]),"body-cell-aplicaIva":a(e=>[o(l,{props:e},{default:a(()=>[s(r(e.row.aplicaIva?"SI":"NO"),1)]),_:2},1032,["props"])]),"body-cell-pvp":a(e=>[o(l,{props:e},{default:a(()=>[s("$"+r(e.row.pvp),1)]),_:2},1032,["props"])]),"body-cell-pvm":a(e=>[o(l,{props:e},{default:a(()=>[s("$"+r(e.row.precio_compra),1)]),_:2},1032,["props"])]),"body-cell-sucursal":a(e=>[o(l,{props:e},{default:a(()=>[s(r(e.row.sucursal_id.nombre),1)]),_:2},1032,["props"])]),loading:a(()=>[o(Q,{showing:"",color:"primary"})]),_:1},8,["class","rows"])])])]),_:1})]),_:1}))}});export{O as _};
